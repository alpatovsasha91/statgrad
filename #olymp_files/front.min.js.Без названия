/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

// moment.js
// version : 2.0.0
// author : Tim Wood
// license : MIT
// momentjs.com

/**
 * jGrowl 1.2.12
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Written by Stan Lemon <stosh1985@gmail.com>
 * Last updated: 2013.02.14
 *
 * jGrowl is a jQuery plugin implementing unobtrusive userland notifications.  These
 * notifications function similarly to the Growl Framework available for
 * Mac OS X (http://growl.info).
 *
 * To Do:
 * - Move library settings to containers and allow them to be changed per container
 *
 * Changes in 1.1.12
 * - Added compressed versions using UglifyJS and Sqwish
 * - Improved README with configuration options explanation
 * - Added a source map
 *
 * Changes in 1.2.11
 * - Fix artifacts left behind by the shutdown method and text-cleanup
 *
 * Changes in 1.2.10
 * - Fix beforeClose to be called in click event
 *
 * Changes in 1.2.9
 * - Fixed BC break in jQuery 2.0 beta
 *
 * Changes in 1.2.8
 * - Fixes for jQuery 1.9 and the MSIE6 check, note that with jQuery 2.0 support
 *   jGrowl intends to drop support for IE6 altogether
 *
 * Changes in 1.2.6
 * - Fixed js error when a notification is opening and closing at the same time
 *
 * Changes in 1.2.5
 * - Changed wrapper jGrowl's options usage to "o" instead of $.jGrowl.defaults
 * - Added themeState option to control 'highlight' or 'error' for jQuery UI
 * - Ammended some CSS to provide default positioning for nested usage.
 * - Changed some CSS to be prefixed with jGrowl- to prevent namespacing issues
 * - Added two new options - openDuration and closeDuration to allow
 *   better control of notification open and close speeds, respectively
 *   Patch contributed by Jesse Vincet.
 * - Added afterOpen callback.  Patch contributed by Russel Branca.
 *
 * Changes in 1.2.4
 * - Fixed IE bug with the close-all button
 * - Fixed IE bug with the filter CSS attribute (special thanks to gotwic)
 * - Update IE opacity CSS
 * - Changed font sizes to use "em", and only set the base style
 *
 * Changes in 1.2.3
 * - The callbacks no longer use the container as context, instead they use the actual notification
 * - The callbacks now receive the container as a parameter after the options parameter
 * - beforeOpen and beforeClose now check the return value, if it's false - the notification does
 *   not continue.  The open callback will also halt execution if it returns false.
 * - Fixed bug where containers would get confused
 * - Expanded the pause functionality to pause an entire container.
 *
 * Changes in 1.2.2
 * - Notification can now be theme rolled for jQuery UI, special thanks to Jeff Chan!
 *
 * Changes in 1.2.1
 * - Fixed instance where the interval would fire the close method multiple times.
 * - Added CSS to hide from print media
 * - Fixed issue with closer button when div { position: relative } is set
 * - Fixed leaking issue with multiple containers.  Special thanks to Matthew Hanlon!
 *
 * Changes in 1.2.0
 * - Added message pooling to limit the number of messages appearing at a given time.
 * - Closing a notification is now bound to the notification object and triggered by the close button.
 *
 * Changes in 1.1.2
 * - Added iPhone styled example
 * - Fixed possible IE7 bug when determining if the ie6 class shoudl be applied.
 * - Added template for the close button, so that it's content could be customized.
 *
 * Changes in 1.1.1
 * - Fixed CSS styling bug for ie6 caused by a mispelling
 * - Changes height restriction on default notifications to min-height
 * - Added skinned examples using a variety of images
 * - Added the ability to customize the content of the [close all] box
 * - Added jTweet, an example of using jGrowl + Twitter
 *
 * Changes in 1.1.0
 * - Multiple container and instances.
 * - Standard $.jGrowl() now wraps $.fn.jGrowl() by first establishing a generic jGrowl container.
 * - Instance methods of a jGrowl container can be called by $.fn.jGrowl(methodName)
 * - Added glue preferenced, which allows notifications to be inserted before or after nodes in the container
 * - Added new log callback which is called before anything is done for the notification
 * - Corner's attribute are now applied on an individual notification basis.
 *
 * Changes in 1.0.4
 * - Various CSS fixes so that jGrowl renders correctly in IE6.
 *
 * Changes in 1.0.3
 * - Fixed bug with options persisting across notifications
 * - Fixed theme application bug
 * - Simplified some selectors and manipulations.
 * - Added beforeOpen and beforeClose callbacks
 * - Reorganized some lines of code to be more readable
 * - Removed unnecessary this.defaults context
 * - If corners plugin is present, it's now customizable.
 * - Customizable open animation.
 * - Customizable close animation.
 * - Customizable animation easing.
 * - Added customizable positioning (top-left, top-right, bottom-left, bottom-right, center)
 *
 * Changes in 1.0.2
 * - All CSS styling is now external.
 * - Added a theme parameter which specifies a secondary class for styling, such
 *   that notifications can be customized in appearance on a per message basis.
 * - Notification life span is now customizable on a per message basis.
 * - Added the ability to disable the global closer, enabled by default.
 * - Added callbacks for when a notification is opened or closed.
 * - Added callback for the global closer.
 * - Customizable animation speed.
 * - jGrowl now set itself up and tears itself down.
 *
 * Changes in 1.0.1:
 * - Removed dependency on metadata plugin in favor of .data()
 * - Namespaced all events
 */

/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */

/**
 *  jQuery.observeHashChange (Version: 1.0)
 *
 *  http://finnlabs.github.com/jquery.observehashchange/
 *
 *  Copyright (c) 2009, Gregor Schmidt, Finn GmbH
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a
 *  copy of this software and associated documentation files (the "Software"),
 *  to deal in the Software without restriction, including without limitation
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense,
 *  and/or sell copies of the Software, and to permit persons to whom the
 *  Software is furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included in
 *  all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 *  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 *  DEALINGS IN THE SOFTWARE.
 **/

/* ===================================================
 * bootstrap-transition.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ==========================================================
 * bootstrap-alert.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ============================================================
 * bootstrap-button.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-carousel.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* =============================================================
 * bootstrap-collapse.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ============================================================
 * bootstrap-dropdown.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =========================================================
 * bootstrap-modal.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ===========================================================
 * bootstrap-popover.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */

/* =============================================================
 * bootstrap-scrollspy.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */

/* ========================================================
 * bootstrap-tab.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */

/* =============================================================
 * bootstrap-typeahead.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-affix.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/*!
 * jQuery UI Widget 1.10.2
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*
 * jQuery File Upload Plugin 5.28.8
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*
 RequireJS text 0.27.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/

/**
* @version: 1.1
* @author: Dan Grossman http://www.dangrossman.info/
* @date: 2013-03-04
* @copyright: Copyright (c) 2012 Dan Grossman. All rights reserved.
* @license: Licensed under Apache License v2.0. See http://www.apache.org/licenses/LICENSE-2.0
* @website: http://www.improvely.com/
*/

// Peity jQuery plugin version 3.2.0
// (c) 2015 Ben Pickles
//
// http://benpickles.github.io/peity
//
// Released under MIT license.

// Knockout JavaScript library v2.3.0
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

/// (c) 2013 Steven Sanderson, Roy Jacobs - http://knockoutjs.com/

/// License: MIT (http://www.opensource.org/licenses/mit-license.php)

/*=============================================================================
	Author:			Eric M. Barnard - @ericmbarnard								
	License:		MIT (http://opensource.org/licenses/mit-license.php)		
																				
	Description:	Validation Library for KnockoutJS							
===============================================================================
*/

/**
 * Copyright (c) 2009 Sergiy Kovalchuk (serg472@gmail.com)
 * 
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *  
 * Following code is based on Element.mask() implementation from ExtJS framework (http://extjs.com/)
 *
 */

function plural(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function relativeTimeWithPlural(e,t,n){var i={mm:"минута_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===n?t?"минута":"минуту":e+" "+plural(i[n],+e)}function monthsCaseReplace(e,t){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]? *MMMM?/.test(t)?"accusative":"nominative"][e.month()]}function weekdaysCaseReplace(e,t){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]}require.config({baseUrl:"/static",paths:{jquery:"assets/jquery/jquery-1.9.1",chosen:"assets/jquery/chosen.jquery","jquery.fileupload":"assets/fileupload/js/jquery.fileupload","jquery.iframe-transport":"assets/fileupload/js/jquery.iframe-transport","jquery.jgrowl":"assets/jquery/jquery.jgrowl","jquery.cookie":"assets/jquery/jquery.cookie","jquery.loadmask":"assets/jquery/jquery.loadmask","jquery.ui.widget":"assets/jquery-ui-1.10.2/ui/jquery.ui.widget","jquery.readmore":"assets/jquery/jquery.readmore","jquery-migrate":"assets/jquery-migrate/jquery-migrate","jquery.hashchange":"assets/jquery.hashchange/jquery.hashchange","jquery.peity":"assets/peity/jquery.peity",text:"assets/require/text",underscore:"assets/underscore/underscore-1.8.3",backbone:"assets/backbone/backbone-1.2.3",knockout:"assets/knockout/knockout-2.3.0.debug","knockout.mapping":"assets/knockout/knockout.mapping.2.4.1","knockout.validation":"assets/knockout/knockout.validation",moment:"assets/js/moment-ru",json2:"assets/js/json2",bootstrap:"assets/bootstrap/js/bootstrap-2.3.1","bootstrap.daterangepicker":"assets/bootstrap-daterangepicker/daterangepicker",sgtasks:"sgtasks",sgsupport:"sgsupport",sgstocksearch:"sgstocksearch",sguploader:"sguploader",sgkb:"sgkb",sgpayment:"sgpayment","sgpayment-yandex":"sgpayment-yandex",sgneofeed:"sgneofeed",sgreport:"sgreport",sgioconstructor:"sgioconstructor"},shim:{json2:{deps:["jquery"]},"jquery.loadmask":{deps:["jquery"]},"jquery.ui.widget":{deps:["jquery"]},"jquery.fileupload":{deps:["jquery","jquery.ui.widget","jquery.iframe-transport"]},"jquery.hashchange":{deps:["jquery","jquery-migrate"]},"jquery-migrate":{deps:["jquery"]},"jquery.jgrowl":{deps:["jquery"],exports:"jquery"},"jquery.cookie":{deps:["jquery"],exports:"jquery"},"jquery.peity":{deps:["jquery"],exports:"jquery"},underscore:{exports:"_"},backbone:{deps:["underscore","jquery","json2"],exports:"Backbone"},chosen:{deps:["jquery"],exports:"$.fn.chosen"},bootstrap:{deps:["jquery"],exports:"jquery"},"bootstrap.daterangepicker":{deps:["bootstrap","jquery","moment"],exports:"jquery"}}}),define("main",function(){}),function(e,t){function n(e){var t=e.length,n=se.type(e);return!se.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function i(e){var t=xe[e]={};return se.each(e.match(ue)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(se.acceptData(e)){var a,o,s=se.expando,l="string"==typeof n,u=e.nodeType,c=u?se.cache:e,d=u?e[s]:e[s]&&s;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[s]=d=K.pop()||se.guid++:d=s),c[d]||(c[d]={},u||(c[d].toJSON=se.noop)),"object"!=typeof n&&"function"!=typeof n||(r?c[d]=se.extend(c[d],n):c[d].data=se.extend(c[d].data,n)),a=c[d],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[se.camelCase(n)]=i),l?null==(o=a[n])&&(o=a[se.camelCase(n)]):o=a,o}}function a(e,t,n){if(se.acceptData(e)){var i,r,a,o=e.nodeType,l=o?se.cache:e,u=o?e[se.expando]:se.expando;if(l[u]){if(t&&(a=n?l[u]:l[u].data)){se.isArray(t)?t=t.concat(se.map(t,se.camelCase)):t in a?t=[t]:(t=se.camelCase(t),t=t in a?[t]:t.split(" "));for(i=0,r=t.length;i<r;i++)delete a[t[i]];if(!(n?s:se.isEmptyObject)(a))return}(n||(delete l[u].data,s(l[u])))&&(o?se.cleanData([e],!0):se.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}}function o(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(De,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ke.test(i)?se.parseJSON(i):i)}catch(e){}se.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!se.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,se.isFunction(t))return se.grep(e,function(e,i){return!!t.call(e,i,e)===n});if(t.nodeType)return se.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=se.grep(e,function(e){return 1===e.nodeType});if(Be.test(t))return se.filter(t,i,!n);t=se.filter(t,i)}return se.grep(e,function(e){return se.inArray(e,t)>=0===n})}function f(e){var t=ze.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)se._data(n,"globalEval",!t||se._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&se.hasData(e)){var n,i,r,a=se._data(e),o=se._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)se.event.add(t,n,s[n][i])}o.data&&(o.data=se.extend({},o.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!se.support.noCloneEvent&&t[se.expando]){r=se._data(t);for(i in r.events)se.removeEvent(t,i,r.handle);t.removeAttribute(se.expando)}"script"===n&&t.text!==e.text?(h(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),se.support.html5Clone&&e.innerHTML&&!se.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,a=0,o=typeof e.getElementsByTagName!==G?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],i=e.childNodes||e;null!=(r=i[a]);a++)!n||se.nodeName(r,n)?o.push(r):se.merge(o,b(r,n));return n===t||n&&se.nodeName(e,n)?se.merge([e],o):o}function w(e){et.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=kt.length;r--;)if((t=kt[r]+n)in e)return t;return i}function x(e,t){return e=t||e,"none"===se.css(e,"display")||!se.contains(e.ownerDocument,e)}function k(e,t){for(var n,i,r,a=[],o=0,s=e.length;o<s;o++)i=e[o],i.style&&(a[o]=se._data(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(a[o]=se._data(i,"olddisplay",E(i.nodeName)))):a[o]||(r=x(i),(n&&"none"!==n||!r)&&se._data(i,"olddisplay",r?n:se.css(i,"display"))));for(o=0;o<s;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function D(e,t,n){var i=gt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=se.css(e,n+xt[a],!0,r)),i?("content"===n&&(o-=se.css(e,"padding"+xt[a],!0,r)),"margin"!==n&&(o-=se.css(e,"border"+xt[a]+"Width",!0,r))):(o+=se.css(e,"padding"+xt[a],!0,r),"padding"!==n&&(o+=se.css(e,"border"+xt[a]+"Width",!0,r)));return o}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=ut(e),o=se.support.boxSizing&&"border-box"===se.css(e,"boxSizing",!1,a);if(r<=0||null==r){if(r=ct(e,t,a),(r<0||null==r)&&(r=e.style[t]),vt.test(r))return r;i=o&&(se.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(o?"border":"content"),i,a)+"px"}function E(e){var t=U,n=bt[e];return n||(n=S(e,t),"none"!==n&&n||(lt=(lt||se("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(lt[0].contentWindow||lt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=S(e,t),lt.detach()),bt[e]=n),n}function S(e,t){var n=se(t.createElement(e)).appendTo(t.body),i=se.css(n[0],"display");return n.remove(),i}function j(e,t,n,i){var r;if(se.isArray(t))se.each(t,function(t,r){n||Ct.test(e)?i(e,r):j(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==se.type(t))i(e,t);else for(r in t)j(e+"["+r+"]",t[r],n,i)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(ue)||[];if(se.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function N(e,t,n,i){function r(s){var l;return a[s]=!0,se.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=e===Bt;return r(t.dataTypes[0])||!a["*"]&&r("*")}function F(e,n){var i,r,a=se.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((a[r]?e:i||(i={}))[r]=n[r]);return i&&se.extend(!0,e,i),e}function A(e,n,i){var r,a,o,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(s in c)s in i&&(n[c[s]]=i[s]);for(;"*"===u[0];)u.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){u.unshift(s);break}if(u[0]in i)o=u[0];else{for(s in i){if(!u[0]||e.converters[s+" "+u[0]]){o=s;break}r||(r=s)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),i[o]}function M(e,t){var n,i,r,a,o={},s=0,l=e.dataTypes.slice(),u=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(r in e.converters)o[r.toLowerCase()]=e.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==u&&u!==i){if(!(r=o[u+" "+i]||o["* "+i]))for(n in o)if(a=n.split(" "),a[1]===i&&(r=o[u+" "+a[0]]||o["* "+a[0]])){!0===r?r=o[n]:!0!==o[n]&&(i=a[0],l.splice(s--,0,i));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function $(){try{return new e.XMLHttpRequest}catch(e){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function P(){return setTimeout(function(){Xt=t}),Xt=se.now()}function H(e,t){se.each(t,function(t,n){for(var i=(nn[t]||[]).concat(nn["*"]),r=0,a=i.length;r<a;r++)if(i[r].call(e,t,n))return})}function R(e,t,n){var i,r,a=0,o=tn.length,s=se.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Xt||P(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,a=1-i,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(a);return s.notifyWith(e,[u,a,n]),a<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:se.extend({},t),opts:se.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xt||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=se.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(L(c,u.opts.specialEasing);a<o;a++)if(i=tn[a].call(u,e,c,u.opts))return i;return H(u,c),se.isFunction(u.opts.start)&&u.opts.start.call(e,u),se.fx.timer(se.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(e,t){var n,i,r,a,o;for(r in e)if(i=se.camelCase(r),a=t[i],n=e[r],se.isArray(n)&&(a=n[1],n=e[r]=n[0]),r!==i&&(e[i]=n,delete e[r]),(o=se.cssHooks[i])&&"expand"in o){n=o.expand(n),delete e[i];for(r in n)r in e||(e[r]=n[r],t[r]=a)}else t[i]=a}function q(e,t,n){var i,r,a,o,s,l,u,c,d,f=this,p=e.style,h={},m=[],g=e.nodeType&&x(e);n.queue||(c=se._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,se.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===se.css(e,"display")&&"none"===se.css(e,"float")&&(se.support.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",se.support.shrinkWrapBlocks||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Zt.exec(o)){if(delete t[r],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(r)}if(a=m.length){s=se._data(e,"fxshow")||se._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?se(e).show():f.done(function(){se(e).hide()}),f.done(function(){var t;se._removeData(e,"fxshow");for(t in h)se.style(e,t,h[t])});for(r=0;r<a;r++)i=m[r],u=f.createTween(i,g?s[i]:0),h[i]=s[i]||se.style(e,i),i in s||(s[i]=u.start,g&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function V(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n=xt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function W(e){return se.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var z,Y,G=typeof t,U=e.document,J=e.location,X=e.jQuery,Q=e.$,Z={},K=[],ee=K.concat,te=K.push,ne=K.slice,ie=K.indexOf,re=Z.toString,ae=Z.hasOwnProperty,oe="1.9.1".trim,se=function(e,t){return new se.fn.init(e,t,Y)},le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=/\S+/g,ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^[\],:{}\s]*$/,he=/(?:^|:|,)(?:\s*\[)+/g,me=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ge=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ve=/^-ms-/,ye=/-([\da-z])/gi,be=function(e,t){return t.toUpperCase()},we=function(e){(U.addEventListener||"load"===e.type||"complete"===U.readyState)&&(_e(),se.ready())},_e=function(){U.addEventListener?(U.removeEventListener("DOMContentLoaded",we,!1),e.removeEventListener("load",we,!1)):(U.detachEvent("onreadystatechange",we),e.detachEvent("onload",we))};se.fn=se.prototype={jquery:"1.9.1",constructor:se,init:function(e,n,i){var r,a;if(!e)return this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:de.exec(e))||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof se?n[0]:n,se.merge(this,se.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:U,!0)),fe.test(r[1])&&se.isPlainObject(n))for(r in n)se.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if((a=U.getElementById(r[2]))&&a.parentNode){if(a.id!==r[2])return i.find(e);this.length=1,this[0]=a}return this.context=U,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):se.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),se.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ne.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=se.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return se.each(this,e,t)},ready:function(e){return se.ready.promise().done(e),this},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(se.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:te,sort:[].sort,splice:[].splice},se.fn.init.prototype=se.fn,se.extend=se.fn.extend=function(){var e,n,i,r,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||se.isFunction(s)||(s={}),u===l&&(s=this,--l);l<u;l++)if(null!=(a=arguments[l]))for(r in a)e=s[r],i=a[r],s!==i&&(c&&i&&(se.isPlainObject(i)||(n=se.isArray(i)))?(n?(n=!1,o=e&&se.isArray(e)?e:[]):o=e&&se.isPlainObject(e)?e:{},s[r]=se.extend(c,o,i)):i!==t&&(s[r]=i));return s},se.extend({noConflict:function(t){return e.$===se&&(e.$=Q),t&&e.jQuery===se&&(e.jQuery=X),se},isReady:!1,readyWait:1,holdReady:function(e){e?se.readyWait++:se.ready(!0)},ready:function(e){if(!0===e?!--se.readyWait:!se.isReady){if(!U.body)return setTimeout(se.ready);se.isReady=!0,!0!==e&&--se.readyWait>0||(z.resolveWith(U,[se]),se.fn.trigger&&se(U).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===se.type(e)},isArray:Array.isArray||function(e){return"array"===se.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Z[re.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==se.type(e)||e.nodeType||se.isWindow(e))return!1;try{if(e.constructor&&!ae.call(e,"constructor")&&!ae.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return n===t||ae.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||U;var i=fe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=se.buildFragment([e],t,r),r&&se(r).remove(),se.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=se.trim(t))&&pe.test(t.replace(me,"@").replace(ge,"]").replace(he,""))?new Function("return "+t)():void se.error("Invalid JSON: "+t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(e){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&se.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ve,"ms-").replace(ye,be)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r=0,a=e.length,o=n(e);if(i){if(o)for(;r<a&&!1!==t.apply(e[r],i);r++);else for(r in e)if(!1===t.apply(e[r],i))break}else if(o)for(;r<a&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:oe&&!oe.call("\ufeff ")?function(e){return null==e?"":oe.call(e)}:function(e){return null==e?"":(e+"").replace(ce,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?se.merge(i,"string"==typeof e?[e]:e):te.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(ie)return ie.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,a=0;if("number"==typeof i)for(;a<i;a++)e[r++]=n[a];else for(;n[a]!==t;)e[r++]=n[a++];return e.length=r,e},grep:function(e,t,n){var i,r=[],a=0,o=e.length;for(n=!!n;a<o;a++)i=!!t(e[a],a),n!==i&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,o=e.length,s=n(e),l=[];if(s)for(;a<o;a++)null!=(r=t(e[a],a,i))&&(l[l.length]=r);else for(a in e)null!=(r=t(e[a],a,i))&&(l[l.length]=r);return ee.apply([],l)},guid:1,proxy:function(e,n){var i,r,a;return"string"==typeof n&&(a=e[n],n=e,e=a),se.isFunction(e)?(i=ne.call(arguments,2),r=function(){return e.apply(n||this,i.concat(ne.call(arguments)))},r.guid=e.guid=e.guid||se.guid++,r):t},access:function(e,n,i,r,a,o,s){var l=0,u=e.length,c=null==i;if("object"===se.type(i)){a=!0;for(l in i)se.access(e,n,l,i[l],!0,o,s)}else if(r!==t&&(a=!0,se.isFunction(r)||(s=!0),c&&(s?(n.call(e,r),n=null):(c=n,n=function(e,t,n){return c.call(se(e),n)})),n))for(;l<u;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return a?e:c?n.call(e):u?n(e[0],i):o},now:function(){return(new Date).getTime()}}),se.ready.promise=function(t){if(!z)if(z=se.Deferred(),"complete"===U.readyState)setTimeout(se.ready);else if(U.addEventListener)U.addEventListener("DOMContentLoaded",we,!1),e.addEventListener("load",we,!1);else{U.attachEvent("onreadystatechange",we),e.attachEvent("onload",we);var n=!1;try{n=null==e.frameElement&&U.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!se.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}_e(),se.ready()}}()}return z.promise(t)},se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),Y=se(U);var xe={};se.Callbacks=function(e){e="string"==typeof e?xe[e]||i(e):se.extend({},e);var n,r,a,o,s,l,u=[],c=!e.once&&[],d=function(t){for(r=e.memory&&t,a=!0,s=l||0,l=0,o=u.length,n=!0;u&&s<o;s++)if(!1===u[s].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}n=!1,u&&(c?c.length&&d(c.shift()):r?u=[]:f.disable())},f={add:function(){if(u){var t=u.length;!function t(n){se.each(n,function(n,i){var r=se.type(i);"function"===r?e.unique&&f.has(i)||u.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments),n?o=u.length:r&&(l=t,d(r))}return this},remove:function(){return u&&se.each(arguments,function(e,t){for(var i;(i=se.inArray(t,u,i))>-1;)u.splice(i,1),n&&(i<=o&&o--,i<=s&&s--)}),this},has:function(e){return e?se.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||f.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||a&&!c||(n?c.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},se.extend({Deferred:function(e){var t=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return se.Deferred(function(n){se.each(t,function(t,a){var o=a[0],s=se.isFunction(e[t])&&e[t];r[a[1]](function(){var e=s&&s.apply(this,arguments);e&&se.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?se.extend(e,i):i}},r={};return i.pipe=i.then,se.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=ne.call(arguments),o=a.length,s=1!==o||e&&se.isFunction(e.promise)?o:0,l=1===s?e:se.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ne.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);r<o;r++)a[r]&&se.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}}),se.support=function(){var t,n,i,r,a,o,s,l,u,c,d=U.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};a=U.createElement("select"),s=a.appendChild(U.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!U.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==U.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===U.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(e){t.deleteExpando=!1}r=U.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),o=U.createDocumentFragment(),o.appendChild(r),t.appendChecked=r.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+c,"t"),t[c+"Bubbles"]=l in e||!1===d.attributes[l].expando;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,se(function(){var n,i,r,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=U.getElementsByTagName("body")[0];o&&(n=U.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(U.createElement("div")),i.style.cssText=d.style.cssText=a,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==G&&(d.innerHTML="",d.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=d=r=i=null)}),n=a=o=s=i=r=null,t}();var ke=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,De=/([A-Z])/g;se.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?se.cache[e[se.expando]]:e[se.expando])&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&se.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),se.fn.extend({data:function(e,n){var i,r,a=this[0],s=0,l=null;if(e===t){if(this.length&&(l=se.data(a),1===a.nodeType&&!se._data(a,"parsedAttrs"))){for(i=a.attributes;s<i.length;s++)r=i[s].name,r.indexOf("data-")||(r=se.camelCase(r.slice(5)),o(a,r,l[r]));se._data(a,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){se.data(this,e)}):se.access(this,function(n){if(n===t)return a?o(a,e,se.data(a,e)):null;this.each(function(){se.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){se.removeData(this,e)})}}),se.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=se._data(e,t),n&&(!i||se.isArray(n)?i=se._data(e,t,se.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=se.queue(e,t),i=n.length,r=n.shift(),a=se._queueHooks(e,t),o=function(){se.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),a.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se._data(e,n)||se._data(e,n,{empty:se.Callbacks("once memory").add(function(){se._removeData(e,t+"queue"),se._removeData(e,n)})})}}),se.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?se.queue(this[0],e):n===t?this:this.each(function(){var t=se.queue(this,e,n);se._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){se.dequeue(this,e)})},delay:function(e,t){return e=se.fx?se.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,a=se.Deferred(),o=this,s=this.length,l=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)(i=se._data(o[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(l));return l(),a.promise(n)}});var Ce,Te,Ee=/[\t\r\n]/g,Se=/\r/g,je=/^(?:input|select|textarea|button|object)$/i,Oe=/^(?:a|area)$/i,Ne=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Fe=/^(?:checked|selected)$/i,Ae=se.support.getSetAttribute,Me=se.support.input;se.fn.extend({attr:function(e,t){return se.access(this,se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){se.removeAttr(this,e)})},prop:function(e,t){return se.access(this,se.prop,e,t,arguments.length>1)},removeProp:function(e){return e=se.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,n,i,r,a,o=0,s=this.length,l="string"==typeof e&&e;if(se.isFunction(e))return this.each(function(t){se(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ue)||[];o<s;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=se.trim(i)}return this},removeClass:function(e){var t,n,i,r,a,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(se.isFunction(e))return this.each(function(t){se(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ue)||[];o<s;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ee," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?se.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return se.isFunction(e)?this.each(function(n){se(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,a=0,o=se(this),s=t,l=e.match(ue)||[];r=l[a++];)s=i?s:!o.hasClass(r),o[s?"addClass":"removeClass"](r);else n!==G&&"boolean"!==n||(this.className&&se._data(this,"__className__",this.className),this.className=this.className||!1===e?"":se._data(this,"__className__")||"")})},hasClass:function(e){
for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ee," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,a=this[0];{if(arguments.length)return r=se.isFunction(e),this.each(function(n){var a,o=se(this);1===this.nodeType&&(a=r?e.call(this,n,o.val()):e,null==a?a="":"number"==typeof a?a+="":se.isArray(a)&&(a=se.map(a,function(e){return null==e?"":e+""})),(i=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,a,"value")!==t||(this.value=a))});if(a)return(i=se.valHooks[a.type]||se.valHooks[a.nodeName.toLowerCase()])&&"get"in i&&(n=i.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(Se,""):null==n?"":n)}}}),se.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(n=i[l],(n.selected||l===r)&&(se.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!se.nodeName(n.parentNode,"optgroup"))){if(t=se(n).val(),a)return t;o.push(t)}return o},set:function(e,t){var n=se.makeArray(t);return se(e).find("option").each(function(){this.selected=se.inArray(se(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===G?se.prop(e,n,i):(a=1!==s||!se.isXMLDoc(e),a&&(n=n.toLowerCase(),r=se.attrHooks[n]||(Ne.test(n)?Te:Ce)),i===t?r&&a&&"get"in r&&null!==(o=r.get(e,n))?o:(typeof e.getAttribute!==G&&(o=e.getAttribute(n)),null==o?t:o):null!==i?r&&a&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):void se.removeAttr(e,n))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(ue);if(a&&1===e.nodeType)for(;n=a[r++];)i=se.propFix[n]||n,Ne.test(n)?!Ae&&Fe.test(n)?e[se.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:se.attr(e,n,""),e.removeAttribute(Ae?n:i)},attrHooks:{type:{set:function(e,t){if(!se.support.radioValue&&"radio"===t&&se.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!se.isXMLDoc(e),o&&(n=se.propFix[n]||n,a=se.propHooks[n]),i!==t?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:e[n]=i:a&&"get"in a&&null!==(r=a.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):je.test(e.nodeName)||Oe.test(e.nodeName)&&e.href?0:t}}}}),Te={get:function(e,n){var i=se.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),a="boolean"==typeof i?Me&&Ae?null!=r:Fe.test(n)?e[se.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return a&&!1!==a.value?n.toLowerCase():t},set:function(e,t,n){return!1===t?se.removeAttr(e,n):Me&&Ae||!Fe.test(n)?e.setAttribute(!Ae&&se.propFix[n]||n,n):e[se.camelCase("default-"+n)]=e[n]=!0,n}},Me&&Ae||(se.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return se.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){if(!se.nodeName(e,"input"))return Ce&&Ce.set(e,t,n);e.defaultValue=t}}),Ae||(Ce=se.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},se.attrHooks.contenteditable={get:Ce.get,set:function(e,t,n){Ce.set(e,""!==t&&t,n)}},se.each(["width","height"],function(e,t){se.attrHooks[t]=se.extend(se.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})})),se.support.hrefNormalized||(se.each(["href","src","width","height"],function(e,n){se.attrHooks[n]=se.extend(se.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),se.each(["href","src"],function(e,t){se.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),se.support.style||(se.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),se.support.optSelected||(se.propHooks.selected=se.extend(se.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),se.support.enctype||(se.propFix.enctype="encoding"),se.support.checkOn||se.each(["radio","checkbox"],function(){se.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]=se.extend(se.valHooks[this],{set:function(e,t){if(se.isArray(t))return e.checked=se.inArray(se(e).val(),t)>=0}})});var $e=/^(?:input|select|textarea)$/i,Ie=/^key/,Pe=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(e,n,i,r,a){var o,s,l,u,c,d,f,p,h,m,g,v=se._data(e);if(v){for(i.handler&&(u=i,i=u.handler,a=u.selector),i.guid||(i.guid=se.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof se===G||e&&se.event.triggered===e.type?t:se.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ue)||[""],l=n.length;l--;)o=Re.exec(n[l])||[],h=g=o[1],m=(o[2]||"").split(".").sort(),c=se.event.special[h]||{},h=(a?c.delegateType:c.bindType)||h,c=se.event.special[h]||{},f=se.extend({type:h,origType:g,data:r,handler:i,guid:i.guid,selector:a,needsContext:a&&se.expr.match.needsContext.test(a),namespace:m.join(".")},u),(p=s[h])||(p=s[h]=[],p.delegateCount=0,c.setup&&!1!==c.setup.call(e,r,m,d)||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),c.add&&(c.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),a?p.splice(p.delegateCount++,0,f):p.push(f),se.event.global[h]=!0;e=null}},remove:function(e,t,n,i,r){var a,o,s,l,u,c,d,f,p,h,m,g=se.hasData(e)&&se._data(e);if(g&&(c=g.events)){for(t=(t||"").match(ue)||[""],u=t.length;u--;)if(s=Re.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=se.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=f.length;a--;)o=f[a],!r&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(f.splice(a,1),o.selector&&f.delegateCount--,d.remove&&d.remove.call(e,o));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||se.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)se.event.remove(e,p+t[u],n,i,!0);se.isEmptyObject(c)&&(delete g.handle,se._removeData(e,"events"))}},trigger:function(n,i,r,a){var o,s,l,u,c,d,f,p=[r||U],h=ae.call(n,"type")?n.type:n,m=ae.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||U,3!==r.nodeType&&8!==r.nodeType&&!He.test(h+se.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[se.expando]?n:new se.Event(h,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:se.makeArray(i,[n]),c=se.event.special[h]||{},a||!c.trigger||!1!==c.trigger.apply(r,i))){if(!a&&!c.noBubble&&!se.isWindow(r)){for(u=c.delegateType||h,He.test(u+h)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(r.ownerDocument||U)&&p.push(d.defaultView||d.parentWindow||e)}for(f=0;(l=p[f++])&&!n.isPropagationStopped();)n.type=f>1?u:c.bindType||h,o=(se._data(l,"events")||{})[n.type]&&se._data(l,"handle"),o&&o.apply(l,i),(o=s&&l[s])&&se.acceptData(l)&&o.apply&&!1===o.apply(l,i)&&n.preventDefault();if(n.type=h,!a&&!n.isDefaultPrevented()&&(!c._default||!1===c._default.apply(r.ownerDocument,i))&&("click"!==h||!se.nodeName(r,"a"))&&se.acceptData(r)&&s&&r[h]&&!se.isWindow(r)){d=r[s],d&&(r[s]=null),se.event.triggered=h;try{r[h]()}catch(e){}se.event.triggered=t,d&&(r[s]=d)}return n.result}},dispatch:function(e){e=se.event.fix(e);var n,i,r,a,o,s=[],l=ne.call(arguments),u=(se._data(this,"events")||{})[e.type]||[],c=se.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=se.event.handlers.call(this,e,u),n=0;(a=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(r=a.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,(i=((se.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,l))!==t&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,a,o,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(a=[],o=0;o<l;o++)r=n[o],i=r.selector+" ",a[i]===t&&(a[i]=r.needsContext?se(i,this).index(u)>=0:se.find(i,this,null,[u]).length),a[i]&&a.push(r);a.length&&s.push({elem:u,handlers:a})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[se.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Pe.test(r)?this.mouseHooks:Ie.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new se.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||U),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||U,a=r.documentElement,i=r.body,e.pageX=n.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(se.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==U.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===U.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=se.extend(new se.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?se.event.trigger(r,null,t):se.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},se.removeEvent=U.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===G&&(e[i]=null),e.detachEvent(i,n))},se.Event=function(e,t){if(!(this instanceof se.Event))return new se.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,t&&se.extend(this,t),this.timeStamp=e&&e.timeStamp||se.now(),this[se.expando]=!0},se.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===i||se.contains(i,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),se.support.submitBubbles||(se.event.special.submit={setup:function(){if(se.nodeName(this,"form"))return!1;se.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=se.nodeName(n,"input")||se.nodeName(n,"button")?n.form:t;i&&!se._data(i,"submitBubbles")&&(se.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),se._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&se.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(se.nodeName(this,"form"))return!1;se.event.remove(this,"._submit")}}),se.support.changeBubbles||(se.event.special.change={setup:function(){if($e.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(se.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),se.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),se.event.simulate("change",this,e,!0)})),!1;se.event.add(this,"beforeactivate._change",function(e){var t=e.target;$e.test(t.nodeName)&&!se._data(t,"changeBubbles")&&(se.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||se.event.simulate("change",this.parentNode,e,!0)}),se._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return se.event.remove(this,"._change"),!$e.test(this.nodeName)}}),se.support.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){se.event.simulate(t,e.target,se.event.fix(e),!0)};se.event.special[t]={setup:function(){0==n++&&U.addEventListener(e,i,!0)},teardown:function(){0==--n&&U.removeEventListener(e,i,!0)}}}),se.fn.extend({on:function(e,n,i,r,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(o in e)this.on(o,n,i,e[o],a);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),!1===r)r=u;else if(!r)return this;return 1===a&&(s=r,r=function(e){return se().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=se.guid++)),this.each(function(){se.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,se(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return!1!==n&&"function"!=typeof n||(i=n,n=t),!1===i&&(i=u),this.each(function(){se.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return se.event.trigger(e,t,n,!0)}}),function(e,t){function n(e){return ce.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>x.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[P]=!0,e}function a(e){var t=j.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}}function o(e,t,n,i){var r,a,o,s,l,d,f,p,h,m;if((t?t.ownerDocument||t:H)!==j&&S(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!N&&!i){if(r=de.exec(e))if(o=r[1]){if(9===s){if(!(a=t.getElementById(o))||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&$(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return U.apply(n,J.call(t.getElementsByTagName(e),0)),n;if((o=r[3])&&R.getByClassName&&t.getElementsByClassName)return U.apply(n,J.call(t.getElementsByClassName(o),0)),n}if(R.qsa&&!F.test(e)){if(f=!0,p=P,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=u(e),(f=t.getAttribute("id"))?p=f.replace(he,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=d.length;l--;)d[l]=p+c(d[l]);h=ue.test(e)&&t.parentNode||t,m=d.join(",")}if(m)try{return U.apply(n,J.call(h.querySelectorAll(m),0)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return y(e.replace(ne,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return r(function(t){return t=+t,r(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function u(e,t){var n,i,r,a,s,l,u,c=V[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){n&&!(i=ie.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=re.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ne," ")}),s=s.slice(n.length));for(a in x.filter)!(i=le[a].exec(s))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?o.error(e):V(e,l).slice(0)}function c(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=q++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,u,c=L+" "+a;if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=t[P]||(t[P]={}),(l=u[i])&&l[0]===c){if(!0===(s=l[1])||s===_)return!0===s}else if(l=u[i]=[c],l[1]=e(t,n,o)||_,!0===l[1])return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),u&&t.push(s)));return o}function h(e,t,n,i,a,o){return i&&!i[P]&&(i=h(i)),a&&!a[P]&&(a=h(a,o)),r(function(r,o,s,l){var u,c,d,f=[],h=[],m=o.length,g=r||v(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?g:p(g,f,e,s,l),b=n?a||(r?e:m||i)?[]:o:y;if(n&&n(y,b,s,l),i)for(u=p(b,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(y[h[c]]=d));if(r){if(a||e){if(a){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);a(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=a?X.call(r,d):f[c])>-1&&(r[u]=!(o[u]=d))}}else b=p(b===o?b.splice(m,b.length):b),a?a(null,o,b,l):U.apply(o,b)})}function m(e){for(var t,n,i,r=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=d(function(e){return e===t},o,!0),u=d(function(e){return X.call(t,e)>-1},o,!0),p=[function(e,n,i){return!a&&(i||n!==E)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];s<r;s++)if(n=x.relative[e[s].type])p=[d(f(p),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[P]){for(i=++s;i<r&&!x.relative[e[i].type];i++);return h(s>1&&f(p),s>1&&c(e.slice(0,s-1)).replace(ne,"$1"),n,s<i&&m(e.slice(s,i)),i<r&&m(e=e.slice(i)),i<r&&c(e))}p.push(n)}return f(p)}function g(e,t){var n=0,i=t.length>0,a=e.length>0,s=function(r,s,l,u,c){var d,f,h,m=[],g=0,v="0",y=r&&[],b=null!=c,w=E,k=r||a&&x.find.TAG("*",c&&s.parentNode||s),D=L+=null==w?1:Math.random()||.1;for(b&&(E=s!==j&&s,_=n);null!=(d=k[v]);v++){if(a&&d){for(f=0;h=e[f++];)if(h(d,s,l)){u.push(d);break}b&&(L=D,_=++n)}i&&((d=!h&&d)&&g--,r&&y.push(d))}if(g+=v,i&&v!==g){for(f=0;h=t[f++];)h(y,m,s,l);if(r){if(g>0)for(;v--;)y[v]||m[v]||(m[v]=G.call(u));m=p(m)}U.apply(u,m),b&&!r&&m.length>0&&g+t.length>1&&o.uniqueSort(u)}return b&&(L=D,E=w),y};return i?r(s):s}function v(e,t,n){for(var i=0,r=t.length;i<r;i++)o(e,t[i],n);return n}function y(e,t,n,i){var r,a,o,s,l,d=u(e);if(!i&&1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&!N&&x.relative[a[1].type]){if(!(t=x.find.ID(o.matches[0].replace(ge,ve),t)[0]))return n;e=e.slice(a.shift().value.length)}for(r=le.needsContext.test(e)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(ge,ve),ue.test(a[0].type)&&t.parentNode||t))){if(a.splice(r,1),!(e=i.length&&c(a)))return U.apply(n,J.call(i,0)),n;break}}return C(e,d)(i,t,N,n,ue.test(e)),n}function b(){}var w,_,x,k,D,C,T,E,S,j,O,N,F,A,M,$,I,P="sizzle"+-new Date,H=e.document,R={},L=0,q=0,B=i(),V=i(),W=i(),z=1<<31,Y=[],G=Y.pop,U=Y.push,J=Y.slice,X=Y.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Q="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",K=Z.replace("w","w#"),ee="\\["+Q+"*("+Z+")"+Q+"*(?:([*^$|!~]?=)"+Q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+K+")|)|)"+Q+"*\\]",te=":("+Z+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ee.replace(3,8)+")*)|.*)\\)|)",ne=new RegExp("^"+Q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Q+"+$","g"),ie=new RegExp("^"+Q+"*,"+Q+"*"),re=new RegExp("^"+Q+"*([\\x20\\t\\r\\n\\f>+~])"+Q+"*"),ae=new RegExp(te),oe=new RegExp("^"+K+"$"),le={ID:new RegExp("^#("+Z+")"),CLASS:new RegExp("^\\.("+Z+")"),NAME:new RegExp("^\\[name=['\"]?("+Z+")['\"]?\\]"),TAG:new RegExp("^("+Z.replace("w","w*")+")"),ATTR:new RegExp("^"+ee),PSEUDO:new RegExp("^"+te),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Q+"*(even|odd|(([+-]|)(\\d*)n|)"+Q+"*(?:([+-]|)"+Q+"*(\\d+)|))"+Q+"*\\)|)","i"),needsContext:new RegExp("^"+Q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Q+"*((?:-\\d)?\\d*)"+Q+"*\\)|)(?=[^-]|$)","i")},ue=/[\x20\t\r\n\f]*[+~]/,ce=/^[^{]+\{\s*\[native code/,de=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/'|\\/g,me=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ge=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ve=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{J.call(H.documentElement.childNodes,0)[0].nodeType}catch(e){J=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}D=o.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=o.setDocument=function(e){var t=e?e.ownerDocument||e:H;return t!==j&&9===t.nodeType&&t.documentElement?(j=t,O=t.documentElement,N=D(t),R.tagNameNoComments=a(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),R.attributes=a(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),R.getByClassName=a(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),R.getByName=a(function(e){e.id=P+0,e.innerHTML="<a name='"+P+"'></a><div name='"+P+"'></div>",O.insertBefore(e,O.firstChild);var n=t.getElementsByName&&t.getElementsByName(P).length===2+t.getElementsByName(P+0).length;return R.getIdNotName=!t.getElementById(P),O.removeChild(e),n}),x.attrHandle=a(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},R.getIdNotName?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&!N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(ge,ve);return function(e){return e.getAttribute("id")===t}}):(x.find.ID=function(e,t){if(void 0!==t.getElementById&&!N){var n=t.getElementById(e);return n?n.id===e||void 0!==n.getAttributeNode&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},x.filter.ID=function(e){var t=e.replace(ge,ve);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=R.tagNameNoComments?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.NAME=R.getByName&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},x.find.CLASS=R.getByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&!N)return t.getElementsByClassName(e)},A=[],F=[":focus"],(R.qsa=n(t.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||F.push("\\["+Q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||F.push(":checked")}),a(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&F.push("[*^$]="+Q+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(R.matchesSelector=n(M=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&a(function(e){R.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),A.push("!=",te)}),F=new RegExp(F.join("|")),A=new RegExp(A.join("|")),$=n(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},I=O.compareDocumentPosition?function(e,n){var i;return e===n?(T=!0,0):(i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n))?1&i||e.parentNode&&11===e.parentNode.nodeType?e===t||$(H,e)?-1:n===t||$(H,n)?1:0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,a=e.parentNode,o=n.parentNode,l=[e],u=[n];if(e===n)return T=!0,0;if(!a||!o)return e===t?-1:n===t?1:a?-1:o?1:0;if(a===o)return s(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===H?-1:u[r]===H?1:0},T=!1,[0,0].sort(I),R.detectDuplicates=T,j):j},o.matches=function(e,t){return o(e,null,null,t)},o.matchesSelector=function(e,t){if((e.ownerDocument||e)!==j&&S(e),t=t.replace(me,"='$1']"),R.matchesSelector&&!N&&(!A||!A.test(t))&&!F.test(t))try{var n=M.call(e,t);if(n||R.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return o(t,j,null,[e]).length>0},o.contains=function(e,t){return(e.ownerDocument||e)!==j&&S(e),$(e,t)},o.attr=function(e,t){var n;return(e.ownerDocument||e)!==j&&S(e),N||(t=t.toLowerCase()),(n=x.attrHandle[t])?n(e):N||R.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&!0===e[t]?t:n&&n.specified?n.value:null},o.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},o.uniqueSort=function(e){var t,n=[],i=1,r=0;if(T=!R.detectDuplicates,e.sort(I),T){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},k=o.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=k(t);return n},x=o.selectors={cacheLength:50,createPseudo:r,match:le,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ge,ve),e[3]=(e[4]||e[5]||"").replace(ge,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||o.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&o.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return le.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ae.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ge,ve).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+Q+")"+e+"("+Q+"|$)"))&&B(e,function(e){return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=o.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,p,h,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?g.firstChild:g.lastChild],o&&y){for(c=g[P]||(g[P]={}),u=c[e]||[],p=u[0]===L&&u[1],f=u[0]===L&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[L,p,f];break}}else if(y&&(u=(t[P]||(t[P]={}))[e])&&u[0]===L)f=u[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[L,f]),d!==t)););return(f-=r)===i||f%i==0&&f/i>=0}}},PSEUDO:function(e,t){var n,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||o.error("unsupported pseudo: "+e);return i[P]?i(t):i.length>1?(n=[e,e,"",t],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,a=i(e,t),o=a.length;o--;)r=X.call(e,a[o]),e[r]=!(n[r]=a[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(ne,"$1"));return i[P]?r(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),!n.pop()}}),has:r(function(e){return function(t){return o(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return oe.test(e||"")||o.error("unsupported lang: "+e),e=e.replace(ge,ve).toLowerCase(),function(t){var n;do{if(n=N?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(w);C=o.compile=function(e,t){var n,i=[],r=[],a=W[e+" "];if(!a){for(t||(t=u(e)),n=t.length;n--;)a=m(t[n]),a[P]?i.push(a):r.push(a);a=W(e,g(r,i))}return a},x.pseudos.nth=x.pseudos.eq,x.filters=b.prototype=x.pseudos,x.setFilters=new b,S(),o.attr=se.attr,se.find=o,se.expr=o.selectors,se.expr[":"]=se.expr.pseudos,se.unique=o.uniqueSort,se.text=o.getText,se.isXMLDoc=o.isXML,se.contains=o.contains}(e);var Le=/Until$/,qe=/^(?:parents|prev(?:Until|All))/,Be=/^.[^:#\[\.,]*$/,Ve=se.expr.match.needsContext,We={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({find:function(e){var t,n,i,r=this.length;if("string"!=typeof e)return i=this,this.pushStack(se(e).filter(function(){for(t=0;t<r;t++)if(se.contains(i[t],this))return!0}));for(n=[],t=0;t<r;t++)se.find(e,this[t],n);return n=this.pushStack(r>1?se.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=se(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(se.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ve.test(e)?se(e,this.context).index(this[0])>=0:se.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=Ve.test(e)||"string"!=typeof e?se(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:se.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return this.pushStack(a.length>1?se.unique(a):a)},index:function(e){return e?"string"==typeof e?se.inArray(this[0],se(e)):se.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?se(e,t):se.makeArray(e&&e.nodeType?[e]:e),i=se.merge(this.get(),n);return this.pushStack(se.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),se.fn.andSelf=se.fn.addBack,se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return se.dir(e,"parentNode")},parentsUntil:function(e,t,n){return se.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return se.dir(e,"nextSibling")},prevAll:function(e){return se.dir(e,"previousSibling")},nextUntil:function(e,t,n){return se.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return se.dir(e,"previousSibling",n)},siblings:function(e){return se.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return se.sibling(e.firstChild)},contents:function(e){return se.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:se.merge([],e.childNodes)}},function(e,t){se.fn[e]=function(n,i){var r=se.map(this,t,n);return Le.test(e)||(i=n),i&&"string"==typeof i&&(r=se.filter(i,r)),r=this.length>1&&!We[e]?se.unique(r):r,this.length>1&&qe.test(e)&&(r=r.reverse()),this.pushStack(r)}}),se.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?se.find.matchesSelector(t[0],e)?[t[0]]:[]:se.find.matches(e,t)},dir:function(e,n,i){for(var r=[],a=e[n];a&&9!==a.nodeType&&(i===t||1!==a.nodeType||!se(a).is(i));)1===a.nodeType&&r.push(a),a=a[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ye=/ jQuery\d+="(?:null|\d+)"/g,Ge=new RegExp("<(?:"+ze+")[\\s/>]","i"),Ue=/^\s+/,Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xe=/<([\w:]+)/,Qe=/<tbody/i,Ze=/<|&#?\w+;/,Ke=/<(?:script|style|link)/i,et=/^(?:checkbox|radio)$/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,it=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:se.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ot=f(U),st=ot.appendChild(U.createElement("div"));at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td,se.fn.extend({text:function(e){return se.access(this,function(e){return e===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(se.isFunction(e))return this.each(function(t){se(this).wrapAll(e.call(this,t))});if(this[0]){var t=se(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return se.isFunction(e)?this.each(function(t){se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=se(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=se.isFunction(e);return this.each(function(n){se(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||se.filter(e,[n]).length>0)&&(t||1!==n.nodeType||se.cleanData(b(n)),n.parentNode&&(t&&se.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&se.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&se.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return se.clone(this,e,t)})},html:function(e){return se.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ye,""):t;if("string"==typeof e&&!Ke.test(e)&&(se.support.htmlSerialize||!Ge.test(e))&&(se.support.leadingWhitespace||!Ue.test(e))&&!at[(Xe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Je,"<$1></$2>");try{for(;i<r;i++)n=this[i]||{},1===n.nodeType&&(se.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return se.isFunction(e)||"string"==typeof e||(e=se(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(se(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=ee.apply([],e);var r,a,o,s,l,u,c=0,d=this.length,f=this,g=d-1,v=e[0],y=se.isFunction(v);if(y||!(d<=1||"string"!=typeof v||se.support.checkClone)&&tt.test(v))return this.each(function(r){var a=f.eq(r);y&&(e[0]=v.call(this,r,n?a.html():t)),a.domManip(e,n,i)});if(d&&(u=se.buildFragment(e,this[0].ownerDocument,!1,this),r=u.firstChild,1===u.childNodes.length&&(u=r),r)){for(n=n&&se.nodeName(r,"tr"),s=se.map(b(u,"script"),h),o=s.length;c<d;c++)a=u,c!==g&&(a=se.clone(a,!0,!0),o&&se.merge(s,b(a,"script"))),i.call(n&&se.nodeName(this[c],"table")?p(this[c],"tbody"):this[c],a,c);if(o)for(l=s[s.length-1].ownerDocument,se.map(s,m),c=0;c<o;c++)a=s[c],nt.test(a.type||"")&&!se._data(a,"globalEval")&&se.contains(l,a)&&(a.src?se.ajax({url:a.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):se.globalEval((a.text||a.textContent||a.innerHTML||"").replace(rt,"")));u=r=null}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){se.fn[e]=function(e){for(var n,i=0,r=[],a=se(e),o=a.length-1;i<=o;i++)n=i===o?this:this.clone(!0),se(a[i])[t](n),te.apply(r,n.get());return this.pushStack(r)}}),se.extend({clone:function(e,t,n){var i,r,a,o,s,l=se.contains(e.ownerDocument,e);if(se.support.html5Clone||se.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(a=st.firstChild)),!(se.support.noCloneEvent&&se.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||se.isXMLDoc(e)))for(i=b(a),s=b(e),o=0;null!=(r=s[o]);++o)i[o]&&y(r,i[o]);if(t)if(n)for(s=s||b(e),i=i||b(a),o=0;null!=(r=s[o]);o++)v(r,i[o]);else v(e,a);return i=b(a,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=s=r=null,a},buildFragment:function(e,t,n,i){for(var r,a,o,s,l,u,c,d=e.length,p=f(t),h=[],m=0;m<d;m++)if((a=e[m])||0===a)if("object"===se.type(a))se.merge(h,a.nodeType?[a]:a);else if(Ze.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(Xe.exec(a)||["",""])[1].toLowerCase(),c=at[l]||at._default,s.innerHTML=c[1]+a.replace(Je,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!se.support.leadingWhitespace&&Ue.test(a)&&h.push(t.createTextNode(Ue.exec(a)[0])),!se.support.tbody)for(a="table"!==l||Qe.test(a)?"<table>"!==c[1]||Qe.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)se.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(se.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(a));for(s&&p.removeChild(s),se.support.appendChecked||se.grep(b(h,"input"),w),m=0;a=h[m++];)if((!i||-1===se.inArray(a,i))&&(o=se.contains(a.ownerDocument,a),s=b(p.appendChild(a),"script"),o&&g(s),n))for(r=0;a=s[r++];)nt.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,i,r,a,o=0,s=se.expando,l=se.cache,u=se.support.deleteExpando,c=se.event.special;null!=(n=e[o]);o++)if((t||se.acceptData(n))&&(r=n[s],a=r&&l[r])){if(a.events)for(i in a.events)c[i]?se.event.remove(n,i):se.removeEvent(n,i,a.handle);l[r]&&(delete l[r],u?delete n[s]:typeof n.removeAttribute!==G?n.removeAttribute(s):n[s]=null,K.push(r))}}});var lt,ut,ct,dt=/alpha\([^)]*\)/i,ft=/opacity\s*=\s*([^)]*)/,pt=/^(top|right|bottom|left)$/,ht=/^(none|table(?!-c[ea]).+)/,mt=/^margin/,gt=new RegExp("^("+le+")(.*)$","i"),vt=new RegExp("^("+le+")(?!px)[a-z%]+$","i"),yt=new RegExp("^([+-])=("+le+")","i"),bt={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:0,fontWeight:400},xt=["Top","Right","Bottom","Left"],kt=["Webkit","O","Moz","ms"];se.fn.extend({css:function(e,n){return se.access(this,function(e,n,i){var r,a,o={},s=0;if(se.isArray(n)){for(a=ut(e),r=n.length;s<r;s++)o[n[s]]=se.css(e,n[s],!1,a);return o}return i!==t?se.style(e,n,i):se.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?se(this).show():se(this).hide()})}}),se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ct(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:se.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=se.camelCase(n),u=e.style;if(n=se.cssProps[l]||(se.cssProps[l]=_(u,l)),s=se.cssHooks[n]||se.cssHooks[l],i===t)return s&&"get"in s&&(a=s.get(e,!1,r))!==t?a:u[n];if(!(o=typeof i,"string"===o&&(a=yt.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(se.css(e,n)),o="number"),null==i||"number"===o&&isNaN(i)||("number"!==o||se.cssNumber[l]||(i+="px"),se.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{u[n]=i}catch(e){}}},css:function(e,n,i,r){var a,o,s,l=se.camelCase(n);return n=se.cssProps[l]||(se.cssProps[l]=_(e.style,l)),s=se.cssHooks[n]||se.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=ct(e,n,r)),"normal"===o&&n in _t&&(o=_t[n]),""===i||i?(a=parseFloat(o),!0===i||se.isNumeric(a)?a||0:o):o},swap:function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},ct=function(e,n,i){var r,a,o,s=i||ut(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||se.contains(e.ownerDocument,e)||(l=se.style(e,n)),vt.test(l)&&mt.test(n)&&(r=u.width,a=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=r,u.minWidth=a,u.maxWidth=o)),l}):U.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},ct=function(e,n,i){var r,a,o,s=i||ut(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),vt.test(l)&&!pt.test(n)&&(r=u.left,a=e.runtimeStyle,o=a&&a.left,o&&(a.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=r,o&&(a.left=o)),""===l?"auto":l}),se.each(["height","width"],function(e,t){se.cssHooks[t]={get:function(e,n,i){if(n)return 0===e.offsetWidth&&ht.test(se.css(e,"display"))?se.swap(e,wt,function(){return T(e,t,i)}):T(e,t,i)},set:function(e,n,i){var r=i&&ut(e);return D(e,n,i?C(e,t,i,se.support.boxSizing&&"border-box"===se.css(e,"boxSizing",!1,r),r):0)}}}),se.support.opacity||(se.cssHooks.opacity={get:function(e,t){return ft.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=se.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===se.trim(a.replace(dt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=dt.test(a)?a.replace(dt,r):a+" "+r)}}),se(function(){se.support.reliableMarginRight||(se.cssHooks.marginRight={get:function(e,t){if(t)return se.swap(e,{display:"inline-block"},ct,[e,"marginRight"])}}),!se.support.pixelPosition&&se.fn.position&&se.each(["top","left"],function(e,t){se.cssHooks[t]={get:function(e,n){if(n)return n=ct(e,t),vt.test(n)?se(e).position()[t]+"px":n}}})}),se.expr&&se.expr.filters&&(se.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!se.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||se.css(e,"display"))},se.expr.filters.visible=function(e){return!se.expr.filters.hidden(e)}),se.each({margin:"",padding:"",border:"Width"},function(e,t){se.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+xt[i]+t]=a[i]||a[i-2]||a[0];return r}},mt.test(e)||(se.cssHooks[e+t].set=D)});var Dt=/%20/g,Ct=/\[\]$/,Tt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=se.prop(this,"elements");return e?se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!se(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!et.test(e))}).map(function(e,t){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),se.param=function(e,n){var i,r=[],a=function(e,t){t=se.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(e)||e.jquery&&!se.isPlainObject(e))se.each(e,function(){a(this.name,this.value)});else for(i in e)j(i,e[i],n,a);return r.join("&").replace(Dt,"+")},se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){se.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),se.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var jt,Ot,Nt=se.now(),Ft=/\?/,At=/#.*$/,Mt=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,It=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Rt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Lt=se.fn.load,qt={},Bt={},Vt="*/".concat("*");try{Ot=J.href}catch(e){Ot=U.createElement("a"),Ot.href="",Ot=Ot.href}jt=Rt.exec(Ot.toLowerCase())||[],se.fn.load=function(e,n,i){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var r,a,o,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),se.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&se.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(r?se("<div>").append(se.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,a||[e.responseText,t,e])}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){se.fn[t]=function(e){return this.on(t,e)}}),se.each(["get","post"],function(e,n){se[n]=function(e,i,r,a){return se.isFunction(i)&&(a=a||r,r=i,i=t),se.ajax({url:e,type:n,dataType:a,data:i,success:r})}}),se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot,type:"GET",isLocal:It.test(jt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,se.ajaxSettings),t):F(se.ajaxSettings,e)},ajaxPrefilter:O(qt),ajaxTransport:O(Bt),ajax:function(e,n){function i(e,n,i,r){var a,d,y,b,_,k=n;2!==w&&(w=2,l&&clearTimeout(l),c=t,s=r||"",x.readyState=e>0?4:0,i&&(b=A(f,x,i)),e>=200&&e<300||304===e?(f.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(se.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(se.etag[o]=_)),204===e?(a=!0,k="nocontent"):304===e?(a=!0,k="notmodified"):(a=M(f,b),k=a.state,d=a.data,y=a.error,a=!y)):(y=k,!e&&k||(k="error",e<0&&(e=0))),x.status=e,x.statusText=(n||k)+"",a?m.resolveWith(p,[d,k,x]):m.rejectWith(p,[x,k,y]),x.statusCode(v),v=t,u&&h.trigger(a?"ajaxSuccess":"ajaxError",[x,f,a?d:y]),g.fireWith(p,[x,k]),u&&(h.trigger("ajaxComplete",[x,f]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,a,o,s,l,u,c,d,f=se.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?se(p):se.event,m=se.Deferred(),g=se.Callbacks("once memory"),v=f.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=$t.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||Ot)+"").replace(At,"").replace(Ht,jt[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=se.trim(f.dataType||"*").toLowerCase().match(ue)||[""],null==f.crossDomain&&(r=Rt.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===jt[1]&&r[2]===jt[2]&&(r[3]||("http:"===r[1]?80:443))==(jt[3]||("http:"===jt[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=se.param(f.data,f.traditional)),N(qt,f,n,x),2===w)return x;u=f.global,u&&0==se.active++&&se.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(Ft.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Mt.test(o)?o.replace(Mt,"$1_="+Nt++):o+(Ft.test(o)?"&":"?")+"_="+Nt++)),f.ifModified&&(se.lastModified[o]&&x.setRequestHeader("If-Modified-Since",se.lastModified[o]),se.etag[o]&&x.setRequestHeader("If-None-Match",se.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vt+"; q=0.01":""):f.accepts["*"]);for(a in f.headers)x.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(!1===f.beforeSend.call(p,x,f)||2===w))return x.abort();_="abort";for(a in{success:1,error:1,complete:1})x[a](f[a]);if(c=N(Bt,f,n,x)){x.readyState=1,u&&h.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},f.timeout));try{w=1,c.send(y,i)}catch(e){if(!(w<2))throw e;i(-1,e)}}else i(-1,"No Transport");return x},getScript:function(e,n){return se.get(e,t,n,"script")},getJSON:function(e,t,n){return se.get(e,t,n,"json")}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return se.globalEval(e),e}}}),se.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),se.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=U.head||se("head")[0]||U.documentElement;return{send:function(t,r){n=U.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wt=[],zt=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||se.expando+"_"+Nt++;return this[e]=!0,e}}),se.ajaxPrefilter("json jsonp",function(n,i,r){var a,o,s,l=!1!==n.jsonp&&(zt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(n.data)&&"data");if(l||"jsonp"===n.dataTypes[0])return a=n.jsonpCallback=se.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(zt,"$1"+a):!1!==n.jsonp&&(n.url+=(Ft.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||se.error(a+" was not called"),s[0]},n.dataTypes[0]="json",o=e[a],e[a]=function(){s=arguments},r.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=i.jsonpCallback,Wt.push(a)),s&&se.isFunction(o)&&o(s[0]),s=o=t}),"script"});var Yt,Gt,Ut=0,Jt=e.ActiveXObject&&function(){var e;for(e in Yt)Yt[e](t,!0)};se.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&$()||I()}:$,Gt=se.ajaxSettings.xhr(),se.support.cors=!!Gt&&"withCredentials"in Gt,(Gt=se.support.ajax=!!Gt)&&se.ajaxTransport(function(n){if(!n.crossDomain||se.support.cors){var i;return{send:function(r,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(e){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,u,c,d;try{if(i&&(r||4===l.readyState))if(i=t,o&&(l.onreadystatechange=se.noop,Jt&&delete Yt[o]),r)4!==l.readyState&&l.abort();else{d={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{c=l.statusText}catch(e){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(e){r||a(-1,e)}d&&a(s,c,d,u)},n.async?4===l.readyState?setTimeout(i):(o=++Ut,Jt&&(Yt||(Yt={},se(e).unload(Jt)),Yt[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Xt,Qt,Zt=/^(?:toggle|show|hide)$/,Kt=new RegExp("^(?:([+-])=|)("+le+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[q],nn={"*":[function(e,t){var n,i,r=this.createTween(e,t),a=Kt.exec(t),o=r.cur(),s=+o||0,l=1,u=20;if(a){if(n=+a[2],"px"!==(i=a[3]||(se.cssNumber[e]?"":"px"))&&s){s=se.css(r.elem,e,!0)||n||1;do{l=l||".5",s/=l,se.style(r.elem,e,s+i)}while(l!==(l=r.cur()/o)&&1!==l&&--u)}r.unit=i,r.start=s,r.end=a[1]?s+(a[1]+1)*n:n}return r}]};se.Animation=se.extend(R,{tweener:function(e,t){se.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),se.Tween=B,B.prototype={constructor:B,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(se.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){se.fx.step[e.prop]?se.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[se.cssProps[e.prop]]||se.cssHooks[e.prop])?se.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},se.each(["toggle","show","hide"],function(e,t){var n=se.fn[t];se.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,i,r)}}),se.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=se.isEmptyObject(e),a=se.speed(t,n,i),o=function(){var t=R(this,se.extend({},e),a);o.finish=function(){t.stop(!0)},(r||se._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=se.timers,o=se._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&en.test(n)&&r(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(i),t=!1,a.splice(n,1));!t&&i||se.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=se._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=se.timers,o=i?i.length:0;for(n.finish=!0,se.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),se.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){se.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),se.speed=function(e,t,n){var i=e&&"object"==typeof e?se.extend({},e):{complete:n||!n&&t||se.isFunction(e)&&e,duration:e,easing:n&&t||t&&!se.isFunction(t)&&t};return i.duration=se.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in se.fx.speeds?se.fx.speeds[i.duration]:se.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){se.isFunction(i.old)&&i.old.call(this),i.queue&&se.dequeue(this,i.queue)},i},se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},se.timers=[],se.fx=B.prototype.init,se.fx.tick=function(){var e,n=se.timers,i=0;for(Xt=se.now();i<n.length;i++)(e=n[i])()||n[i]!==e||n.splice(i--,1);n.length||se.fx.stop(),Xt=t},se.fx.timer=function(e){e()&&se.timers.push(e)&&se.fx.start()},se.fx.interval=13,se.fx.start=function(){Qt||(Qt=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(Qt),Qt=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fx.step={},se.expr&&se.expr.filters&&(se.expr.filters.animated=function(e){return se.grep(se.timers,function(t){return e===t.elem}).length}),se.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){se.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return n=o.documentElement,se.contains(n,a)?(typeof a.getBoundingClientRect!==G&&(r=a.getBoundingClientRect()),i=W(o),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},se.offset={setOffset:function(e,t,n){var i=se.css(e,"position");"static"===i&&(e.style.position="relative");var r,a,o=se(e),s=o.offset(),l=se.css(e,"top"),u=se.css(e,"left"),c=("absolute"===i||"fixed"===i)&&se.inArray("auto",[l,u])>-1,d={},f={};c?(f=o.position(),r=f.top,a=f.left):(r=parseFloat(l)||0,a=parseFloat(u)||0),se.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):o.css(d)}},se.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===se.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),se.nodeName(e[0],"html")||(n=e.offset()),n.top+=se.css(e[0],"borderTopWidth",!0),n.left+=se.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-se.css(i,"marginTop",!0),left:t.left-n.left-se.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U.documentElement;e&&!se.nodeName(e,"html")&&"static"===se.css(e,"position");)e=e.offsetParent;return e||U.documentElement})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);se.fn[e]=function(r){return se.access(this,function(e,r,a){var o=W(e);if(a===t)return o?n in o?o[n]:o.document.documentElement[r]:e[r];o?o.scrollTo(i?se(o).scrollLeft():a,i?a:se(o).scrollTop()):e[r]=a},e,r,arguments.length,null)}}),se.each({Height:"height",Width:"width"},function(e,n){se.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){se.fn[r]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===a?"margin":"border");return se.access(this,function(n,i,r){var a;return se.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,
Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):r===t?se.css(n,i,s):se.style(n,i,r,s)},n,o?r:t,o,null)}})}),e.jQuery=e.$=se,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return se})}(window),function(e){function t(e,t){return function(n){return s(e.call(this,n),t)}}function n(){}function i(e){a(this,e)}function r(e){var t=this._data={},n=e.years||e.year||e.y||0,i=e.months||e.month||e.M||0,r=e.weeks||e.week||e.w||0,a=e.days||e.day||e.d||0,s=e.hours||e.hour||e.h||0,l=e.minutes||e.minute||e.m||0,u=e.seconds||e.second||e.s||0,c=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=c+1e3*u+6e4*l+36e5*s,this._days=a+7*r,this._months=i+12*n,t.milliseconds=c%1e3,u+=o(c/1e3),t.seconds=u%60,l+=o(u/60),t.minutes=l%60,s+=o(l/60),t.hours=s%24,a+=o(s/24),a+=7*r,t.days=a%30,i+=o(a/30),t.months=i%12,n+=o(i/12),t.years=n}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e){return e<0?Math.ceil(e):Math.floor(e)}function s(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function l(e,t,n,i){var r,a,o,s=t._milliseconds,l=t._days,u=t._months;s&&e._d.setTime(+e._d+s*n),(l||u)&&(r=e.minute(),a=e.hour()),l&&e.date(e.date()+l*n),u&&(o=e.date(),e.date(1).month(e.month()+u*n).date(Math.min(o,e.daysInMonth()))),s&&!i&&N.updateOffset(e),(l||u)&&(e.minute(r),e.hour(a))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e,t){var n,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;n<i;n++)~~e[n]!=~~t[n]&&a++;return a+r}function d(e){return e?ee[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function f(e,t){return t.abbr=e,M[e]||(M[e]=new n),M[e].set(t),M[e]}function p(e){return e?(!M[e]&&$&&require("./lang/"+e),M[e]):N.fn._lang}function h(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function m(e){var t,n,i=e.match(H);for(t=0,n=i.length;t<n;t++)re[i[t]]?i[t]=re[i[t]]:i[t]=h(i[t]);return function(r){var a="";for(t=0;t<n;t++)a+=i[t]instanceof Function?i[t].call(r,e):i[t];return a}}function g(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var i=5;i--&&R.test(t);)t=t.replace(R,n);return te[t]||(te[t]=m(t)),te[t](e)}function v(e,t){switch(e){case"DDDD":return B;case"YYYY":return V;case"YYYYY":return W;case"S":case"SS":case"SSS":case"DDD":return q;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return z;case"a":case"A":return p(t._l)._meridiemParse;case"X":return U;case"Z":case"ZZ":return Y;case"T":return G;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return L;default:return new RegExp(e.replace("\\",""))}}function y(e){var t=(Y.exec(e)||[])[0],n=(t+"").match(Q)||["-",0,0],i=60*n[1]+~~n[2];return"+"===n[0]?-i:i}function b(e,t,n){var i,r=n._a;switch(e){case"M":case"MM":r[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":i=p(n._l).monthsParse(t),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(r[2]=~~t);break;case"YY":r[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~t;break;case"a":case"A":n._isPm=p(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[3]=~~t;break;case"m":case"mm":r[4]=~~t;break;case"s":case"ss":r[5]=~~t;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=y(t)}null==t&&(n._isValid=!1)}function w(e){var t,n,i=[];if(!e._d){for(t=0;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];i[3]+=~~((e._tzm||0)/60),i[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),e._d=n}}function _(e){var t,n,i=e._f.match(H),r=e._i;for(e._a=[],t=0;t<i.length;t++)n=(v(i[t],e).exec(r)||[])[0],n&&(r=r.slice(r.indexOf(n)+n.length)),re[i[t]]&&b(i[t],n,e);r&&(e._il=r),e._isPm&&e._a[3]<12&&(e._a[3]+=12),!1===e._isPm&&12===e._a[3]&&(e._a[3]=0),w(e)}function x(e){var t,n,r,o,s,l=99;for(o=0;o<e._f.length;o++)t=a({},e),t._f=e._f[o],_(t),n=new i(t),s=c(t._a,n.toArray()),n._il&&(s+=n._il.length),s<l&&(l=s,r=n);a(e,r)}function k(e){var t,n=e._i,i=J.exec(n);if(i){for(e._f="YYYY-MM-DD"+(i[2]||" "),t=0;t<4;t++)if(X[t][1].exec(n)){e._f+=X[t][0];break}Y.exec(n)&&(e._f+=" Z"),_(e)}else e._d=new Date(n)}function D(t){var n=t._i,i=I.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?k(t):u(n)?(t._a=n.slice(0),w(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function C(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function T(e,t,n){var i=A(Math.abs(e)/1e3),r=A(i/60),a=A(r/60),o=A(a/24),s=A(o/365),l=i<45&&["s",i]||1===r&&["m"]||r<45&&["mm",r]||1===a&&["h"]||a<22&&["hh",a]||1===o&&["d"]||o<=25&&["dd",o]||o<=45&&["M"]||o<345&&["MM",A(o/30)]||1===s&&["y"]||["yy",s];return l[2]=t,l[3]=e>0,l[4]=n,C.apply({},l)}function E(e,t,n){var i,r=n-t,a=n-e.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=N(e).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function S(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=p().preparse(t)),N.isMoment(t)?(e=a({},t),e._d=new Date(+t._d)):n?u(n)?x(e):_(e):D(e),new i(e))}function j(e,t){N.fn[e]=N.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),N.updateOffset(this),this):this._d["get"+n+t]()}}function O(e,t){N.duration.fn["as"+e]=function(){return+this/t}}for(var N,F,A=Math.round,M={},$="undefined"!=typeof module&&module.exports,I=/^\/?Date\((\-?\d+)/i,P=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,H=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,L=/\d\d?/,q=/\d{1,3}/,B=/\d{3}/,V=/\d{1,4}/,W=/[+\-]?\d{1,6}/,z=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Y=/Z|[\+\-]\d\d:?\d\d/i,G=/T/i,U=/[\+\-]?\d+(\.\d{1,3})?/,J=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,X=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Q=/([\+\-]|\d\d)/gi,Z="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),K={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ee={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},te={},ne="DDD w W M D d".split(" "),ie="M D H h m s w W".split(" "),re={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return s(this.year()%100,2)},YYYY:function(){return s(this.year(),4)},YYYYY:function(){return s(this.year(),5)},gg:function(){return s(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return s(this.weekYear(),5)},GG:function(){return s(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return s(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return s(~~(this.milliseconds()/10),2)},SSS:function(){return s(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+s(~~(e/60),2)+":"+s(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+s(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ne.length;)F=ne.pop(),re[F+"o"]=function(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}(re[F],F);for(;ie.length;)F=ie.pop(),re[F+F]=t(re[F],2);for(re.DDDD=t(re.DDD,3),n.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;t<12;t++)if(this._monthsParse[t]||(n=N([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=N([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return E(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},N=function(e,t,n){return S({_i:e,_f:t,_l:n,_isUTC:!1})},N.utc=function(e,t,n){return S({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},N.unix=function(e){return N(1e3*e)},N.duration=function(e,t){var n,i,a=N.isDuration(e),o="number"==typeof e,s=a?e._data:o?{}:e,l=P.exec(e);return o?t?s[t]=e:s.milliseconds=e:l&&(n="-"===l[1]?-1:1,s={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new r(s),a&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},N.version="2.0.0",N.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",N.updateOffset=function(){},N.lang=function(e,t){if(!e)return N.fn._lang._abbr;t?f(e,t):M[e]||p(e),N.duration.fn._lang=N.fn._lang=p(e)},N.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),p(e)},N.isMoment=function(e){return e instanceof i},N.isDuration=function(e){return e instanceof r},N.fn=i.prototype={clone:function(){return N(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return g(N(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!c(this._a,(this._isUTC?N.utc(this._a):N(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=g(this,e||N.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?N.duration(+t,e):N.duration(e,t),l(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?N.duration(+t,e):N.duration(e,t),l(this,n,-1),this},diff:function(e,t,n){var i,r,a=this._isUTC?N(e).zone(this._offset||0):N(e).local(),s=6e4*(this.zone()-a.zone());return t=d(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-N(this).startOf("month")-(a-N(a).startOf("month")))/i,r-=6e4*(this.zone()-N(this).startOf("month").zone()-(a.zone()-N(a).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-a,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?r:o(r)},from:function(e,t){return N.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(N(),e)},calendar:function(){var e=this.diff(N().startOf("day"),"days",!0),t=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return e%4==0&&e%100!=0||e%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&"number"!=typeof(e=this.lang().weekdaysParse(e))?this:this.add({d:e-t}):t},month:function(e){var t=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&"number"!=typeof(e=this.lang().monthsParse(e))?this:(this._d["set"+t+"Month"](e),N.updateOffset(this),this):this._d["get"+t+"Month"]()},startOf:function(e){switch(e=d(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+N(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+N(e).startOf(t)},isSame:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)==+N(e).startOf(t)},min:function(e){return e=N.apply(null,arguments),e<this?this:e},max:function(e){return e=N.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=y(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,t!==e&&l(this,N.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return N.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=A((N(this).startOf("day")-N(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=E(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=E(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=E(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},lang:function(t){return t===e?this._lang:(this._lang=p(t),this)}},F=0;F<Z.length;F++)j(Z[F].toLowerCase().replace(/s$/,""),Z[F]);j("year","FullYear"),N.fn.days=N.fn.day,N.fn.months=N.fn.month,N.fn.weeks=N.fn.week,N.fn.isoWeeks=N.fn.isoWeek,N.fn.toJSON=N.fn.toISOString,N.duration.fn=r.prototype={weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=T(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=N.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this},subtract:function(e,t){var n=N.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this},get:function(e){return e=d(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=d(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:N.fn.lang};for(F in K)K.hasOwnProperty(F)&&(O(F,K[F]),function(e){N.duration.fn[e]=function(){return this._data[e]}}(F.toLowerCase()));O("Weeks",6048e5),N.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},N.lang("en",{ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),$&&(module.exports=N),"undefined"==typeof ender&&(this.moment=N),"function"==typeof define&&define.amd&&define("moment",[],function(){return N})}.call(this),moment.lang("ru",{months:monthsCaseReplace,monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"час",hh:relativeTimeWithPlural,d:"день",dd:relativeTimeWithPlural,M:"месяц",MM:relativeTimeWithPlural,y:"год",yy:relativeTimeWithPlural},ordinal:"%d.",week:{dow:1,doy:7}}),function(e){var t=function(){return!1===e.support.boxModel&&e.support.objectAll&&e.support.leadingWhitespace}();e.jGrowl=function(t,n){0==e("#jGrowl").size()&&e('<div id="jGrowl"></div>').addClass(n&&n.position?n.position:e.jGrowl.defaults.position).appendTo("body"),e("#jGrowl").jGrowl(t,n)},e.fn.jGrowl=function(t,n){if(e.isFunction(this.each)){var i=arguments;return this.each(function(){void 0==e(this).data("jGrowl.instance")&&(e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null})),e(this).data("jGrowl.instance").startup(this)),e.isFunction(e(this).data("jGrowl.instance")[t])?e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(i).slice(1)):e(this).data("jGrowl.instance").create(t,n)})}},e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,n){var n=e.extend({},this.defaults,n);void 0!==n.speed&&(n.openDuration=n.speed,n.closeDuration=n.speed),this.notifications.push({message:t,options:n}),n.log.apply(this.element,[this.element,t,n])},render:function(t){var n=this,i=t.message,r=t.options;r.themeState=""==r.themeState?"":"ui-state-"+r.themeState;var t=e("<div/>").addClass("jGrowl-notification "+r.themeState+" ui-corner-all"+(void 0!=r.group&&""!=r.group?" "+r.group:"")).append(e("<div/>").addClass("jGrowl-close").html(r.closeTemplate)).append(e("<div/>").addClass("jGrowl-header").html(r.header)).append(e("<div/>").addClass("jGrowl-message").html(i)).data("jGrowl",r).addClass(r.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){e(this).parent().trigger("jGrowl.beforeClose")}).parent();e(t).bind("mouseover.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){!1!==r.beforeOpen.apply(t,[t,i,r,n.element])&&e(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){!1!==r.open.apply(t,[t,i,r,n.element])&&("after"==r.glue?e("div.jGrowl-notification:last",n.element).after(t):e("div.jGrowl-notification:first",n.element).before(t),e(this).animate(r.animateOpen,r.openDuration,r.easing,function(){!1===e.support.opacity&&this.style.removeAttribute("filter"),null!==e(this).data("jGrowl")&&(e(this).data("jGrowl").created=new Date),e(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){r.afterOpen.apply(t,[t,i,r,n.element])}).bind("jGrowl.beforeClose",function(){!1!==r.beforeClose.apply(t,[t,i,r,n.element])&&e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",!0),e(this).animate(r.animateClose,r.closeDuration,r.easing,function(){e.isFunction(r.close)?!1!==r.close.apply(t,[t,i,r,n.element])&&e(this).remove():e(this).remove()})}).trigger("jGrowl.beforeOpen"),""!=r.corners&&void 0!=e.fn.corner&&e(t).corner(r.corners),e("div.jGrowl-notification:parent",n.element).size()>1&&0==e("div.jGrowl-closer",n.element).size()&&!1!==this.defaults.closer&&e(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose"),e.isFunction(n.defaults.closer)&&n.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])})},update:function(){e(this.element).find("div.jGrowl-notification:parent").each(function(){void 0!=e(this).data("jGrowl")&&void 0!==e(this).data("jGrowl").created&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life)<(new Date).getTime()&&!0!==e(this).data("jGrowl").sticky&&(void 0==e(this).data("jGrowl.pause")||!0!==e(this).data("jGrowl.pause"))&&e(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0==this.defaults.pool||e(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),e(this.element).find("div.jGrowl-notification:parent").size()<2&&e(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})},startup:function(n){this.element=e(n).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){e(n).data("jGrowl.instance").update()},parseInt(this.defaults.check)),t&&e(this.element).addClass("ie6")},shutdown:function(){e(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty()},close:function(){e(this.element).find("div.jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}}),e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults}(jQuery),define("jquery.jgrowl",["jquery"],function(e){return function(){return e.jquery}}(this)),function(e,t,n){function i(n){var i=t.console;a[n]||(a[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function r(t,n,r,a){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i(a),r},set:function(e){i(a),r=e}})}catch(e){}e._definePropertyBroken=!0,t[n]=r}var a={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){a={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){},c=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,r,a){var l=n.toLowerCase(),u=t&&t.nodeType;return a&&(s.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(u)&&(o?n in o:e.isFunction(e.fn[n])))?e(t)[n](r):("type"===n&&void 0!==r&&c.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&f.test(l)&&(e.attrHooks[l]={get:function(t,n){var i,r=e.prop(t,n);return!0===r||"boolean"!=typeof r&&(i=t.getAttributeNode(n))&&!1!==i.nodeValue?n.toLowerCase():void 0},set:function(t,n,i){var r;return!1===n?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(l)&&i("jQuery.fn.attr('"+l+"') may use property instead of attribute")),s.call(e,t,n,r))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();if("button"===n)return u.apply(this,arguments);"input"!==n&&"option"!==n&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var h,m,g=e.fn.init,v=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,r){var a;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(a=y.exec(e.trim(t)))&&a[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),a[3]&&i("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(a[2],n,!0),n,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(h=e.uaMatch(navigator.userAgent),m={},h.browser&&(m[h.browser]=!0,m.version=h.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var n,r,a=this[0];return!a||"events"!==t||1!==arguments.length||(n=e.data(a,t),r=e._data(a,t),void 0!==n&&n!==r||void 0===r)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),r)};var w=/\/(java|ecma)script/i,_=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),_.apply(this,arguments)},e.clean||(e.clean=function(t,n,r,a){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var o,s,l,u,c=[];if(e.merge(c,e.buildFragment(t,n).childNodes),r)for(l=function(e){if(!e.type||w.test(e.type))return a?a.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e)},o=0;null!=(s=c[o]);o++)e.nodeName(s,"script")&&l(s)||(r.appendChild(s),void 0!==s.getElementsByTagName&&(u=e.grep(e.merge([],s.getElementsByTagName("script")),l),c.splice.apply(c,[o+1,0].concat(u)),o+=u.length));return c});var x=e.event.add,k=e.event.remove,D=e.event.trigger,C=e.fn.toggle,T=e.fn.live,E=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",j=new RegExp("\\b(?:"+S+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,N=function(t){return"string"!=typeof t||e.event.special.hover?t:(O.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(O,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,a){e!==document&&j.test(t)&&i("AJAX events should be attached to document: "+t),x.call(this,e,N(t||""),n,r,a)},e.event.remove=function(e,t,n,i,r){k.call(this,e,N(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,a=t.guid||e.guid++,o=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(s.guid=a;o<r.length;)r[o++].guid=a;return this.click(s)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||j.test(e)||i("Global events are undocumented and deprecated"),D.call(this,e,t,n||document,r)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),define("jquery-migrate",["jquery"],function(){}),function(e){function t(){return"onhashchange"in window}function n(){o=document.location.hash,window.onhashchange=i}function i(t,n){var i=o;o=document.location.hash,e(window).trigger("jQuery.hashchange",{before:i,after:o})}function r(e){null==o&&(o=document.location.hash),null!=s&&clearInterval(s),l!=e.interval&&(s=setInterval(a,e.interval),l=e.interval)}function a(){if(o!=document.location.hash){var t=o;o=document.location.hash,e(window).trigger("jQuery.hashchange",{before:t,after:o})}}
e.fn.hashchange=function(t){return e(window).bind("jQuery.hashchange",t),this},e.observeHashChange=function(i){var a=e.extend({},e.observeHashChange.defaults,i);t()?n():r(a)};var o=null,s=null,l=0;e.observeHashChange.defaults={interval:500},e.observeHashChange()}(jQuery),define("jquery.hashchange",["jquery","jquery-migrate"],function(){}),function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i=e(a),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),a="object"==typeof n&&n;r||i.data("button",r=new t(this,a)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),a=n||r[t](),o=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",u=this;if(this.sliding=!0,o&&this.pause(),a=a.length?a:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:a[0],direction:s}),!a.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(u.$indicators.children()[u.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;a.addClass(t),a[0].offsetWidth,r.addClass(s),a.addClass(s),this.$element.one(e.support.transition.end,function(){a.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),a=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),o="string"==typeof n?n:a.slide;r||i.data("carousel",r=new t(this,a)),"number"==typeof n?r.to(n):o?r[o]():a.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),a=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=e.extend({},a.data(),r.data());a.carousel(o),(i=r.attr("data-slide-to"))&&a.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),(i=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&i.length){if((r=i.data("collapse"))&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,a=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,a):a())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),a=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(a)})}(window.jQuery),function(e){"use strict";function t(){e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(i){var r,a,o=e(this);if(!o.is(".disabled, :disabled"))return r=n(o),a=r.hasClass("open"),t(),a||r.toggleClass("open"),o.focus(),!1},keydown:function(t){var r,a,o,s,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(o=n(r),!(s=o.hasClass("open"))||s&&27==t.keyCode)return 27==t.which&&o.find(i).focus(),r.click();a=e("[role=menu] li:not(.divider):visible a",o),a.length&&(l=a.index(a.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus())}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),a=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,a)),"string"==typeof n?r[n]():a.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(a).one("hide",function(){n.focus()})})}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,a,o,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)s=o[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",a="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};if(this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},show:function(){var t,n,i,r,a,o,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,a){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(o,a),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,a,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(e).addClass(t).addClass("in"),n=o[0].offsetWidth,i=o[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,a=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,o.offset(e),n=o[0].offsetWidth,i=o[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),a&&o.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var t=this.tip(),n=e.Event("hide");if(this.$element.trigger(n),!n.isDefaultPrevented())return t.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?function(){var n=setTimeout(function(){t.off(e.support.transition.end).detach()},500);t.one(e.support.transition.end,function(){clearTimeout(n),t.detach()})}():t.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),a="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return("function"==typeof t.content?t.content.call(e[0]):t.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),a="object"==typeof n&&n;r||i.data("popover",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),a=e(e(t).is("body")?window:t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=a.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this;this.offsets=e([]),this.targets=e([]),this.$body.find(this.selector).map(function(){var n=e(this),i=n.data("target")||n.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(t>=i)return o!=(e=a.last()[0])&&this.activate(e);for(e=r.length;e--;)o!=a[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(a[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),a="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,a=r.closest("ul:not(.dropdown-menu)"),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=a.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(o),this.activate(r.parent("li"),a),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),o=i&&e.support.transition&&a.hasClass("fade");o?a.one(e.support.transition.end,r):r(),a.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),a="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())})}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),a=this.options.offset,o=a.bottom,s=a.top;"object"!=typeof a&&(o=s=a),"function"==typeof s&&(s=a.top()),"function"==typeof o&&(o=a.bottom()),t=!(null!=this.unpin&&i+this.unpin<=r.top)&&(null!=o&&r.top+this.$element.height()>=n-o?"bottom":null!=s&&i<=s&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),a="object"==typeof n&&n;r||i.data("affix",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),define("bootstrap",["jquery"],function(e){return function(){return e.jquery}}(this)),function(e){"use strict";"function"==typeof define&&define.amd?define("jquery.iframe-transport",["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,a;return{send:function(o,s){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),r=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,a=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=void 0}s(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",a[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,n,i){var r,a,o,s,l={},u=t.split(".")[0];t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},a=e[u][t],o=e[u][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,a,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(l[t]=i);l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}()}),o.prototype=e.widget.extend(s,{widgetEventPrefix:a?s.widgetEventPrefix:t},l,{constructor:o,namespace:u,widgetName:t,widgetFullName:r}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete a._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(t){for(var n,r,a=i.call(arguments,1),o=0,s=a.length;o<s;o++)for(n in a[o])r=a[o][n],
a[o].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,s=i.call(arguments,1),l=this;return a=!o&&s.length?e.widget.extend.apply(null,[a].concat(s)):a,o?this.each(function(){var n,i=e.data(this,r);return i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,s),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,r);t?t.option(a||{})._init():e.data(this,r,new n(a,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(r=o[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),void 0===n)return void 0===r[t]?null:r[t];r[t]=n}else{if(void 0===n)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,o){function s(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+a.eventNamespace,c=l[2];c?r.delegate(c,u,s):n.bind(u,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,a,o=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}})}(jQuery),define("jquery.ui.widget",["jquery"],function(){}),function(e){"use strict";"function"==typeof define&&define.amd?define("jquery.fileupload",["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,formData:function(e){return e.serializeArray()},add:function(t,n){(n.autoUpload||!1!==n.autoUpload&&(e(this).data("blueimp-fileupload")||e(this).data("fileupload")).options.autoUpload)&&n.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,r=t.files[0],a=t.multipart||!e.support.xhrFileUpload,o=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),a?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:o,value:t.blob}):e.each(t.files,function(e,i){n.push({name:t.paramName[e]||o,value:i})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',n.append(o,t.blob,r.name)):e.each(t.files,function(e,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append(t.paramName[e]||o,r,r.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.contentType=r.type,t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),a=r.promise();return n=n||this.options.context||a,!0===t?r.resolveWith(n,i):!1===t&&r.rejectWith(n,i),a.abort=r.promise,this._enhancePromise(a)},_addConvenienceMethods:function(e,t){var n=this;t.submit=function(){return"pending"!==this.state()&&(t.jqXHR=this.jqXHR=!1!==n._trigger("submit",e,this)&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},t.abort=function(){return this.jqXHR?this.jqXHR.abort():n._getXHRPromise()},t.state=function(){if(this.jqXHR)return n._getDeferredState(this.jqXHR)},t.progress=function(){return this._progress},t.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){var i,r,a=this,o=t.files[0],s=o.size,l=t.uploadedBytes=t.uploadedBytes||0,u=t.maxChunkSize||s,c=o.slice||o.webkitSlice||o.mozSlice,d=e.Deferred(),f=d.promise();return!(!(this._isXHRUpload(t)&&c&&(l||u<s))||t.data)&&(!!n||(l>=s?(o.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",o.error])):(r=function(){var n=e.extend({},t),f=n._progress.loaded;n.blob=c.call(o,l,l+u,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,a._initXHRData(n),a._initProgressListener(n),i=(!1!==a._trigger("chunksend",null,n)&&e.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(i,o,u){l=a._getUploadedBytes(u)||l+n.chunkSize,n._progress.loaded===f&&a._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=o,n.jqXHR=u,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),l<s?r():d.resolveWith(n.context,[i,o,u])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(f),f.abort=function(){return i.abort()},r(),f)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var a=r._progress.total,o=r._response;r._progress.loaded<a&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:a,total:a}),r),o.result=r.result=t,o.textStatus=r.textStatus=n,o.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,a,o,s=this,l=s._getAJAXSettings(n),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,i=i||((r||!1===s._trigger("send",t,l))&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){s._onDone(e,t,n,l)}).fail(function(e,t,n){s._onFail(e,t,n,l)}).always(function(e,t,n){if(s._onAlways(e,t,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=e.Deferred(),this._slots.push(a),o=a.pipe(u)):o=this._sequence=this._sequence.pipe(u,u),o.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(a&&a.rejectWith(l.context,r),u())},this._enhancePromise(o)):u()},_onAdd:function(t,n){var i,r,a,o,s=this,l=!0,u=e.extend({},this.options,n),c=u.limitMultiFileUploads,d=this._getParamName(u);if((u.singleFileUploads||c)&&this._isXHRUpload(u))if(!u.singleFileUploads&&c)for(a=[],i=[],o=0;o<n.files.length;o+=c)a.push(n.files.slice(o,o+c)),r=d.slice(o,o+c),r.length||(r=d),i.push(r);else i=d;else a=[n.files],i=[d];return n.originalFiles=n.files,e.each(a||n.files,function(r,o){var u=e.extend({},n);return u.files=a?o:[o],u.paramName=i[r],s._initResponseObject(u),s._initProgressObject(u),s._addConvenienceMethods(t,u),l=s._trigger("add",t,u)}),l},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i,r=this,a=e.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),a.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,a.resolve(t._file)):t.file(function(e){e.relativePath=n,a.resolve(e)},o):t.isDirectory?(i=t.createReader(),i.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){a.resolve(e)}).fail(o)},o)):a.resolve([]),a.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=t.prop("value")))return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),!1!==n._trigger("change",t,i)&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};if(n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1===this._trigger("paste",t,i)||!1===this._onAdd(t,i)))return!1},_onDrop:function(e){var t=this,n=e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,!1!==t._trigger("drop",e,i)&&t._onAdd(e,i)}))},_onDragOver:function(t){var n=t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;if(n){if(!1===this._trigger("dragover",t))return!1;-1!==e.inArray("Files",n.types)&&(n.dropEffect="copy",t.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_create:function(){var t=this.options;e.extend(t,e(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,a=e.Deferred(),o=a.promise();return o.abort=function(){return i=!0,n?n.abort():(a.reject(null,"abort","abort"),o)},this._getFileInputFiles(t.fileInput).always(function(e){i||(t.files=e,n=r._onSend(null,t).then(function(e,t,n){a.resolve(e,t,n)},function(e,t,n){a.reject(e,t,n)}))}),this._enhancePromise(o)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),define("sguploader/main",["jquery","jquery.iframe-transport","jquery.ui.widget","jquery.fileupload"],function($){window.initUploader=function($fileupload){function extract_hidden(e){var t={};return $(e).find('input[type="hidden"]').each(function(){"target"!=this.name&&(t[this.name]=this.value)}),t}$fileupload.fileupload({dataType:"json",url:$fileupload.find('input[name="target"]').val(),formData:extract_hidden($fileupload.val(0)),pasteZone:"",start:function(e,t){$fileupload.find(".file-uploader-btn").after($('<div class="upload-progress"><img src="/static/images/ajax-loader.gif">&nbsp;&nbsp;Идет загрузка...</div>'))},done:function(e,data){$fileupload.parent().find(".upload-progress").remove(),$.each(data.result,function(index,file){$.jGrowl(file.message,{theme:file.status}),$fileupload.data("callback")&&file&&"success"==file.status&&eval($fileupload.data("callback"))})},error:function(e,t){$fileupload.parent().find(".upload-progress").remove(),$.jGrowl("Возникла проблема со стороны сервера",{theme:"error"})}})},$(function(){$(".file-uploader").each(function(e){window.initUploader($(this))})})}),define("sgkb/main",["jquery"],function(e){e(function(){var t=function(n){n.parents(".nested-tree-node").each(function(n){t(e(n))}),n.removeClass("compact").addClass("full"),n.children(".nested-tree-content").slideDown(200)},n=function(e){e.removeClass("full").addClass("compact"),e.children(".nested-tree-content").slideUp(200),e.find(".nested-tree-node").removeClass("full").addClass("compact"),e.find(".nested-tree-node").children(".nested-tree-content").hide()};e(".nested-tree-node").addClass("compact"),e(".nested-tree-node .nested-tree-content").hide(),e(".nested-tree-node .nested-tree-header").click(function(){var i=e(this).parent();i.hasClass("compact")?t(i):n(i)});var i=function(){var e,t,n=location.search.substring(1,location.search.length).split("&"),i={};for(t=0;t<n.length;t+=1)e=n[t].split("="),i[decodeURIComponent(e[0]).toLowerCase()]=decodeURIComponent(e[1]);return i}(),r=i.node||null;if(r){var a=e("#help_node_"+r);a.parents(".nested-tree-node").each(function(n,i){t(e(i))}),t(a),e("html, body").animate({scrollTop:a.offset().top-10},500),e("#help_node_"+r+" .nested-tree-header").delay(600).animate({opacity:.7},200).animate({opacity:1},200).animate({opacity:.7},200).animate({opacity:1},400).animate({opacity:.7},200).animate({opacity:1},400)}})}),define("sgpayment/main",["jquery"],function(e){e(function(){function t(e){return parseFloat(e)==parseInt(e)&&!isNaN(e)}function n(){var n=function(t){var n=e("#submit_payment_sum"),i=e("#payment_sum");"empty"===t&&(n.attr("value","пополнить баланс"),n.attr("disabled","disabled"),i.css({"border-color":"#CCCCCC","background-color":"#FFFFFF"})),"error"===t&&(n.attr("value","пополнить баланс"),n.attr("disabled","disabled"),i.css({"border-color":"#FF0000","background-color":"#FFEEEE"})),"valid"===t&&(n.attr("value","пополнить баланс на "+e("#payment_sum").val()+" рублей"),n.removeAttr("disabled"),i.css({"border-color":"#00FF00","background-color":"#EEFFEE"}))},i=e("#payment_sum").val();n(t(i)?i.length>1?i>=10&&i<=1e4?"valid":"error":"empty":i?"error":"empty")}e("#payment_sum").keyup(n),e(document).on("click","#submit_payment_sum",function(){e("#submit_payment_sum").hide(),e("#payment_form").html('<img src="/static/images/ajax-loader.gif" />'),e("#payment_sum").attr("disabled","disabled"),e.post("/payment/w1/payment_form/",{payment_sum:e("#payment_sum").val()},function(t){e("#payment_form").html(t),window.updateIncomes(7)})}),e(document).on("click","#cancel_payment",function(t){t.stopPropagation(),t.stopImmediatePropagation();var n=e('#payment_form input[name="WMI_PAYMENT_NO"]').val();e("#payment_form").html('<img src="/static/images/ajax-loader.gif" />'),e.post("/payment/w1/cancel_payment/",{income_id:n},function(t){e("#payment_form").html(""),e("#submit_payment_sum").show(),e("#payment_sum").removeAttr("disabled")})})})}),define("sgpayment-yandex/main",["jquery"],function(e){e(function(){function t(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function n(e,t){var n=e%100,i="";switch(n>19&&(n%=10),n){case 1:i=t[0];break;case 2:case 3:case 4:i=t[1];break;default:i=t[2]}return i}function i(e){var t=s,i=a,r=o;"empty"===e&&(t.attr("value","пополнить баланс"),t.attr("disabled","disabled"),i.css({"border-color":"#CCCCCC","background-color":"#FFFFFF"}),r.css({"border-color":"#CCCCCC","background-color":"#FFFFFF"})),"error"===e&&(t.attr("value","пополнить баланс"),t.attr("disabled","disabled"),i.css({"border-color":"#FF0000","background-color":"#FFEEEE"}),r.css({"border-color":"#FF0000","background-color":"#FFEEEE"})),"valid"===e&&(t.attr("value","пополнить баланс на "+a.val()+" "+n(a.val(),["рубль","рубля","рублей"])),t.removeAttr("disabled"),i.css({"border-color":"#00FF00","background-color":"#EEFFEE"}),r.css({"border-color":"#00FF00","background-color":"#EEFFEE"}))}function r(){var n=e("#payment_yandex_sum").val(),r=e("#payment_yandex_email").val();i(n.length||r.length?n>=50&&n<=1e4&&t(r)?"valid":"error":"empty")}var a=e("#payment_yandex_sum"),o=e("#payment_yandex_email"),s=e("#submit_yandex_payment_sum"),l=e("#yandex_payment_form"),u=e("#payment_yandex_form");a.keyup(r),o.keyup(r),a.length&&o.length&&r(),e(document).on("click","#submit_yandex_payment_sum",function(t){t.preventDefault(),s.hide(),a.attr("disabled","disabled"),o.attr("disabled","disabled"),l.html('<img src="/static/images/ajax-loader.gif" />'),e.post(s.data("url"),{order_amount:a.val(),email:o.val()},function(e){u.html(e),window.updateIncomes(7)})})})}),function(){function e(e){function t(t,n,i,r,a,o){for(;a>=0&&a<o;a+=e){var s=r?r[a]:a;i=n(i,t[s],s,t)}return i}return function(n,i,r,a){i=b(i,a,4);var o=!T(n)&&y.keys(n),s=(o||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[o?o[l]:l],l+=e),t(n,i,r,o,l,s)}}function t(e){return function(t,n,i){n=w(n,i);for(var r=C(t),a=e>0?0:r-1;a>=0&&a<r;a+=e)if(n(t[a],a,t))return a;return-1}}function n(e,t,n){return function(i,r,a){var o=0,s=C(i);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(i,r),i[a]===r?a:-1;if(r!==r)return a=t(c.call(i,o,s),y.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(i[a]===r)return a;return-1}}function i(e,t){var n=N.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||s,a="constructor";for(y.has(e,a)&&!y.contains(t,a)&&t.push(a);n--;)(a=N[n])in e&&e[a]!==r[a]&&!y.contains(t,a)&&t.push(a)}var r=this,a=r._,o=Array.prototype,s=Object.prototype,l=Function.prototype,u=o.push,c=o.slice,d=s.toString,f=s.hasOwnProperty,p=Array.isArray,h=Object.keys,m=l.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var _=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var a=arguments[r],o=e(a),s=o.length,l=0;l<s;l++){var u=o[l];t&&void 0!==n[u]||(n[u]=a[u])}return n}},x=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},D=Math.pow(2,53)-1,C=k("length"),T=function(e){var t=C(e);return"number"==typeof t&&t>=0&&t<=D};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,r;if(T(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var a=y.keys(e);for(i=0,r=a.length;i<r;i++)t(e[a[i]],a[i],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),r=(i||e).length,a=Array(r),o=0;o<r;o++){var s=i?i[o]:o;a[o]=t(e[s],s,e)}return a},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;if(void 0!==(i=T(e)?y.findIndex(e,t,n):y.findKey(e,t,n))&&-1!==i)return e[i]},y.filter=y.select=function(e,t,n){var i=[];return t=w(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),r=(i||e).length,a=0;a<r;a++){var o=i?i[a]:a;if(!t(e[o],o,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var i=!T(e)&&y.keys(e),r=(i||e).length,a=0;a<r;a++){var o=i?i[a]:a;if(t(e[o],o,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return T(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,a=-1/0,o=-1/0;if(null==t&&null!=e){e=T(e)?e:y.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])>a&&(a=i)}else t=w(t,n),y.each(e,function(e,n,i){((r=t(e,n,i))>o||r===-1/0&&a===-1/0)&&(a=e,o=r)});return a},y.min=function(e,t,n){var i,r,a=1/0,o=1/0;if(null==t&&null!=e){e=T(e)?e:y.values(e);for(var s=0,l=e.length;s<l;s++)(i=e[s])<a&&(a=i)}else t=w(t,n),y.each(e,function(e,n,i){((r=t(e,n,i))<o||r===1/0&&a===1/0)&&(a=e,o=r)});return a},y.shuffle=function(e){for(var t,n=T(e)?e:y.values(e),i=n.length,r=Array(i),a=0;a<i;a++)t=y.random(0,a),t!==a&&(r[a]=r[t]),r[t]=n[a];return r},y.sample=function(e,t,n){return null==t||n?(T(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var r={};return n=w(n,i),y.each(t,function(i,a){var o=n(i,a,t);e(r,i,o)}),r}};y.groupBy=E(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=E(function(e,t,n){e[n]=t}),y.countBy=E(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):T(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:T(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var i=[],r=[];return y.each(e,function(e,n,a){(t(e,n,a)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var S=function(e,t,n,i){for(var r=[],a=0,o=i||0,s=C(e);o<s;o++){var l=e[o];if(T(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=S(l,t,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[a++]=l[u++]}else n||(r[a++]=l)}return r};y.flatten=function(e,t){return S(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=w(n,i));for(var r=[],a=[],o=0,s=C(e);o<s;o++){var l=e[o],u=n?n(l,o,e):l;t?(o&&a===u||r.push(l),a=u):n?y.contains(a,u)||(a.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(S(arguments,!0,!0))},
y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=C(e);i<r;i++){var a=e[i];if(!y.contains(t,a)){for(var o=1;o<n&&y.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},y.difference=function(e){var t=S(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,C).length||0,n=Array(t),i=0;i<t;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=C(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=w(n,i,1);for(var r=n(t),a=0,o=C(e);a<o;){var s=Math.floor((a+o)/2);n(e[s])<r?a=s+1:o=s}return a},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),a=0;a<i;a++,e+=n)r[a]=e;return r};var j=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=x(e.prototype),o=e.apply(a,r);return y.isObject(o)?o:a};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return j(e,i,t,this,n.concat(c.call(arguments)))};return i},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,a=Array(r),o=0;o<r;o++)a[o]=t[o]===y?arguments[i++]:t[o];for(;i<arguments.length;)a.push(arguments[i++]);return j(e,n,this,this,a)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,a=""+(t?t.apply(this,arguments):i);return y.has(r,a)||(r[a]=e.apply(this,arguments)),r[a]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:y.now(),o=null,a=e.apply(i,r),o||(i=r=null)};return function(){var u=y.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,r=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),s=u,a=e.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(l,c)),a}},y.debounce=function(e,t,n){var i,r,a,o,s,l=function(){var u=y.now()-o;u<t&&u>=0?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(a,r),i||(a=r=null)))};return function(){a=this,r=arguments,o=y.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(a,r),a=r=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return O&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),a=r.length,o={},s=0;s<a;s++)i=r[s],o[i]=t(e[i],i,e);return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),a=0,o=r.length;a<o;a++)if(i=r[a],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,a={},o=e;if(null==o)return a;y.isFunction(t)?(r=y.allKeys(o),i=b(t,n)):(r=S(arguments,!1,!1,1),i=function(e,t,n){return t in n},o=Object(o));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=o[u];i(c,u,o)&&(a[u]=c)}return a},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(S(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=_(y.allKeys,!0),y.create=function(e,t){var n=x(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),a=0;a<i;a++){var o=n[a];if(t[o]!==r[o]||!(o in r))return!1}return!0};var F=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===r;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(y.isFunction(o)&&o instanceof o&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!F(e[l],t[l],n,i))return!1}else{var u,c=y.keys(e);if(l=c.length,y.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(t,u)||!F(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return F(e,t)},y.isEmpty=function(e){return null==e||(T(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===d.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&f.call(e,t)},y.noConflict=function(){return r._=a,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=k,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=y.invert(A),$=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=$(A),y.unescape=$(M),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var I=0;y.uniqueId=function(e){var t=++I+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g,L=function(e){return"\\"+H[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||P).source,(t.interpolate||P).source,(t.evaluate||P).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(i,function(t,n,i,o,s){return a+=e.slice(r,s).replace(R,L),r=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,y)};return s.source="function("+(t.variable||"obj")+"){\n"+a+"}",s},y.chain=function(e){var t=y(e);return t._chain=!0,t};var q=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),q(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],q(this,n)}}),y.each(["concat","join","slice"],function(e){var t=o[e];y.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,a,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)o[n]=str(n,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(i=rep[n],(r=str(i,l))&&o.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l))&&o.push(quote(i)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json2",["jquery"],function(){}),function(e){var t="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("underscore");try{n=require("jquery")}catch(e){}e(t,exports,i,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,i){var r=e.Backbone,a=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],l(e,this),r)};case 4:return function(e,r,a){return n[t](this[i],l(e,this),r,a)};default:return function(){var e=a.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}},s=function(e,t,i){n.each(t,function(t,r){n[r]&&(e.prototype[r]=o(t,r,i))})},l=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?u(e):n.isString(e)?function(t){return t.get(e)}:e},u=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,f=function(e,t,i,r,a){var o,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in a&&void 0===a.context&&(a.context=r);for(o=n.keys(i);s<o.length;s++)t=f(e,t,o[s],i[o[s]],a)}else if(i&&d.test(i))for(o=i.split(d);s<o.length;s++)t=e(t,o[s],r,a);else t=e(t,i,r,a);return t};c.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,i,r){if(e._events=f(h,e._events||{},t,n,{context:i,ctx:e,listening:r}),r){(e._listeners||(e._listeners={}))[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[r];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=a[r]={obj:e,objId:r,id:s,listeningTo:a,count:0}}return p(e,t,i,this,o),this};var h=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),a=i.context,o=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:a,ctx:a||o,listening:s})}return e};c.off=function(e,t,n){return this._events?(this._events=f(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var a=e?[e._listenId]:n.keys(r),o=0;o<a.length;o++){var s=r[a[o]];if(!s)break;s.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var m=function(e,t,i,r){if(e){var a,o=0,s=r.context,l=r.listeners;if(t||i||s){for(var u=t?[t]:n.keys(e);o<u.length;o++){t=u[o];var c=e[t];if(!c)break;for(var d=[],f=0;f<c.length;f++){var p=c[f];i&&i!==p.callback&&i!==p.callback._callback||s&&s!==p.context?d.push(p):(a=p.listening)&&0==--a.count&&(delete l[a.id],delete a.listeningTo[a.objId])}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var h=n.keys(l);o<h.length;o++)a=l[h[o]],delete l[a.id],delete a.listeningTo[a.objId]}};c.once=function(e,t,i){var r=f(g,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=f(g,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var g=function(e,t,i,r){if(i){var a=e[t]=n.once(function(){r(t,a),i.apply(this,arguments)});a._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return f(v,this._events,e,void 0,n),this};var v=function(e,t,n,i){if(e){var r=e[t],a=e.all;r&&a&&(a=a.slice()),r&&y(r,i),a&&y(a,[t].concat(i))}return e},y=function(e,t){var n,i=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var b=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var a=i.unset,o=i.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,d=this._previousAttributes;for(var f in r)t=r[f],n.isEqual(u[f],t)||s.push(f),n.isEqual(d[f],t)?delete c[f]:c[f]=t,a?delete u[f]:u[f]=t;if(this.id=this.get(this.idAttribute),!o){s.length&&(this._pending=i);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,u[s[p]],i)}if(l)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var a=e[r];n.isEqual(t[r],a)||(i[r]=a)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;if(!t.set(r,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0,parse:!0},i);var a=i.wait;if(r&&!a){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var o=this,s=i.success,l=this.attributes;i.success=function(e){o.attributes=l;var t=i.parse?o.parse(e,i):e;if(a&&(t=n.extend({},r,t)),t&&!o.set(t,i))return!1;s&&s.call(i.context,o,e,i),o.trigger("sync",o,e,i)},R(this,i),r&&a&&(this.attributes=n.extend({},l,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var c=this.sync(u,this,i);return this.attributes=l,c},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=e.wait,a=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&a(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(R(this,e),o=this.sync("delete",this,e)),r||a(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||H();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),s(b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},_={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},k=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,a=0;a<i.length;a++)i[a]=e[a+n];for(a=0;a<r;a++)e[a+n]=t[a];for(a=0;a<i.length;a++)e[a+r+n]=i[a]};n.extend(w.prototype,c,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){t=n.defaults({},t,_),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var a,o=[],s=[],l=[],u={},c=t.add,d=t.merge,f=t.remove,p=!1,h=this.comparator&&null==r&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){a=e[g];var v=this.get(a);if(v){if(d&&a!==v){var y=this._isModel(a)?a.attributes:a;t.parse&&(y=v.parse(y,t)),v.set(y,t),h&&!p&&(p=v.hasChanged(m))}u[v.cid]||(u[v.cid]=!0,o.push(v)),e[g]=v}else c&&(a=e[g]=this._prepareModel(a,t))&&(s.push(a),this._addReference(a,t),u[a.cid]=!0,o.push(a))}if(f){for(g=0;g<this.length;g++)a=this.models[g],u[a.cid]||l.push(a);l.length&&this._removeModels(l,t)}var b=!1,w=!h&&c&&f;if(o.length&&w?(b=this.length!=o.length||n.some(this.models,function(e,t){return e!==o[t]}),this.models.length=0,k(this.models,o,0),this.length=this.models.length):s.length&&(h&&(p=!0),k(this.models,s,null==r?this.length:r),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(g=0;g<s.length;g++)null!=r&&(t.index=r+g),a=s[g],a.trigger("add",a,this,t);(p||b)&&this.trigger("sort",this,t),(s.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,a=t.success;return t.success=function(e,t,n){i&&r.add(e,n),a&&a.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var a=this.indexOf(r);this.models.splice(a,1),this.length--,t.silent||(t.index=a,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),a=this.modelId(t.attributes);r!==a&&(null!=r&&delete this._byId[r],null!=a&&(this._byId[a]=t))}this.trigger.apply(this,arguments)}}}),s(w,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var D=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,T)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(D.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(C);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var a=E[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||H()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var u=r.xhr=t.ajax(n.extend(o,r));return i.trigger("request",i,u,r),u};var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},j=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,N=/\*\w+/g,F=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var a=this;return t.history.route(e,function(n){var o=a._extractParameters(e,n);!1!==a.execute(r,o,i)&&(a.trigger.apply(a,["route:"+i].concat(o)),a.trigger("route",i,o),t.history.trigger("route",a,i,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(F,"\\$&").replace(j,"(?:$1)?").replace(O,function(e,t){return t?e:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,I=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(M,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),
this.root=("/"+this.root+"/").replace($,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var a=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(I,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new A;var P=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};b.extend=w.extend=S.extend=D.extend=A.extend=P;var H=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}),define("sgneofeed/models/tag",["underscore","backbone"],function(e,t){return t.Model.extend({defaults:{name:"",groupName:"",active:!1,feeds:[]},toggle:function(t){var n=e.map(this.get("feeds"),e.clone),i=n.indexOf(t);-1!==i?n.splice(i,1):n.push(t),this.set("feeds",n)},clear:function(){this.destroy()}})}),define("sgneofeed/collections/tags",["underscore","backbone","sgneofeed/models/tag"],function(e,t,n){var i=t.Collection.extend({url:"/feedapi/tags",model:n}),r=t.Collection.extend({url:function(){return"/microsite/"+micrositeId+"/tags/"},model:n});return isMicrosite?r:i}),define("sgneofeed/models/tag-group",["underscore","backbone"],function(e,t){return t.Model.extend({defaults:{name:"",groupName:"",active:!1},toggle:function(){this.set("active",!this.get("active"))},clear:function(){this.destroy()}})}),define("sgneofeed/collections/tags-group",["underscore","backbone","sgneofeed/models/tag-group"],function(e,t,n){return t.Collection.extend({url:"/feedapi/get-feed-tags",model:n})}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,r=i&&location.protocol&&location.protocol.replace(/\:/,""),a=i&&location.hostname,o=i&&(location.port||void 0),s=[];define("text",[],function(){var l,u,c;return"undefined"!=typeof window&&window.navigator&&window.document?u=function(e,t){var n=l.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),u=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(u=function(e,t){var n,i,r=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),"utf-8")),o="";try{for(n=new java.lang.StringBuffer,(i=r.readLine())&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=r.readLine());)n.append(a),n.append(i);o=String(n.toString())}finally{r.close()}t(o)}),l={version:"0.27.0",strip:function(e){if(e){var e=e.replace(t,""),i=e.match(n);i&&(e=i[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(n=0;n<3;n++){i=e[n];try{t=new ActiveXObject(i)}catch(e){}if(t){e=[i];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:u,parseName:function(e){var t=!1,n=e.indexOf("."),i=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return-1!==n&&(t=e.substring(n+1,e.length),t="strip"===t,e=e.substring(0,n)),{moduleName:i,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,i){var r,a=l.xdRegExp.exec(e);return!a||(e=a[2],a=a[3],a=a.split(":"),r=a[1],a=a[0],!(e&&e!==t||a&&a!==n||(r||a)&&r!==i))},finishLoad:function(e,t,n,i,r){n=t?l.strip(n):n,r.isBuild&&r.inlineText&&(s[e]=n),i(n)},load:function(e,t,n,s){var u=l.parseName(e),c=u.moduleName+"."+u.ext,d=t.toUrl(c),f=s&&s.text&&s.text.useXhr||l.useXhr;!i||f(d,r,a,o)?l.get(d,function(t){l.finishLoad(e,u.strip,t,n,s)}):t([c],function(e){l.finishLoad(u.moduleName+"."+u.ext,u.strip,e,n,s)})},write:function(e,t,n){if(t in s){var i=l.jsEscape(s[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,i,r){var t=l.parseName(t),a=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";l.load(a,n,function(){var t=function(e){return i(o,e)};t.asModule=function(e,t){return i.asModule(e,o,t)},l.write(e,a,t,r)},r)}}})}(),define("text!sgneofeed/templates/filter.html",[],function(){return'<tr class=\'filter\'>\n    <th></th>\n\n    <% _.each(filters, function(item, key) { %>\n        <% if (item.type === \'date\') { %>\n            <th class="date">\n                <div class="filter-datepicker">\n                    <div class="btn-group">\n                        <a class="btn btn-mini">\n                            <span></span>\n                            <b class="caret"></b>\n                        </a>\n                    </div>\n                </div>\n            </th>\n        <% } %>\n        <% if (item.type === \'column\') { %>\n            <th>\n                <div class="filter-column" name="<%= item.name %>"></div>\n            </th>\n        <% } %>\n    <% }); %>\n\n    <th >\n        <div class="filter-reset">\n            <a class="" href="#"><i class="icon-white icon-remove"></i></a>\n        </div>\n    </th>\n\n    <th colspan="11">\n    <% if (false) { %>\n    <% if (globalOptions.isUserAuthenticated) { %>\n        <div class="filter-reset">\n            <a class="" href="#"><i class="icon-white icon-remove"></i></a>\n        </div>\n        <fieldset style="margin-top: 5px;">\n            <label class="checkbox">\n                <input type="checkbox" name="only-available" > Приобретенные\n            </label>\n        </fieldset>\n    <% } %>\n    <% } %>\n    </th>\n</tr>'}),define("text!sgneofeed/templates/filter_column.html",[],function(){return'<% if (unactiveTags.length) { %>\n<div class="btn-group">\n    <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="#">\n        <i class="icon-plus"></i> <%= tagGroupName %> <span class="caret"></span>\n    </a>\n    <ul class="dropdown-menu">\n        <% _.each(unactiveTags, function(tag) { %>\n        <li>\n            <a href="#" class="filter-tag"><%= tag.get(\'name\') %></a>\n        </li>\n        <%}) %>\n    </ul>\n</div>\n\n<ul class="selected-tags">\n    <% _.each(activeTags, function(tag) { %>\n    <li>\n        <a href="#" class="filter-tag">\n            <span class="publication-tag">\n                <%= tag.get(\'name\') %>\n            </span>\n        </a>\n    </li>\n    <%}) %>\n</ul>\n<% } %>'}),function(e){var t=function(t,n,i){var r,a="object"==typeof n;this.startDate=moment().startOf("day"),this.endDate=moment().endOf("day"),this.minDate=!1,this.maxDate=!1,this.changed=!1,this.cleared=!1,this.showDropdowns=!1,this.dropdownAdjusts=!1,this.ranges={},this.dateLimit=!1,this.opens="right",this.cb=function(){},this.format="MM/DD/YYYY",this.separator=" - ",this.showWeekNumbers=!1,this.buttonClasses=["btn"],this.applyClass="btn btn-small btn-success",this.clearClass="btn btn-small",this.locale={applyLabel:"Apply",clearLabel:"Clear",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",archiveLabel:"Archive",daysOfWeek:moment()._lang._weekdaysMin,monthNames:moment()._lang._monthsShort,firstDay:0},r=this.locale,this.leftCalendar={month:moment([this.startDate.year(),this.startDate.month(),1]),calendar:[]},this.rightCalendar={month:moment([this.endDate.year(),this.endDate.month(),1]),calendar:[]},this.element=e(t),this.element.hasClass("pull-right")&&(this.opens="left"),this.element.is("input")?this.element.on({click:e.proxy(this.show,this),focus:e.proxy(this.show,this)}):this.element.on("click",e.proxy(this.show,this)),a&&("object"==typeof n.locale&&e.each(r,function(e,t){r[e]=n.locale[e]||t}),n.applyClass&&(this.applyClass=n.applyClass),n.clearClass&&(this.clearClass=n.clearClass));var o='<div class="daterangepicker dropdown-menu"><div class="archive"></div><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input" style="float: left"><label for="daterangepicker_start">'+this.locale.fromLabel+'</label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input" style="float: left; padding-left: 11px"><label for="daterangepicker_end">'+this.locale.toLabel+'</label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="'+this.applyClass+' applyBtn" disabled="disabled">'+this.locale.applyLabel+'</button>&nbsp;<button class="'+this.clearClass+' clearBtn">'+this.locale.clearLabel+"</button></div></div></div>";if(this.container=e(o).appendTo("body"),a){if("string"==typeof n.format&&(this.format=n.format),"string"==typeof n.separator&&(this.separator=n.separator),"string"==typeof n.startDate&&(this.startDate=moment(n.startDate,this.format).startOf("day")),"string"==typeof n.endDate&&(this.endDate=moment(n.endDate,this.format).endOf("day")),"string"==typeof n.minDate&&(this.minDate=moment(n.minDate,this.format).startOf("day")),"string"==typeof n.maxDate&&(this.maxDate=moment(n.maxDate,this.format).endOf("day")),"object"==typeof n.startDate&&(n.startDate instanceof Date?this.startDate=moment(n.startDate).startOf("day"):this.startDate=n.startDate.startOf("day")),"object"==typeof n.endDate&&(n.endDate instanceof Date?this.endDate=moment(n.endDate).endOf("day"):this.endDate=n.endDate.endOf("day")),"object"==typeof n.minDate&&(n.minDate instanceof Date?this.minDate=moment(n.minDate).startOf("day"):this.minDate=n.minDate.startOf("day")),"object"==typeof n.maxDate&&(n.maxDate instanceof Date?this.maxDate=moment(n.maxDate).endOf("day"):this.maxDate=n.maxDate.endOf("day")),"object"==typeof n.ranges){_.each(n.ranges,function(e,t){var n=moment(e[0]).startOf("day"),i=moment(e[1]).endOf("day");this.minDate&&n.isBefore(this.minDate)&&(n=moment(this.minDate)),this.maxDate&&i.isAfter(this.maxDate)&&(i=moment(this.maxDate)),this.minDate&&i.isBefore(this.minDate)||this.maxDate&&n.isAfter(this.maxDate)||(this.ranges[t]=[n,i])},this);var s="<ul>";_.each(this.ranges,function(e,t){s+="<li>"+t+"</li>"},this),s+='<li class="date-item">'+this.locale.customRangeLabel+"</li>",s+='<li class="archive-item">'+this.locale.archiveLabel+"</li>",s+="</ul>",this.container.find(".ranges").prepend(s)}if("object"==typeof n.archive){_.each(n.archive,function(e,t){var n=moment(e[0]).startOf("day"),i=moment(e[1]).endOf("day");this.ranges[t]=[n,i]},this);var l="<ul>",u=_.map(n.archive,function(e,t){return[t,e[0],e[1],e[2]]});u=_.sortBy(u,function(e){return e[3]}),_.each(u,function(e){l+="<li>"+e[0]+"</li>"}),l+="</ul>",this.container.find(".archive").append(l)}if("object"==typeof n.dateLimit&&(this.dateLimit=n.dateLimit),"object"==typeof n.locale&&"number"==typeof n.locale.firstDay){this.locale.firstDay=n.locale.firstDay;for(var c=n.locale.firstDay;c>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),c--}"string"==typeof n.opens&&(this.opens=n.opens),"boolean"==typeof n.showWeekNumbers&&(this.showWeekNumbers=n.showWeekNumbers),"string"==typeof n.buttonClasses&&(this.buttonClasses=[n.buttonClasses]),"object"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"boolean"==typeof n.showDropdowns&&(this.showDropdowns=n.showDropdowns),"boolean"==typeof n.dropdownAdjusts&&(this.dropdownAdjusts=n.dropdownAdjusts)}var d=this.container;if(e.each(this.buttonClasses,function(e,t){d.find("button").addClass(t)}),"right"===this.opens){var f=this.container.find(".calendar.left"),p=this.container.find(".calendar.right");f.removeClass("left").addClass("right"),p.removeClass("right").addClass("left")}if(void 0!==n&&void 0!==n.ranges||(this.container.find(".calendar").show(),this.move()),"function"==typeof i&&(this.cb=i),this.container.addClass("opens"+this.opens),(!a||void 0===n.startDate&&void 0===n.endDate)&&e(this.element).is("input[type=text]")){var h=e(this.element).val(),m=h.split(this.separator);2===m.length&&(this.startDate=moment(m[0],this.format).startOf("day"),this.endDate=moment(m[1],this.format).endOf("day"))}this.container.on("mousedown",e.proxy(this.mousedown,this)),this.container.find(".calendar").on("click",".prev",e.proxy(this.clickPrev,this)),this.container.find(".calendar").on("click",".next",e.proxy(this.clickNext,this)),this.container.find(".ranges").on("click","button.applyBtn",e.proxy(this.clickApply,this)),this.container.find(".ranges").on("click","button.clearBtn",e.proxy(this.clickClear,this)),this.container.find(".calendar").on("click","td.available",e.proxy(this.clickDate,this)),this.container.find(".calendar").on("mouseenter","td.available",e.proxy(this.enterDate,this)),this.container.find(".calendar").on("mouseleave","td.available",e.proxy(this.updateView,this)),this.container.find(".ranges").on("click","li",e.proxy(this.clickRange,this)),this.container.find(".archive").on("click","li",e.proxy(this.clickRange,this)),this.container.find(".ranges").on("mouseenter","li",e.proxy(this.enterRange,this)),this.container.find(".ranges").on("mouseleave","li",e.proxy(this.updateView,this)),this.container.find(".calendar").on("change","select.yearselect",e.proxy(this.updateYear,this)),this.container.find(".calendar").on("change","select.monthselect",e.proxy(this.updateMonth,this)),this.element.on("keyup",e.proxy(this.updateFromControl,this)),this.updateView(),this.updateCalendars()};t.prototype={constructor:t,mousedown:function(t){t.stopPropagation(),this.showDropdowns&&!e(t.target).not("select").length||t.preventDefault()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.separator),t=moment(e[0],this.format).startOf("day"),n=moment(e[1],this.format).endOf("day");null!==t&&null!==n&&(n.isBefore(t)||(this.startDate=t,this.endDate=n,this.updateView(),this.cb(this.startDate,this.endDate),this.updateCalendars()))}},notify:function(){this.cleared||this.updateView(),this.element.is("input")&&this.element.val(this.cleared?"":this.startDate.format(this.format)+this.separator+this.endDate.format(this.format));var e=this.cleared?null:this.startDate,t=this.cleared?null:this.endDate;this.cleared=!1,this.cb(e,t)},move:function(){var t=e(this.container).find(".ranges").outerWidth();if(e(this.container).find(".calendar").is(":visible")){t+=2*e(this.container).find(".calendar").outerWidth()+24}"left"===this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight(),right:e(window).width()-this.element.offset().left-this.element.outerWidth(),left:"auto","min-width":t}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight(),left:this.element.offset().left,right:"auto","min-width":t}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.container.show(),this.move(),t&&(t.stopPropagation(),t.preventDefault()),this.changed=!1,this.element.trigger("shown",{target:t.target,picker:this}),e(document).on("mousedown",e.proxy(this.hide,this))},hide:function(){this.container.hide(),e(document).off("mousedown",this.hide),this.changed&&(this.changed=!1,this.notify())},enterRange:function(e){var t=e.target.innerHTML;if(t===this.locale.customRangeLabel)this.updateView();else if(t===this.locale.archiveLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},clickRange:function(e){var t=e.target.innerHTML;if(t===this.locale.customRangeLabel)this.container.find(".calendar").show(),this.container.find(".archive").hide(),this.move();else if(t===this.locale.archiveLabel)this.container.find(".archive").show(),this.container.find(".calendar").hide(),this.move();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars(),this.changed=!0,this.container.find(".calendar").hide(),this.container.find(".archive").hide(),this.move(),this.hide()}},clickPrev:function(t){e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1),this.updateCalendars()},enterDate:function(t){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1);e(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][r].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][r].format(this.format))},clickDate:function(t){var n,i,r=e(t.target).attr("data-title"),a=r.substr(1,1),o=r.substr(3,1),s=e(t.target).parents(".calendar");if(s.hasClass("left")){if(n=this.leftCalendar.calendar[a][o],i=this.endDate,"object"==typeof this.dateLimit){var l=moment(n).add(this.dateLimit).endOf("day");i.isAfter(l)&&(i=l)}this.element.trigger("clicked",{dir:"left",picker:this})}else{if(n=this.startDate,i=this.rightCalendar.calendar[a][o],"object"==typeof this.dateLimit){var u=moment(i).subtract(this.dateLimit).startOf("day");n.isBefore(u)&&(n=u)}this.element.trigger("clicked",{dir:"right",picker:this})}s.find("td").removeClass("active"),n.isSame(i)||n.isBefore(i)?(e(t.target).addClass("active"),n.isSame(this.startDate)&&i.isSame(this.endDate)||(this.changed=!0),this.startDate=n,this.endDate=i):n.isAfter(i)&&(e(t.target).addClass("active"),this.changed=!0,this.startDate=n,this.endDate=moment(n).add("day",1).endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars()},clickApply:function(){this.hide()},clickClear:function(){this.changed=!0,this.cleared=!0,this.hide()},updateYear:function(t){var n=parseInt(e(t.target).val());e(t.target).closest(".calendar").hasClass("left")?this.leftCalendar.month.month(this.startDate.month()).year(n):this.rightCalendar.month.month(this.endDate.month()).year(n),this.updateCalendars()},updateMonth:function(t){var n=parseInt(e(t.target).val());e(t.target).closest(".calendar").hasClass("left")?this.leftCalendar.month.month(n).year(this.startDate.year()):this.rightCalendar.month.month(n).year(this.endDate.year()),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),"right"),this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate)),this.container.find("li").removeClass("active");var t=!0;_.each(this.ranges,function(n,i){this.startDate.isSame(n[0])&&this.endDate.isSame(n[1])&&(t=!1,this.container.find("li").filter(function(){return e(this).text()===i}).addClass("active"))},this),t&&this.container.find(".ranges li.date-item").addClass("active"),this.container.find(".archive li.active").length&&this.container.find(".ranges li.archive-item").addClass("active"),this.element.trigger("updated",this)},buildCalendar:function(e,t,n){for(var i=moment([t,e,1]),r=moment(i).subtract("month",1).month(),a=moment(i).subtract("month",1).year(),o=moment([a,r]).daysInMonth(),s=i.day(),l=[],u=0;u<6;u++)l[u]=[];var c=o-s+this.locale.firstDay+1;c>o&&(c-=7),s===this.locale.firstDay&&(c=o-6);var d;d="right"===n?moment([a,r,c]).endOf("day"):moment([a,r,c]).startOf("day");for(var f=0,p=0,h=0;f<42;f++,p++,d=moment(d).add("day",1))f>0&&p%7==0&&(p=0,h++),l[h][p]=d;return l},renderDropdowns:function(e,t,n){for(var i=e.month(),r='<select class="monthselect">',a=0;a<12;a++)r+="<option value='"+a+"'"+(a===i?" selected='selected'":"")+">"+this.locale.monthNames[a]+"</option>";r+="</select>";for(var o=e.year(),s=n&&n.year()||o+5,l=t&&t.year()||o-50,u='<select class="yearselect">',c=l;c<=s;c++)u+='<option value="'+c+'"'+(c===o?' selected="selected"':"")+">"+c+"</option>";return u+="</select>",r+u},renderCalendar:function(t,n,i,r){var a='<table class="table-condensed">';a+="<thead>",a+="<tr>",this.showWeekNumbers&&(a+="<th></th>"),!i||i.isBefore(t[1][1])?a+='<th class="prev available"><i class="icon-arrow-left"></i></th>':a+="<th></th>";var o=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(o=this.renderDropdowns(t[1][1],i,r)),a+='<th colspan="5" style="width: auto">'+o+"</th>",!r||r.isAfter(t[1][1])?a+='<th class="next available"><i class="icon-arrow-right"></i></th>':a+="<th></th>",a+="</tr>",a+="<tr>",this.showWeekNumbers&&(a+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(e,t){a+="<th>"+t+"</th>"}),a+="</tr>",a+="</thead>",a+="<tbody>";for(var s=0;s<6;s++){a+="<tr>",this.showWeekNumbers&&(a+='<td class="week">'+t[s][0].week()+"</td>");for(var l=0;l<7;l++){var u="available ";u+=t[s][l].month()===t[1][1].month()?"":"off",i&&t[s][l].isBefore(i)||r&&t[s][l].isAfter(r)?u=" off disabled ":t[s][l].isSame(n)?(u+=" active ",t[s][l].isSame(this.startDate)&&(u+=" start-date "),t[s][l].isSame(this.endDate)&&(u+=" end-date ")):t[s][l]>=this.startDate&&t[s][l]<=this.endDate&&(u+=" in-range ",t[s][l].isSame(this.startDate)&&(u+=" start-date "),t[s][l].isSame(this.endDate)&&(u+=" end-date "));var c="r"+s+"c"+l;a+='<td class="'+u.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+c+'">'+t[s][l].date()+"</td>"}a+="</tr>"}return a+="</tbody>",a+="</table>"}},e.fn.daterangepicker=function(n,i){return this.each(function(){var r=e(this);r.data("daterangepicker")||r.data("daterangepicker",new t(r,n,i))}),this}}(window.jQuery),define("bootstrap.daterangepicker",["bootstrap","jquery","moment"],function(e){return function(){return e.jquery}}(this)),define("sgneofeed/views/filter",["jquery","underscore","backbone","sgneofeed/collections/tags","sgneofeed/collections/tags-group","text!sgneofeed/templates/filter.html","text!sgneofeed/templates/filter_column.html","moment","bootstrap.daterangepicker"],function(e,t,n,i,r,a,o,s){var l=function(){var e,t,n=s().clone().startOf("year").add(7,"month").add(14,"day"),i=s().clone().startOf("day");return n.isBefore(i)?(e=s().clone().startOf("year").add(7,"month").add(14,"day"),t=s().clone().startOf("year").add(1,"year").add(7,"month").add(13,"day")):(e=s().clone().startOf("year").subtract(1,"year").add(7,"month").add(14,"day"),t=s().clone().startOf("year").add(7,"month").add(13,"day")),{from:e,to:t}},u=function(e,t){function n(e){return s().year(e).startOf("year").add(7,"month").add(14,"day")}function i(e){return s().year(e).startOf("year").add(1,"year").add(7,"month").add(13,"day")}for(var r={},a=10,o=l();e.isValid()&&e.isBefore(s().subtract(1,"year"))&&e.isBefore(t)&&a--;)!function(e,t,r,a){var o=e.year(),e=n(o),s=n(o);a.from!==e&&a.to!==s&&(t[o+" - "+(o+1)+" "]=[n(o),i(o),100*r])}(e,r,a,o),e=s(e.year()+1+"");return r},c=function(){var e={};e["Ближайшие недели"]=[s().subtract("days",13).startOf("day"),s().add("days",14).endOf("day"),2e5],e["Сегодня"]=[s().startOf("day"),s().endOf("day"),1e5];var t=l();return e["Текущий учебный год"]=[t.from,t.to],e},d={2:[{type:"date",name:"Даты"},{type:"column",name:"Тип работы"},{type:"column",name:"Класс"},{type:"column",name:"Предмет"}],5:[{type:"column",name:"Проект"},{type:"column",name:"Класс"},{type:"column",name:"Предмет"},{type:"column",name:"Издательство"},{type:"column",name:"Тип книги"}],8:[{type:"date",name:"Даты"},{type:"column",name:"Класс"},{type:"column",name:"Предмет"}],9:[{type:"date",name:"Даты"},{type:"column",name:"Класс"},{type:"column",name:"Предмет"}]};return n.View.extend({tagName:"thead",filterTemplate:t.template(a),filterColumnTemplate:t.template(o),selectedDateRange:{from:null,to:null},onlyAvailable:!1,initialize:function(e){this.options=e,this.selectedDateRange=e.defaultDateRange,this.listenTo(this,"filterChanged",this.updateTagsDisplay),this.listenTo(this,"filterChanged",this.updateDateDisplay),this.listenTo(this,"filterChanged",this.updateOnlyAvailableDisplay)},getActiveTagsNamesList:function(){return t.map(t.filter(this.collection.models,function(e){return-1!==e.get("feeds").indexOf(this.options.feedId)},this),function(e){return e.get("name")})},updateDateDisplay:function(){if(this.hasDateFilter()){var e=this.$el.find(".filter-datepicker").data("daterangepicker");e.startDate=this.selectedDateRange.from,e.endDate=this.selectedDateRange.to,e.updateView(),e.updateCalendars();var t=this.selectedDateRange.from.format("DD.MM.YYYY")+" - "+this.selectedDateRange.to.format("DD.MM.YYYY"),n=this.$el.find(".filter-datepicker").data("daterangepicker").container.find(".ranges li.active").text();if(n===e.locale.customRangeLabel)this.$el.find(".filter-datepicker span").html(t);else if(n===e.locale.archiveLabel){var i=this.$el.find(".filter-datepicker").data("daterangepicker").container.find(".archive li.active").text();this.$el.find(".filter-datepicker span").html(n+" "+i)}else this.$el.find(".filter-datepicker span").html(n)}},updateOnlyAvailableDisplay:function(){this.onlyAvailable?this.$el.find('input[name="only-available"]').attr("checked","checked"):this.$el.find('input[name="only-available"]').removeAttr("checked")},updateTagsDisplay:function(){var n=this;this.$el.find(".filter-column").each(function(i,r){var a=e(r).attr("name"),o=t.filter(n.collection.where({groupName:a}),function(e){return-1!==e.get("feeds").indexOf(n.options.feedId)},this),s=n.collection.where({groupName:a,active:!1});e(r).html(n.filterColumnTemplate({tagGroupName:a,activeTags:o,unactiveTags:s}))}),this.$el.off("click","a.filter-tag").on("click","a.filter-tag",function(t){t.preventDefault(),console.log(11);var i=e(this).text().trim();n.toggleTag(i).refresh()})},hasDateFilter:function(){var e=d[this.options.feedId];return!!t.find(e,function(e){return"date"===e.type})},render:function(){var e=this;if(this.$el.html(this.filterTemplate({globalOptions:window.feedsManagerView,filters:d[this.options.feedId]})),this.$el.find('input[name="only-available"]').on("change",function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.setOnlyAvailable(!e.onlyAvailable).refresh()}),this.$el.find(".filter-reset a").on("click",function(t){t.preventDefault(),e.setDate(null,null).clearTags().setOnlyAvailable(!1).refresh()}),this.hasDateFilter()){var t=c(e.options.maxDateRange.from,e.options.maxDateRange.to),n=u(e.options.maxDateRange.from,e.options.maxDateRange.to);this.$el.find(".filter-datepicker").daterangepicker({ranges:t,startDate:e.options.defaultDateRange&&e.options.defaultDateRange.from||null,endDate:e.options.defaultDateRange&&e.options.defaultDateRange.to||null,dateLimit:{months:12},format:"DD.MM.YYYY",archive:n,locale:{applyLabel:"Применить",clearLabel:"Сброс",fromLabel:"С",toLabel:"По",weekLabel:"Н",customRangeLabel:"Выбрать даты",archiveLabel:"Архив",firstDay:0}},function(t,n){e.setDate(t,n).refresh()})}return this},setDate:function(e,t){return this.selectedDateRange=e&&t?{from:e,to:t}:this.options.defaultDateRange,this},setCurrentAcademicYear:function(){var e=l();this.setDate(e.from,e.to).refresh()},setOnlyAvailable:function(e){return this.onlyAvailable=e,this},clearTags:function(){return this.collection.each(function(e){var t=e.get("feeds"),n=feed.indexOf(id);-1!==n&&(t.splice(n,1),e.set("feeds",t))}),this},setTags:function(e){var n=this;return e&&this.collection.map(function(i){var r=t.map(i.get("feeds"),t.clone),a=r.indexOf(this.options.feedId);-1!==t.indexOf(e,i.get("name"))?-1===r.indexOf(this.options.feedId)&&r.push(n.options.feedId):r.splice(a,1),i.set("feeds",r)},this),this},toggleTag:function(e){return this.collection.findWhere({name:e}).toggle(this.options.feedId),this},refresh:function(){return this.trigger("filterChanged"),this}})}),define("text!sgneofeed/templates/publication.html",[],function(){
return'<td>\n  <nobr>\n  <a href="#<%= id %>" class="direct-link" alt="прямая ссылка на публикацию" title="прямая ссылка на публикацию">#</a>\n  <% if (editable) { %>\n  <div class="btn-toolbar admin-toolbar-btn">\n      <a href="/admin/main/publication/<%= id %>/" target="_blank" class="btn btn-mini" alt="редактировать публикацию" title="редактировать публикацию"><i class="icon-edit"></i></a>\n  </div>\n  <% } %>\n  </nobr>\n</td>\n\n<td class="publication-date">\n    <% if (isSame) { %><strong><% } %>\n    <p><%= formattedDate %></p> \n    <span class="light small"><%= formattedDay %></span>\n    <% if (isSame) { %></strong><% } %>\n</td>\n\n<td colspan="7">\n  <div class="announcement-text">\n    <%= name %>\n  </div>\n\n  <% _.each(tags, function (tagsList, key) { %>\n\n    <% if (~[\'Тип работы\', \'Класс\', \'Предмет\', \'Издательство\', \'Тип книги\'].indexOf(key) && mode !== \'publications_notags\') { %>\n      <% _.each(tagsList, function (tag) { %>\n        <% if (tag !== \'Объявления\') { %> \n          <span class="publication-tag"><nobr><%= tag %></nobr></span>\n        <% } %>\n      <% }) %>    \n    <% } %>\n\n    <% if (~key.indexOf(\'ALERT\')) { %>\n      <% _.each(tagsList, function (tag) { %>\n        <% var color = _.first(tagsDictionary.where({name: tag})).get(\'groupColor\') %>\n        <span class="publication-tag" style="background: <%= color %>"><nobr><%= tag %></nobr></span>\n      <% }) %>    \n    <% } %>\n\n  <% }) %>\n\n</td>\n\n<td>\n<% if (globalOptions.isUserAuthenticated && orderable || price || cancelable ) { %>\n  <%= amount %>\n<% } %>\n</td>\n\n \n'}),define("text!sgneofeed/templates/amount.html",[],function(){return'<div class="btn-toolbar right-position">\n  <div class="btn-group">\n    <% if (delivered) { %>\n      <% if (cancelable) { %>\n        <button title="На баланс вернется <%= price %>" id="cancel_order_<%= id %>" name="submit" class="btn btn-mini btn-warning cancel-order-button btn-amount">отменить</button>\n      <% } else { %>\n        <% if (price > 0) { %>\n        <button class="btn btn-mini disabled downloaded-order-button btn-amount" title="Публикация стоила <%= price %>">скачано</button>\n        <% } else { %>\n        <button class="btn btn-mini disabled">бесплатно</button>\n        <% } %>\n      <% } %>}\n    <% } else { %>\n      <% if (orderable) { %>\n        <% if (price > globalOptions.userBalance) { %>\n          <% if (0 < price && price < 250) { %>\n            <a href="/accounts/payment" target="_blank" title="Пополните баланс на <%= price %> <br /> Цена 250, бонус <%= 250 - price %>" name="submit" data-toggle="tooltip" class="btn-amount btn btn-mini goto-payments-button">\n              пополнить баланс на <%= price %>\n            </a>\n          <% } else { %>\n            <a href="/accounts/payment" target="_blank" title="Пополните баланс на <%= price %> <br /> Цена <%= price %>, бонус 0" name="submit" data-toggle="tooltip" class=" btn-amount btn btn-mini goto-payments-button">\n              пополнить баланс на <%= price %> \n            </a>\n          <% } %>\n        <% } else { %>\n          <% if (price == 0) { %> \n            <button name="submit" class="btn btn-mini btn-success make-order-button">\n              Заказать бесплатно\n            </button>\n          <% } else if (0 < price && price < 250) { %> \n            <button title="С Вашего баланса будет списано <%= price %> <br /> Цена 250, бонус <%= 250 - price %>" name="submit" class="btn btn-mini btn-success make-order-button btn-amount">\n              Заказать за 250 (<%= price %>)\n            </button>\n          <% } else { %> \n            <button title="С Вашего баланса будет списано <%= price %> <br /> Цена <%= price %>, бонус 0" name="submit" class="btn btn-mini btn-success make-order-button btn-amount">\n              заказать за <%= price %>\n            </button>\n          <% } %>\n        <% } %>\n      <% } %>\n    <% } %>\n  </div>\n</div>\n\n\n'}),define("sgneofeed/views/publication",["jquery","underscore","backbone","moment","text!sgneofeed/templates/publication.html","text!sgneofeed/templates/amount.html"],function(e,t,n,i,r,a){var o=n.View.extend({tagName:"tr",className:"publication-header",adminMode:!1,authenticatedMode:!0,publicationTemplate:t.template(r),amountTemplate:t.template(a),events:{"click .cancel-order-button":"cancelOrder","click .make-order-button":"makeOrder","click a":"linkClicked",click:"publicationClicked"},_ensureElement:function(){this.changeClassNames(),n.View.prototype._ensureElement.apply(this)},initialize:function(e){this.options=e,this.mode=e.mode,this.tags=e.tags,this.listenTo(this.options.contentView,"downloadClicked",this.downloadClicked)},changeClassNames:function(){var e=i(),t=i(this.model.get("date"));this.model.get("delivered")&&(this.className+=" delivered",t.isSame(e,"day")?this.className+=" today actual":t.isBefore(e,"day")&&(this.className+=" actual")),this.model.get("admin_only")&&(this.className+=" admin_only")},linkClicked:function(e){e.stopPropagation(),e.stopImmediatePropagation()},makeOrder:function(t){t.stopPropagation(),e(t.currentTarget).attr("disabled","disabled").html('заказываем&nbsp;<img src="/static/images/ajax-loader.gif"/>&nbsp;');var n=this;this.model.save({delivered:!0},{success:function(t,i,r){n.options.contentView.updateDescription(),window.feedsManagerView.updateBalance(-n.model.get("price")),n.model.set("cancelable",!0),n.model.set("orderable",!1),window.feedsManagerView.trigger("change_balance"),e.jGrowl("Вы заказали публикацию",{sticky:!1,theme:"success"})},error:function(){e.jGrowl("Вы не авторизованны, нужно авторизоваться.",{sticky:!1}),e(t.currentTarget).removeAttr("disabled").html("заказать бесплатно")}})},cancelOrder:function(t){if(t.stopPropagation(),window.confirm("Отменить заказ публикации?")){e(t.currentTarget).attr("disabled","disabled").html('отменяем&nbsp;<img src="/static/images/ajax-loader.gif"/>&nbsp;');var n=this;this.model.save({delivered:!1,stocks:!1},{success:function(){n.options.contentView.updateDescription(),n.model.set("cancelable",!1),n.model.set("orderable",!0),window.feedsManagerView.updateBalance(n.model.get("price")),window.feedsManagerView.trigger("change_balance"),e.jGrowl("Заказ отменен",{sticky:!1,theme:"success"})},error:function(){e.jGrowl("Вы не авторизованны, нужно авторизоваться.",{sticky:!1,theme:"error"}),e(t.currentTarget).removeAttr("disabled").html("заказать бесплатно")}})}},publicationClicked:function(){this.options.contentView.toggle()},downloadClicked:function(){this.model.set("cancelable",!1),this.render()},initTooltip:function(){this.$el.find(".btn-amount").tooltip("destroy").tooltip({placement:"top",html:"true",container:"body"})},render:function(){var e=i(this.model.get("date")).startOf("day"),n=t.extend({},this.model.toJSON(),{mode:this.mode,formattedDate:e.format("DD.MM.YYYY"),formattedDay:e.format("dddd"),isSame:e.isSame(new Date),tagsDictionary:this.tags,globalOptions:window.feedsManagerView});return n.amount=this.amountTemplate(n),this.$el.html(this.publicationTemplate(n)),this.initTooltip(),this}}),s=o.extend({render:function(){o.prototype.render.call(this);var e=t.extend(this.model.toJSON(),{globalOptions:window.feedsManagerView}),n="";if(e.collect_project_info&&"traffic_light"===this.mode){var i=e.collect_project_info;i.have_record?n="success":!i.is_start||i.have_record||i.is_end?i.is_start&&!i.have_record&&i.is_end&&(n="error"):n="warning",this.$el.addClass(n)}return this}});return window.isMicrosite?s:o}),define("sgneofeed/models/publication_content",["underscore","backbone"],function(e,t){return t.Model.extend({urlRoot:"/feedapi/publicationcontent",defaults:{id:0,description:"",stocks:[],collect:""},clear:function(){this.destroy()}})}),define("sgneofeed/models/publication",["underscore","backbone","moment"],function(e,t,n){return t.Model.extend({urlRoot:"/feedapi/publication",defaults:{date:null,delivered:!0,cancelable:!0,orderable:!1,editable:!1,price:0,tags:""},clear:function(){this.destroy()},getMonth:function(){return n(this.get("date")).format("MMMM")},getDateMoment:function(){return n(this.get("date"))}})}),define("sgneofeed/collections/publications",["underscore","backbone","sgneofeed/models/publication"],function(e,t,n){return t.Collection.extend({url:"/feedapi/publications",reverseOrder:!0,model:n,initialize:function(t,n){n&&e.has(n,"reverseOrder")&&(this.reverseOrder=n.reverseOrder)},nextOrder:function(){return this.length?this.last().get("date")+1:1},comparator:function(e){return this.reverseOrder?[-e.get("date")]:[e.get("date")]}})}),define("sgreport/models/group",["underscore","backbone","moment","sgneofeed/collections/publications"],function(e,t,n,i){return t.Model.extend({time_format:"DD.MM.YYYY HH:mm",null_time:"01.01.1900 00:00",url:function(){return"/statistic/publication/"+this.publication_id+"/group/"+this.group_id+"/"},initialize:function(e){this.set("percent",this.getPercent()),this.publication_id=e.publication_id,this.group_id=e.group_id,this.sort=e.sort||{sort_fld:"file",sort_type:"asc"},this.filters=e.filters||{files:"all",report:"all"}},getPercent:function(){var e=0,t=this.get("count_handed_user"),n=this.get("count_all_user");return 0!==t&&t<n?e=~~(100*t/n):t===n&&(e=100),e},getData:function(){this.fetch()},getPublicationData:function(){this.publications=new i,this.publications.on("sync",this.getData.bind(this)),this.publications.fetch({data:{pk:this.publication_id}})},getSortedUsers:{file:{asc:function(e){return e.sort(function(e,t){return e.num_download>t.num_download?1:e.num_download<t.num_download?-1:0})},desc:function(e){return e.sort(function(e,t){return e.num_download<t.num_download?1:e.num_download>t.num_download?-1:0})}},report:{asc:function(e,t,i){return e.sort(function(e,r){var a=n(e.record_created||i,t),o=n(r.record_created||i,t),s=0;return a.isBefore(o)&&(s=1),a.isAfter(o)&&(s=-1),s})},desc:function(e,t,i){return e.sort(function(e,r){var a=n(e.record_created||i,t),o=n(r.record_created||i,t),s=0;return a.isBefore(o)&&(s=-1),a.isAfter(o)&&(s=1),s})}}},getFilteredUser:{files:{"":function(e){return e},all:function(t,n){return e.filter(t,function(e){return e.num_download===n})},part:function(t){return e.filter(t,function(e){return e.num_download})},zero:function(t){return e.filter(t,function(e){return!e.num_download})}},report:{"":function(e){return e},done:function(t){return e.filter(t,function(t){return!e.isNull(t.record_created)})},fail:function(t){return e.filter(t,function(t){return e.isNull(t.record_created)})}}},getUsersData:function(){var t=e.clone(this.get("users"));return t=this.getSortedUsers[this.sort.sort_fld][this.sort.sort_type](t,this.time_format,this.null_time),t=this.getFilteredUser.files[this.filters.files](t,this.get("num_files")),t=this.getFilteredUser.report[this.filters.report](t),e.extend(this.toJSON(),{users:t,sort:this.sort})}})}),define("sgreport/collections/groups",["underscore","backbone","sgreport/models/group"],function(e,t,n){return t.Collection.extend({url:function(){return"/statistic/publication/"+this.publication_id},initialize:function(e){this.publication_id=e.publication_id,this.model=n}})}),define("text!sgreport/templates/reports.html",[],function(){return'<div class="accordion">\n    <div class="accordion-group">\n        <div class="accordion-heading">\n            <a class="accordion-toggle collapsed" data-toggle="collapse" href="#collapse-statistic<%= publication_id %>">\n                <i class="fa fa-caret-right"></i>\n                <span>Ход работы</span>\n            </a>\n        </div>\n        <div id="collapse-statistic<%= publication_id %>" class="accordion-body collapse">\n            <div class="accordion-inner accordion-main-inner">\n                <div class="text-center"><i class="fa fa-refresh fa-spin fa-2x"></i></div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!sgreport/templates/groups.html",[],function(){return'<div class="wrapper-table-group-statistic">\n<% if (groups.length) { %>\n<table class="table table-group-statistic" data-hidden-revmove="http://benpickles.github.io/peity/">\n    <thead>\n    <tr>\n        <th class="table-group-col-pie">%</th>\n        <th class="table-group-col-name">Название группы</th>\n        <th class="table-group-col-count-user"><div>Пользователей</div><% if (groups.length > 2) { %>(<%= total.total_user %>)<% }%></th>\n        <th class="table-group-col-count-user-send"><div>Сдало</div><% if (groups.length > 2) { %>(<%= total.total_done %>)<% }%></th>\n        <th class="table-group-col-count-user-dont-send"><div>Не сдало</div><% if (groups.length > 2) { %>(<%= total.total_fail %>)<% }%></th>\n    </tr>\n    </thead>\n    <tbody>\n        <% _.each(groups, function(item) { %>\n            <tr class="js-table-group-row" data-href="/collect/report/<%= publication_id %>/<%= item.id %>">\n                <td class="table-group-col-pie">\n                    <div class="wrapper-donut">\n                        <span class="donut"><%= item.percent %>/100</span>\n                        <span class="donut-label"><%= item.percent %>%</span>\n                    </div>\n                </td>\n                <td class="table-group-col-name"><%= item.display_name || item.name %></td>\n                <td class="table-group-col-count-user"><%= item.count_all_user %></td>\n                <td class="table-group-col-count-user-send"><%= item.count_handed_user %></td>\n                <td class="table-group-col-count-user-dont-send"><%= item.count_all_user - item.count_handed_user %></td>\n            </tr>\n        <% }); %>\n    </tbody>\n</table>\n<% } else { %>\n    <p>Ни одна из групп, за которыми Вы наблюдаете, не должна сдавать отчёт.</p>\n<% } %>\n</div>\n'}),function(e,t,n,i){var r=e.fn.peity=function(t,n){return l&&this.each(function(){var i=e(this),o=i.data("_peity");o?(t&&(o.type=t),e.extend(o.opts,n)):(o=new a(i,t,e.extend({},r.defaults[t],i.data("peity"),n)),i.change(function(){o.draw()}).data("_peity",o)),o.draw()}),this},a=function(e,t,n){this.$el=e,this.type=t,this.opts=n},o=a.prototype,s=o.svgElement=function(n,i){return e(t.createElementNS("http://www.w3.org/2000/svg",n)).attr(i)},l="createElementNS"in t&&s("svg",{})[0].createSVGRect;o.draw=function(){var e=this.opts;r.graphers[this.type].call(this,e),e.after&&e.after.call(this,e)},o.fill=function(){var t=this.opts.fill;return e.isFunction(t)?t:function(e,n){return t[n%t.length]}},o.prepare=function(e,t){return this.$svg||this.$el.hide().after(this.$svg=s("svg",{class:"peity"})),this.$svg.empty().data("peity",this).attr({height:t,width:e})},o.values=function(){return e.map(this.$el.text().split(this.opts.delimiter),function(e){return parseFloat(e)})},r.defaults={},r.graphers={},r.register=function(e,t,n){this.defaults[e]=t,this.graphers[e]=n},r.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(t){if(!t.delimiter){var i=this.$el.text().match(/[^0-9\.]/);t.delimiter=i?i[0]:","}var r=e.map(this.values(),function(e){return e>0?e:0});if("/"==t.delimiter){var a=r[0],o=r[1];r=[a,n.max(0,o-a)]}for(var l=0,u=r.length,c=0;l<u;l++)c+=r[l];c||(u=2,c=1,r=[0,1]);var d=2*t.radius,f=this.prepare(t.width||d,t.height||d),p=f.width(),h=f.height(),m=p/2,g=h/2,v=n.min(m,g),y=t.innerRadius;"donut"!=this.type||y||(y=.5*v);var b=n.PI,w=this.fill(),_=this.scale=function(e,t){var i=e/c*b*2-b/2;return[t*n.cos(i)+m,t*n.sin(i)+g]},x=0;for(l=0;l<u;l++){var k,D=r[l],C=D/c;if(0!=C){if(1==C)if(y){var T=m-.01,E=g-v,S=g-y;k=s("path",{d:["M",m,E,"A",v,v,0,1,1,T,E,"L",T,S,"A",y,y,0,1,0,m,S].join(" ")})}else k=s("circle",{cx:m,cy:g,r:v});else{var j=x+D,O=["M"].concat(_(x,v),"A",v,v,0,C>.5?1:0,1,_(j,v),"L");y?O=O.concat(_(j,y),"A",y,y,0,C>.5?1:0,0,_(x,y)):O.push(m,g),x+=D,k=s("path",{d:O.join(" ")})}k.attr("fill",w.call(this,D,l,r)),f.append(k)}}}),r.register("donut",e.extend(!0,{},r.defaults.pie),function(e){r.graphers.pie.call(this,e)}),r.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(e){var t=this.values();1==t.length&&t.push(t[0]);for(var i=n.max.apply(n,void 0==e.max?t:t.concat(e.max)),r=n.min.apply(n,void 0==e.min?t:t.concat(e.min)),a=this.prepare(e.width,e.height),o=e.strokeWidth,l=a.width(),u=a.height()-o,c=i-r,d=this.x=function(e){return e*(l/(t.length-1))},f=this.y=function(e){var t=u;return c&&(t-=(e-r)/c*u),t+o/2},p=f(n.max(r,0)),h=[0,p],m=0;m<t.length;m++)h.push(d(m),f(t[m]));h.push(l,p),e.fill&&a.append(s("polygon",{fill:e.fill,points:h.join(" ")})),o&&a.append(s("polyline",{fill:"none",points:h.slice(2,h.length-2).join(" "),stroke:e.stroke,"stroke-width":o,"stroke-linecap":"square"}))}),r.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},function(e){for(var t=this.values(),i=n.max.apply(n,void 0==e.max?t:t.concat(e.max)),r=n.min.apply(n,void 0==e.min?t:t.concat(e.min)),a=this.prepare(e.width,e.height),o=a.width(),l=a.height(),u=i-r,c=e.padding,d=this.fill(),f=this.x=function(e){return e*o/t.length},p=this.y=function(e){return l-(u?(e-r)/u*l:1)},h=0;h<t.length;h++){var m,g=f(h+c),v=f(h+1-c)-g,y=t[h],b=p(y),w=b,_=b;u?y<0?w=p(n.min(i,0)):_=p(n.max(r,0)):m=1,m=_-w,0==m&&(m=1,i>0&&u&&w--),a.append(s("rect",{fill:d.call(this,y,h,t),x:g,y:w,width:v,height:m}))}})}(jQuery,document,Math),define("jquery.peity",["jquery"],function(e){return function(){return e.jquery}}(this)),define("sgreport/views/report",["underscore","backbone","sgreport/collections/groups","text!sgreport/templates/reports.html","text!sgreport/templates/groups.html","jquery.peity"],function(e,t,n,i,r){return t.View.extend({is_load:!1,template:e.template(i),template_groups:e.template(r),events:{"click .accordion-toggle":"getReport","click .js-table-group-row":"openReport"},initialize:function(e){this.options=e||{},this.collections=new n({publication_id:this.options.publication_id}),this.collections.on("sync",this.renderGroup.bind(this)),this.render()},openReport:function(e){var t=$(e.currentTarget).data("href");e.ctrlKey||e.metaKey?window.open(t,"_blank"):window.location.href=t},getReport:function(){this.is_load||(this.collections.fetch(),this.is_load=!0)},render:function(){this.$el.html(this.template({publication_id:this.options.publication_id}))},renderGroup:function(){var t=e.reduce(this.collections.toJSON(),function(e,t){return e.total_user+=t.count_all_user,e.total_done+=t.count_handed_user,e.total_fail+=t.count_all_user-t.count_handed_user,e},{total_user:0,total_done:0,total_fail:0}),n=this.template_groups({total:t,groups:e.sortBy(this.collections.toJSON(),"name"),publication_id:this.options.publication_id});this.$(".accordion-main-inner").html(n),this.$(".donut").peity("donut",{innerRadius:16,radius:18,fill:["rgb(83, 162, 83)","#fff"]})}})}),define("text!sgneofeed/templates/publication_content.html",[],function(){return'<td colspan="10">\n    <div class="publication-content-holder">\n        <div class="description">\n            <% if (description.trim()) { %>\n            <%= description %>\n            <% } else { %>\n            <p>Описание отсутствует</p>\n            <% } %>\n        </div>\n\n        <div class="clearfix">\n            <div class="span-stocks">\n                <div class="stocks">\n                </div>\n            </div>\n            <div class="span-collect">\n                <div class="collect">\n                </div>\n            </div>\n        </div>\n\n        <% if (!globalOptions.isUserAuthenticated && mode !== \'announcements\') { %>\n        <div class="alert alert-info" style="margin-bottom: 0px">\n            Для получения материалов необходимо авторизоваться в системе\n        </div>\n        <% } %>\n\n        <% if (globalOptions.isUserAuthenticated) { %>\n        <div class="statistic"></div>\n        <% } %>\n\n        <div class="btn-close">\n            <a href="#">Свернуть <i class="icon icon-arrow-up"></i></a>\n        </div>\n    </div>\n</td>'}),define("text!sgneofeed/templates/stock.html",[],function(){return'<tr>\n    <td>\n<% if (master_access) { %>\n    <form action="/get_master_access_file" method="POST" class="form-horizontal master-access-form">\n        <img src="/static/images/paperclip.gif" class="paperclip" width="16" height="16" style="margin-left: 5px">\n        <%= name %>\n        <div class="control-group">\n            <div class="dynamic-form-part">\n                <%= access_form %>\n            </div>\n        <input type="submit" value="получить файл" class="btn">\n        <input type="button" class="js-captcha-refresh btn btn-mini" value="Обновить картинку">\n        </div>\n    </form>\n<% } else { %>\n    <img src="/static/images/paperclip.gif" class="paperclip" width="16" height="16" style="margin-left: 5px">\n    <% if (public_access) { %>\n        <i class="icon-eye-open"/>\n    <% } else { %>\n        <i class="icon-eye-close"/>\n    <% } %>\n    <% if (available) { %>\n        <a href="<%= url %>" target="_blank" class="storage-link">\n            <%= name %>\n        </a>\n    <% } else { %>\n        <%= name %>\n         <small>\n        &nbsp;&nbsp;<%= files_available_verbose %>\n        </small>\n    <% } %>\n<% } %>\n    </td>\n<% if (globalOptions.isUserAuthenticated) { %>\n    <td style="white-space: nowrap">\n<% if (delivered) { %>\n        Скачивался\n<% } else { %>\n        Не скачивался\n<% } %>\n    </td>\n<% } %>\n</tr>'}),define("sgneofeed/views/publication-content",["jquery","underscore","backbone","sgneofeed/models/publication_content","sgreport/views/report","text!sgneofeed/templates/publication_content.html","text!sgneofeed/templates/stock.html","jquery.fileupload","jquery.iframe-transport","jquery.ui.widget"],function(e,t,n,i,r,a,o){return n.View.extend({tagName:"tr",className:"publication-content collapsed",template:t.template(a),stockTemplate:t.template(o),collapsed:!0,events:{"click .btn-close a":"closeClicked","click .storage-link":"downloadClicked"},initialize:function(e){this.mode=e.mode},closeClicked:function(e){e.stopPropagation(),e.preventDefault(),this.toggle()},toggle:function(){var t=this;this.collapsed=!this.collapsed,this.collapsed?(this.$el.addClass("moving"),this.$el.find(".publication-content-holder").slideUp(300,function(){t.$el.addClass("collapsed").removeClass("moving")})):(this.$el.find("td").append('<div class="publication-ajax-indicator"><img src="/static/images/ajax-loader.gif"></div>'),this.model.fetch({success:function(){t.$el.find(".publication-ajax-indicator").remove(),t.$el.addClass("moving").removeClass("collapsed"),t.renderDescription(),t.$el.find(".publication-content-holder").slideDown(300,function(){t.$el.removeClass("moving")})},error:function(){e.jGrowl("Связь с сервером прервалась",{theme:"warning"})}}))},render:function(){var e=t.extend(this.model.toJSON(),{globalOptions:window.feedsManagerView,mode:this.mode});return this.$el.html(this.template(e)),this},downloadClicked:function(){this.trigger("downloadClicked")},renderDescription:function(){var n=this,i=n.model.get("description");i.trim()||(i="<p>Описание отсутствует</p>"),n.$el.find(".description").html(i);var a=n.$el.find(".publication-content-holder .stocks"),o=n.model.get("stocks");o.length>0&&(a.html('<table id="stocks_table_'+n.model.get("id")+'"></table>'),$stocks_table=n.$el.find("#stocks_table_"+n.model.get("id")),e.each(o,function(e,i){$stocks_table.append(n.stockTemplate(t.extend({},i,{globalOptions:window.feedsManagerView})))}));var s=n.model.get("collect"),l=n.$el.find(".publication-content-holder .collect");l.html(s),l.find(".file-uploader").each(function(){window.initUploader(e(this))}),a.find('input[type="submit"]').click(function(t){t.preventDefault(),t.stopPropagation();var i=n.$el.find(".master-access-form input[type='submit']");i.val("запрашиваем сервер ..."),i.attr("disabled","disabled"),e.post("/get_master_access_file",n.$el.find(".master-access-form").serialize(),function(e){i.removeAttr("disabled"),i.val("получить файл");var t=jQuery.parseJSON(e);t.redirect?window.location.href=t.redirect:t.form&&n.$el.find(".dynamic-form-part").html(t.form)})});var u=this.$(".statistic");n.model.get("collect_handed")&&u.length&&(this.report=new r({el:u,publication_id:this.model.id}))},updateDescription:function(){var e=this;e.collapsed||this.model.fetch({success:function(){e.renderDescription()}})}})}),define("text!sgneofeed/templates/publication_separator.html",[],function(){return'<tr class="publication-separator <%= data.rowClass %>"><td colspan="20"><%= data.text %></td></tr>\n'}),define("sgneofeed/views/publications",["jquery","underscore","backbone","moment","sgneofeed/views/publication","sgneofeed/views/publication-content","sgneofeed/models/publication_content","sgneofeed/collections/publications","text!sgneofeed/templates/publication_separator.html"],function(e,t,n,i,r,a,o,s,l){return n.View.extend({tagName:"tbody",datePreviousEl:null,publicationSeparatorTemplate:t.template(l),autoExpand:!1,initialize:function(e){this.options=e,this.tags=e.tags,this.collection=new s([],{reverseOrder:e.reverseOrder}),this.advancedFiltering=e.advancedFiltering,this.reverseOrder=e.reverseOrder,this.mode=e.mode,this.listenTo(this.collection,"add",this.renderPublication),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"sync",this.handlePublicationSync),window.feedsManagerView.on("change_balance",this.render.bind(this))},handlePublicationSync:function(){0===this.collection.length&&window.feedsManagerView.trigger("publicationsListEmpty")},render:function(){return this.datePreviousEl=null,this.$el.html(""),this.autoExpand=1===this.collection.length,this.collection.length?this.collection.each(function(e){this.renderPublication(e)},this):this.$el.append(this.publicationSeparatorTemplate({data:{text:"Публикаций не найдено"}})),this},renderPublication:function(e){this.advancedFiltering&&(this.datePreviousEl&&(this.reverseOrder&&i().startOf("day").isBefore(this.datePreviousEl.startOf("day"))&&i().startOf("day").isAfter(e.getDateMoment().startOf("day"))&&this.$el.append(this.publicationSeparatorTemplate({data:{text:"cегодня ничего нет",rowClass:"actual"}})),!this.reverseOrder&&i().startOf("day").isAfter(this.datePreviousEl.startOf("day"))&&i().startOf("day").isBefore(e.getDateMoment().startOf("day"))&&this.$el.append(this.publicationSeparatorTemplate({data:{text:"cегодня ничего нет",rowClass:"actual"}}))),this.datePreviousEl&&this.datePreviousEl.format("MMYYYY")===e.getDateMoment().format("MMYYYY")||this.$el.append(this.publicationSeparatorTemplate({data:{text:e.getMonth()}})),this.datePreviousEl=e.getDateMoment());var t=new a({model:new o({id:e.get("id")}),mode:this.mode}),n=new r({tags:this.tags,model:e,contentView:t,mode:this.mode});this.$el.append(n.render().el),this.$el.append(t.render().el),this.autoExpand&&t.toggle()}})}),define("text!sgneofeed/templates/table.html",[],function(){return'<table class="table table-condensed table-hover publications">\n</table>'}),define("sgneofeed/views/feed",["jquery","underscore","backbone","sgneofeed/views/filter","sgneofeed/views/publications","sgneofeed/collections/tags","text!sgneofeed/templates/table.html"],function(e,t,n,i,r,a,o){var s=n.View.extend({tableTemplate:t.template(o),serviceTags:{},initialize:function(e){this.openFirstTime=!0,this.options=e,this.serviceTags=e.serviceTags,this.verboseName=e.verboseName,this.slug=e.slug,this.showAsDefault=e.showAsDefault,this.exactId=e.exactId,this.advancedFiltering=e.advancedFiltering,this.mode=e.mode,this.tags=e.tags,this.publicationsView=new r({advancedFiltering:this.advancedFiltering,mode:this.mode,exactId:this.exactId,reverseOrder:e.reverseOrder,tags:this.tags}),this.filterView=e.filterView,this.listenTo(this.filterView,"filterChanged",this.refreshState),this.listenTo(this.publicationsView.collection,"reset",this.updateHeader),this.updateHeader()},render:function(){this.$el.html(this.tableTemplate()),this.$("table").prepend(this.filterView.render().el),this.$("table").append(this.publicationsView.render().el)},getHeader:function(){return this.exactId?this.publicationsView.collection.length?this.publicationsView.collection.first().get("name"):"...":this.verboseName},updateHeader:function(){var t=e(this.el).parent().parent().find('a[data-slug="'+this.slug+'"]'),n=this.getHeader();n.length>20&&(n=n.substring(0,19)+" ..."),t.text(n)},updatePublications:function(){this.publicationsView.$el.html('<tr><td class="publication-systeminfo" colspan="6"><img src="/static/images/ajax-loader-big.gif"</td></tr>');var e={data:this.exactId?this.getFetchOptionsById():this.getFetchOptionsByParams(),reset:!0};return this.publicationsFetch(e),this},getFetchOptionsById:function(){return{pk:this.exactId}},getFetchOptionsByParams:function(){return{advancedFiltering:this.advancedFiltering?"True":"",tags:this.filterView.getActiveTagsNamesList(),onlyAvailable:this.filterView.onlyAvailable,from:this.filterView.selectedDateRange&&this.filterView.selectedDateRange.from?this.filterView.selectedDateRange.from.toISOString():"",to:this.filterView.selectedDateRange&&this.filterView.selectedDateRange.to?this.filterView.selectedDateRange.to.toISOString():"",feedName:this.slug}},publicationsFetch:function(e){this.publicationsView.collection.fetch(e)},updateResetButtonDisplay:function(){t.compact(this.getPath().trim().split("/")).length>1?this.$el.find(".filter-reset").show():this.$el.find(".filter-reset").hide()},getPath:function(){if(this.exactId)return this.exactId.toString();var e="/";if(this.showAsDefault||(e=this.slug+"/"),this.advancedFiltering){this.filterView.options.defaultDateRange.from&&this.filterView.options.defaultDateRange.to&&(this.filterView.selectedDateRange.from.isSame(this.filterView.options.defaultDateRange.from)&&this.filterView.selectedDateRange.to.isSame(this.filterView.options.defaultDateRange.to)||(e+=this.filterView.selectedDateRange.from.format("DDMMYYYY")+"-"+this.filterView.selectedDateRange.to.format("DDMMYYYY")+"/"));var n=this.filterView.getActiveTagsNamesList();this.filterView.onlyAvailable&&n.push("available"),n.length&&(e+=t.map(n,function(e){return encodeURIComponent(e)}).join("/"))}return e},refreshState:function(){this.currentPath!==this.getPath()?(this.currentPath=this.getPath(),window.feedRouter.navigate(this.currentPath,{trigger:!0}),this.updatePublications(),this.updateResetButtonDisplay()):(this.currentPath=this.getPath(),window.feedRouter.navigate(this.currentPath,{trigger:!1}))}}),l=s.extend({getFetchOptionsByParams:function(){return{cp_info:!0,advancedFiltering:this.advancedFiltering?"True":"",tags:this.filterView.getActiveTagsNamesList(),onlyAvailable:this.filterView.onlyAvailable,from:this.filterView.selectedDateRange&&this.filterView.selectedDateRange.from?this.filterView.selectedDateRange.from.toISOString():"",to:this.filterView.selectedDateRange&&this.filterView.selectedDateRange.to?this.filterView.selectedDateRange.to.toISOString():"",feedName:this.slug}}});return window.isMicrosite?l:s}),define("sgneofeed/views/feeds-manager",["jquery","underscore","backbone","moment","sgneofeed/views/feed","sgneofeed/views/filter","sgneofeed/collections/tags"],function(e,t,n,i,r,a,o){return n.View.extend({isUserAuthenticated:window.is_authenticated,ADVANCED_FILTERING_FEED:["publications","publications_notags","books","olymp","kurs"],FILTERING_FEED_DEFAULT_RANGE:{publications:{from:i().subtract("days",13).startOf("day"),to:i().add("days",14).endOf("day")},announcements:{from:i().subtract("days",13).startOf("day"),to:i().add("days",14).endOf("day")},publications_notags:{from:i().subtract("days",13).startOf("day"),to:i().add("days",14).endOf("day")},books:{from:null,to:null},olymp:{from:i().subtract("days",13).startOf("day"),to:i().add("days",14).endOf("day")},kurs:{from:i().subtract("days",13).startOf("day"),to:i().add("days",14).endOf("day")}},feeds:{},activeFeedName:null,initialize:function(t){var n=this;this.options=t,this.dateMin=i(this.$el.data("date-min")),this.dateMax=i(this.$el.data("date-max")),
this.userBalance=this.$el.data("user-balance"),this.tagsCollection=new o,this.tagsCollection.fetch({success:function(){n.initializeCallback()}}),e('a[data-toggle="tab"]').on("shown",function(){this.removeTab()}.bind(this)),this.on("publicationsListEmpty",this.updateFeedFilter.bind(this))},initializeCallback:function(){var t=this;e('a[data-toggle="tab"]').each(function(e,n){t.initializeFeed(n)}),this.$el.show(),e(document).find(".loading").remove(),this.trigger("tagsLoaded")},updateFeedFilter:function(){var e=this.getActiveFeed();e.openFirstTime&&(e.filterView.setCurrentAcademicYear(),e.openFirstTime=!1)},initializeFeed:function(t){var n=this,i=e(t).data("slug"),o=e(t).data("mode"),s=new r({el:n.$el.find("#"+i),slug:i,verboseName:e(t).text(),advancedFiltering:-1!==this.ADVANCED_FILTERING_FEED.indexOf(o),mode:o,reverseOrder:e(t).data("reverse-order"),showAsDefault:e(t).data("show-as-default"),exactId:null|e(t).data("exact-id"),tags:this.tagsCollection,filterView:new a({collection:n.tagsCollection,feedId:e(t).data("feed_id"),defaultDateRange:this.FILTERING_FEED_DEFAULT_RANGE[o],maxDateRange:{from:n.dateMin,to:n.dateMax}}),serviceTags:{available:!1}});this.feeds[i]=s,s.render(),e(t).click(function(t){n.feeds[e(t.target).data("slug")].refreshState()})},addTab:function(e){this.$el.find('a[data-slug="_temp"]').remove(),this.$el.find("#_temp").remove();var t=e.exactId;t&&(this.$el.find(".nav-tabs").append('<li><a class="temp" href="#_temp" data-slug="_temp" data-exact-id="'+t+'" data-toggle="tab" data-show-as-default="false" data-advanced-filtering="false" >публикация №'+t+"</a></li>"),this.$el.find(".tab-content").append('<div class="tab-pane" id="_temp">публикация №'+t+"</div>")),this.initializeFeed(this.$el.find('a[data-slug="_temp"]').get(0))},removeTab:function(){this.$el.find('a[data-slug="_temp"]').length&&(this.$el.find('a[data-slug="_temp"]').remove(),this.$el.find("#_temp").remove())},setActiveFeed:function(e){if(this.activeFeedName=e,!this.getActiveFeed())for(e in this.feeds)this.feeds[e].showAsDefault&&(this.activeFeedName=e);this.$el.find('.nav.nav-tabs a[data-slug="'+this.getActiveFeed().slug+'"]').tab("show")},getActiveFeed:function(){return this.feeds[this.activeFeedName]},updateBalance:function(t){var n=this;n.userBalance+=t,e(".balance").each(function(){var t=function(){e(this).html(n.userBalance)};e(this).animate({opacity:.1},150,t).animate({opacity:1},300)})}})}),define("sgneofeed/router",["jquery","underscore","backbone","moment","sgneofeed/views/feeds-manager"],function(e,t,n,i,r){return n.Router.extend({routes:{},initialize:function(){this.route(/^$/,"emptyIndex"),this.route(/^([a-z0-9-]+)\/?$/,"index"),this.route(/^([a-z0-9-]+)\/(.+)\/?$/,"noRangeIndex"),this.route(/^([a-z0-9-]+)\/([0-9]+)\-([0-9]+)\/?$/,"rangedIndex"),this.route(/^([a-z0-9-]+)\/([0-9]+)\-([0-9]+)\/(.+)\/?$/,"rangedIndex"),this.route(/^([0-9]+)\/?$/,"exactIdIndex")},emptyIndex:function(){this.rangedIndex(null,null,null,null)},exactIdIndex:function(e){this.rangedIndex(null,null,null,null,e)},index:function(e,t){this.rangedIndex(e,null,null,t)},noRangeIndex:function(e,t){var n=t.match(/^([0-9]+)\-([0-9]+)$/);n?this.rangedIndex(e,n[1],n[2],null):this.rangedIndex(e,null,null,t)},rangedIndex:function(e,n,a,o,s){var l=function(){var r=[],l=!1;o&&(r=t.compact(decodeURIComponent(o).split("/")),-1!==t.indexOf(r,"available")&&(l=!0,r=t.without(r,"available"))),s?(window.feedsManagerView.addTab({exactId:s}),window.feedsManagerView.setActiveFeed("_temp")):(n&&(n=i(n,"DDMMYYYY").startOf("day")),a&&(a=i(a,"DDMMYYYY").endOf("day")),window.feedsManagerView.setActiveFeed(e)),window.feedsManagerView.getActiveFeed().filterView.setDate(n,a).setTags(r).setOnlyAvailable(l).refresh()};window.feedsManagerView?l():(window.feedsManagerView=new r({el:"#neofeed"}),window.feedsManagerView.bind("tagsLoaded",l))},defaultRoute:function(){e.jGrowl("некорректный URL!",{theme:"error"})}})}),require(["jquery","backbone","sgneofeed/router"],function(e,t,n){e(function(){e("#neofeed").length&&(t.emulateHTTP=!0,t.emulateJSON=!0,window.feedRouter=new n,t.history.start({pushState:!1}))})}),define("sgneofeed/main",function(){}),define("sgsupport/main",["jquery","underscore","backbone"],function(e){e(function(){var t=2e3,n=e("#id_description"),i=e("#length_counter").text(t),r=i.parents(".max-report-count");n.on("keyup",function(){var e=n.val(),a=e.length;t>a?(i.text(t-a),r.removeClass("error")):(n.val(e.substr(0,t)),i.text("0"),r.addClass("error"))})})}),function(){var e=!0;!function(t){var n=this||(0,eval)("this"),i=n.document,r=n.navigator,a=n.jQuery,o=n.JSON;!function(e){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){e(module.exports||exports)}else"function"==typeof define&&define.amd?define("knockout",["exports"],e):e(n.ko={})}(function(s){function l(e){var t=this;return e&&d.utils.objectForEach(e,function(e,n){var i=d.extenders[e];"function"==typeof i&&(t=i(t,n))}),t}function u(e,t,n,i){d.bindingHandlers[e]={init:function(e,t,n,i,r){return d.utils.domData.set(e,g,{}),{controlsDescendantBindings:!0}},update:function(e,r,a,o,s){var l=d.utils.domData.get(e,g),u=d.utils.unwrapObservable(r()),c=!n!=!u,f=!l.savedNodes;(f||t||c!==l.didDisplayOnLastUpdate)&&(f&&(l.savedNodes=d.utils.cloneNodes(d.virtualElements.childNodes(e),!0)),c?(f||d.virtualElements.setDomNodeChildren(e,d.utils.cloneNodes(l.savedNodes)),d.applyBindingsToDescendants(i?i(s,u):s,e)):d.virtualElements.emptyNode(e),l.didDisplayOnLastUpdate=c)}},d.expressionRewriting.bindingRewriteValidators[e]=!1,d.virtualElements.allowedBindings[e]=!0}function c(e,t,n){n&&t!==d.selectExtensions.readValue(e)&&d.selectExtensions.writeValue(e,t),t!==d.selectExtensions.readValue(e)&&d.dependencyDetection.ignore(d.utils.triggerEvent,null,[e,"change"])}var d=void 0!==s?s:{};d.exportSymbol=function(e,t){for(var n=e.split("."),i=d,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=t},d.exportProperty=function(e,t,n){e[t]=n},d.version="2.3.0",d.exportSymbol("version",d.version),d.utils=function(){function e(e,t){if("input"!==d.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}var s=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},l={},u={};l[r&&/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],l.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],s(l,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)u[t[n]]=e});var c={propertychange:!0},f=i&&function(){for(var e=3,n=i.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",r[0];);return e>4?e:t}(),p=6===f,h=7===f;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n])},arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i]))return e[i];return null},arrayRemoveItem:function(e,t){var n=d.utils.arrayIndexOf(e,t);n>=0&&e.splice(n,1)},arrayGetDistinctValues:function(e){e=e||[];for(var t=[],n=0,i=e.length;n<i;n++)d.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){e=e||[];for(var n=[],i=0,r=e.length;i<r;i++)n.push(t(e[i]));return n},arrayFilter:function(e,t){e=e||[];for(var n=[],i=0,r=e.length;i<r;i++)t(e[i])&&n.push(e[i]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var i=e.indexOf?e.indexOf(t):d.utils.arrayIndexOf(e,t);i<0?n&&e.push(t):n||e.splice(i,1)},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},objectForEach:s,emptyDomNode:function(e){for(;e.firstChild;)d.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=d.utils.makeArray(e),n=i.createElement("div"),r=0,a=t.length;r<a;r++)n.appendChild(d.cleanNode(t[r]));return n},cloneNodes:function(e,t){for(var n=0,i=e.length,r=[];n<i;n++){var a=e[n].cloneNode(!0);r.push(t?d.cleanNode(a):a)}return r},setDomNodeChildren:function(e,t){if(d.utils.emptyDomNode(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var i=n[0],r=i.parentNode,a=0,o=t.length;a<o;a++)r.insertBefore(t[a],i);for(var a=0,o=n.length;a<o;a++)d.removeNode(n[a])}},setOptionNodeSelectionState:function(e,t){f<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(e,t){for(var n=[],i=(e||"").split(t),r=0,a=i.length;r<a;r++){var o=d.utils.stringTrim(i[r]);""!==o&&n.push(o)}return n},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;null!=e;){if(e==t)return!0;e=e.parentNode}return!1},domNodeIsAttachedToDocument:function(e){return d.utils.domNodeIsContainedBy(e,e.ownerDocument)},anyDomNodeIsAttachedToDocument:function(e){return!!d.utils.arrayFirst(e,d.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(t,n,i){var r=f&&c[n];if(r||void 0===a)if(r||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var o=function(e){i.call(t,e)},s="on"+n;t.attachEvent(s,o),d.utils.domNodeDisposal.addDisposeCallback(t,function(){t.detachEvent(s,o)})}else t.addEventListener(n,i,!1);else{if(e(t,n)){var l=i;i=function(e,t){var n=this.checked;t&&(this.checked=!0!==t.checkedStateBeforeEvent),l.call(this,e),this.checked=n}}a(t).bind(n,i)}},triggerEvent:function(t,r){if(!t||!t.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");if(void 0!==a){var o=[];e(t,r)&&o.push({checkedStateBeforeEvent:t.checked}),a(t).trigger(r,o)}else if("function"==typeof i.createEvent){if("function"!=typeof t.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var s=u[r]||"HTMLEvents",l=i.createEvent(s);l.initEvent(r,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(l)}else{if(void 0===t.fireEvent)throw new Error("Browser doesn't support triggering events");e(t,r)&&(t.checked=!0!==t.checked),t.fireEvent("on"+r)}},unwrapObservable:function(e){return d.isObservable(e)?e():e},peekObservable:function(e){return d.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,t,n){if(t){var i=/\S+/g,r=e.className.match(i)||[];d.utils.arrayForEach(t.match(i),function(e){d.utils.addOrRemoveItem(r,e,n)}),e.className=r.join(" ")}},setTextContent:function(e,n){var r=d.utils.unwrapObservable(n);null!==r&&r!==t||(r="");var a=d.virtualElements.firstChild(e);!a||3!=a.nodeType||d.virtualElements.nextSibling(a)?d.virtualElements.setDomNodeChildren(e,[i.createTextNode(r)]):a.data=r,d.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,f<=7)try{e.mergeAttributes(i.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},forceRefresh:function(e){if(f>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(f){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=d.utils.unwrapObservable(e),t=d.utils.unwrapObservable(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},makeArray:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},isIe6:p,isIe7:h,ieVersion:f,getFormFields:function(e,t){for(var n=d.utils.makeArray(e.getElementsByTagName("input")).concat(d.utils.makeArray(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],a=n.length-1;a>=0;a--)i(n[a])&&r.push(n[a]);return r},parseJson:function(e){return"string"==typeof e&&(e=d.utils.stringTrim(e))?o&&o.parse?o.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!o||!o.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return o.stringify(d.utils.unwrapObservable(e),t,n)},postJson:function(e,t,n){n=n||{};var r=n.params||{},a=n.includeFields||this.fieldsIncludedWithJsonPost,o=e;if("object"==typeof e&&"form"===d.utils.tagNameLower(e)){var l=e;o=l.action;for(var u=a.length-1;u>=0;u--)for(var c=d.utils.getFormFields(l,a[u]),f=c.length-1;f>=0;f--)r[c[f].name]=c[f].value}t=d.utils.unwrapObservable(t);var p=i.createElement("form");p.style.display="none",p.action=o,p.method="post";for(var h in t){var m=i.createElement("input");m.name=h,m.value=d.utils.stringifyJson(d.utils.unwrapObservable(t[h])),p.appendChild(m)}s(r,function(e,t){var n=i.createElement("input");n.name=e,n.value=t,p.appendChild(n)}),i.body.appendChild(p),n.submitter?n.submitter(p):p.submit(),setTimeout(function(){p.parentNode.removeChild(p)},0)}}}(),d.exportSymbol("utils",d.utils),d.exportSymbol("utils.arrayForEach",d.utils.arrayForEach),d.exportSymbol("utils.arrayFirst",d.utils.arrayFirst),d.exportSymbol("utils.arrayFilter",d.utils.arrayFilter),d.exportSymbol("utils.arrayGetDistinctValues",d.utils.arrayGetDistinctValues),d.exportSymbol("utils.arrayIndexOf",d.utils.arrayIndexOf),d.exportSymbol("utils.arrayMap",d.utils.arrayMap),d.exportSymbol("utils.arrayPushAll",d.utils.arrayPushAll),d.exportSymbol("utils.arrayRemoveItem",d.utils.arrayRemoveItem),d.exportSymbol("utils.extend",d.utils.extend),d.exportSymbol("utils.fieldsIncludedWithJsonPost",d.utils.fieldsIncludedWithJsonPost),d.exportSymbol("utils.getFormFields",d.utils.getFormFields),d.exportSymbol("utils.peekObservable",d.utils.peekObservable),d.exportSymbol("utils.postJson",d.utils.postJson),d.exportSymbol("utils.parseJson",d.utils.parseJson),d.exportSymbol("utils.registerEventHandler",d.utils.registerEventHandler),d.exportSymbol("utils.stringifyJson",d.utils.stringifyJson),d.exportSymbol("utils.range",d.utils.range),d.exportSymbol("utils.toggleDomNodeCssClass",d.utils.toggleDomNodeCssClass),d.exportSymbol("utils.triggerEvent",d.utils.triggerEvent),d.exportSymbol("utils.unwrapObservable",d.utils.unwrapObservable),d.exportSymbol("utils.objectForEach",d.utils.objectForEach),d.exportSymbol("utils.addOrRemoveItem",d.utils.addOrRemoveItem),d.exportSymbol("unwrap",d.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),d.utils.domData=new function(){var e=0,n="__ko__"+(new Date).getTime(),i={};return{get:function(e,n){var i=d.utils.domData.getAll(e,!1);return i===t?t:i[n]},set:function(e,n,i){if(i!==t||d.utils.domData.getAll(e,!1)!==t){d.utils.domData.getAll(e,!0)[n]=i}},getAll:function(r,a){var o=r[n];if(!o||"null"===o||!i[o]){if(!a)return t;o=r[n]="ko"+e++,i[o]={}}return i[o]},clear:function(e){var t=e[n];return!!t&&(delete i[t],e[n]=null,!0)}}},d.exportSymbol("utils.domData",d.utils.domData),d.exportSymbol("utils.domData.clear",d.utils.domData.clear),d.utils.domNodeDisposal=new function(){function e(e,n){var i=d.utils.domData.get(e,o);return i===t&&n&&(i=[],d.utils.domData.set(e,o,i)),i}function n(e){d.utils.domData.set(e,o,t)}function i(t){var n=e(t,!1);if(n){n=n.slice(0);for(var i=0;i<n.length;i++)n[i](t)}d.utils.domData.clear(t),"function"==typeof a&&"function"==typeof a.cleanData&&a.cleanData([t]),l[t.nodeType]&&r(t)}function r(e){for(var t,n=e.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&i(t)}var o="__ko_domNodeDisposal__"+(new Date).getTime(),s={1:!0,8:!0,9:!0},l={1:!0,9:!0};return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,i){var r=e(t,!1);r&&(d.utils.arrayRemoveItem(r,i),0==r.length&&n(t))},cleanNode:function(e){if(s[e.nodeType]&&(i(e),l[e.nodeType])){var t=[];d.utils.arrayPushAll(t,e.getElementsByTagName("*"));for(var n=0,r=t.length;n<r;n++)i(t[n])}return e},removeNode:function(e){d.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)}}},d.cleanNode=d.utils.domNodeDisposal.cleanNode,d.removeNode=d.utils.domNodeDisposal.removeNode,d.exportSymbol("cleanNode",d.cleanNode),d.exportSymbol("removeNode",d.removeNode),d.exportSymbol("utils.domNodeDisposal",d.utils.domNodeDisposal),d.exportSymbol("utils.domNodeDisposal.addDisposeCallback",d.utils.domNodeDisposal.addDisposeCallback),d.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",d.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e){var t=d.utils.stringTrim(e).toLowerCase(),r=i.createElement("div"),a=t.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!t.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!t.indexOf("<td")||!t.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],o="ignored<div>"+a[1]+e+a[2]+"</div>";for("function"==typeof n.innerShiv?r.appendChild(n.innerShiv(o)):r.innerHTML=o;a[0]--;)r=r.lastChild;return d.utils.makeArray(r.lastChild.childNodes)}function r(e){if(a.parseHTML)return a.parseHTML(e)||[];var t=a.clean([e]);if(t&&t[0]){for(var n=t[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}return t}d.utils.parseHtmlFragment=function(t){return void 0!==a?r(t):e(t)},d.utils.setHtml=function(e,n){if(d.utils.emptyDomNode(e),null!==(n=d.utils.unwrapObservable(n))&&n!==t)if("string"!=typeof n&&(n=n.toString()),void 0!==a)a(e).html(n);else for(var i=d.utils.parseHtmlFragment(n),r=0;r<i.length;r++)e.appendChild(i[r])}}(),d.exportSymbol("utils.parseHtmlFragment",d.utils.parseHtmlFragment),d.exportSymbol("utils.setHtml",d.utils.setHtml),d.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function i(e,t){if(e)if(8==e.nodeType){var n=d.memoization.parseMemoText(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var r=0,a=e.childNodes,o=a.length;r<o;r++)i(a[r],t)}var r={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return r[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},unmemoize:function(e,n){var i=r[e];if(i===t)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return i.apply(null,n||[]),!0}finally{delete r[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];i(e,n);for(var r=0,a=n.length;r<a;r++){var o=n[r].domNode,s=[o];t&&d.utils.arrayPushAll(s,t),d.memoization.unmemoize(n[r].memoId,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),d.exportSymbol("memoization",d.memoization),d.exportSymbol("memoization.memoize",d.memoization.memoize),d.exportSymbol("memoization.unmemoize",d.memoization.unmemoize),d.exportSymbol("memoization.parseMemoText",d.memoization.parseMemoText),d.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",d.memoization.unmemoizeDomNodeAndDescendants),d.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return d.dependentObservable({read:e,write:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}})},notify:function(e,t){return e.equalityComparer="always"==t?function(){return!1}:d.observable.fn.equalityComparer,e}},d.exportSymbol("extenders",d.extenders),d.subscription=function(e,t,n){this.target=e,this.callback=t,this.disposeCallback=n,d.exportProperty(this,"dispose",this.dispose)},d.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},d.subscribable=function(){this._subscriptions={},d.utils.extend(this,d.subscribable.fn),d.exportProperty(this,"subscribe",this.subscribe),d.exportProperty(this,"extend",this.extend),d.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};d.subscribable.fn={subscribe:function(e,t,n){n=n||"change";var i=t?e.bind(t):e,r=new d.subscription(this,i,function(){d.utils.arrayRemoveItem(this._subscriptions[n],r)}.bind(this));return this._subscriptions[n]||(this._subscriptions[n]=[]),this._subscriptions[n].push(r),r},notifySubscribers:function(e,t){t=t||"change",this._subscriptions[t]&&d.dependencyDetection.ignore(function(){d.utils.arrayForEach(this._subscriptions[t].slice(0),function(t){t&&!0!==t.isDisposed&&t.callback(e)})},this)},getSubscriptionsCount:function(){var e=0;return d.utils.objectForEach(this._subscriptions,function(t,n){e+=n.length}),e},extend:l},d.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},d.exportSymbol("subscribable",d.subscribable),d.exportSymbol("isSubscribable",d.isSubscribable),d.dependencyDetection=function(){var e=[];return{begin:function(t){e.push({callback:t,distinctDependencies:[]})},end:function(){e.pop()},registerDependency:function(t){if(!d.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");if(e.length>0){var n=e[e.length-1];if(!n||d.utils.arrayIndexOf(n.distinctDependencies,t)>=0)return;n.distinctDependencies.push(t),n.callback(t)}},ignore:function(t,n,i){try{return e.push(null),t.apply(n,i||[])}finally{e.pop()}}}}();var f={undefined:!0,boolean:!0,number:!0,string:!0};d.observable=function(t){function n(){return arguments.length>0?(n.equalityComparer&&n.equalityComparer(i,arguments[0])||(n.valueWillMutate(),i=arguments[0],e&&(n._latestValue=i),n.valueHasMutated()),this):(d.dependencyDetection.registerDependency(n),i)}var i=t;return e&&(n._latestValue=i),d.subscribable.call(n),n.peek=function(){return i},n.valueHasMutated=function(){n.notifySubscribers(i)},n.valueWillMutate=function(){n.notifySubscribers(i,"beforeChange")},d.utils.extend(n,d.observable.fn),d.exportProperty(n,"peek",n.peek),d.exportProperty(n,"valueHasMutated",n.valueHasMutated),d.exportProperty(n,"valueWillMutate",n.valueWillMutate),n},d.observable.fn={equalityComparer:function(e,t){return!!(null===e||typeof e in f)&&e===t}};var p=d.observable.protoProperty="__ko_proto__";d.observable.fn[p]=d.observable,d.hasPrototype=function(e,n){return null!==e&&e!==t&&e[p]!==t&&(e[p]===n||d.hasPrototype(e[p],n))},d.isObservable=function(e){return d.hasPrototype(e,d.observable)},d.isWriteableObservable=function(e){return"function"==typeof e&&e[p]===d.observable||!("function"!=typeof e||e[p]!==d.dependentObservable||!e.hasWriteFunction)},d.exportSymbol("observable",d.observable),d.exportSymbol("isObservable",d.isObservable),d.exportSymbol("isWriteableObservable",d.isWriteableObservable),d.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=d.observable(e);return d.utils.extend(t,d.observableArray.fn),t},d.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],i="function"==typeof e?e:function(t){return t===e},r=0;r<t.length;r++){var a=t[r];i(a)&&(0===n.length&&this.valueWillMutate(),n.push(a),t.splice(r,1),r--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===t){var n=this.peek(),i=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),i}return e?this.remove(function(t){return d.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"==typeof e?e:function(t){return t===e};this.valueWillMutate();for(var i=t.length-1;i>=0;i--){n(t[i])&&(t[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return d.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return d.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},d.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){d.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate();var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),d.utils.arrayForEach(["slice"],function(e){d.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),d.exportSymbol("observableArray",d.observableArray),d.dependentObservable=function(n,i,r){function a(e){_.push(e.subscribe(s))}function o(){d.utils.arrayForEach(_,function(e){e.dispose()}),_=[]}function s(){var e=u.throttleEvaluation;e&&e>=0?(clearTimeout(x),x=setTimeout(l,e)):l()}function l(){if(!m){if(h&&b())return void w();m=!0;try{var n=d.utils.arrayMap(_,function(e){return e.target});d.dependencyDetection.begin(function(e){var i;(i=d.utils.arrayIndexOf(n,e))>=0?n[i]=t:a(e)});for(var r=g.call(i),o=n.length-1;o>=0;o--)n[o]&&_.splice(o,1)[0].dispose();h=!0,u.notifySubscribers(p,"beforeChange"),p=r,e&&(u._latestValue=p),u.notifySubscribers(p)}finally{d.dependencyDetection.end(),m=!1}_.length||w()}}function u(){if(arguments.length>0){if("function"!=typeof v)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return v.apply(i,arguments),this}return h||l(),d.dependencyDetection.registerDependency(u),p}function c(){return h||l(),p}function f(){return!h||_.length>0}var p,h=!1,m=!1,g=n;if(g&&"object"==typeof g?(r=g,g=r.read):(r=r||{},g||(g=r.read)),"function"!=typeof g)throw new Error("Pass a function that returns the value of the ko.computed");var v=r.write,y=r.disposeWhenNodeIsRemoved||r.disposeWhenNodeIsRemoved||null,b=r.disposeWhen||r.disposeWhen||function(){return!1},w=o,_=[],x=null;if(i||(i=r.owner),u.peek=c,u.getDependenciesCount=function(){return _.length},u.hasWriteFunction="function"==typeof r.write,u.dispose=function(){w()},u.isActive=f,d.subscribable.call(u),d.utils.extend(u,d.dependentObservable.fn),d.exportProperty(u,"peek",u.peek),d.exportProperty(u,"dispose",u.dispose),d.exportProperty(u,"isActive",u.isActive),d.exportProperty(u,"getDependenciesCount",u.getDependenciesCount),!0!==r.deferEvaluation&&l(),y&&f()){w=function(){d.utils.domNodeDisposal.removeDisposeCallback(y,w),o()},d.utils.domNodeDisposal.addDisposeCallback(y,w);var k=b;b=function(){return!d.utils.domNodeIsAttachedToDocument(y)||k()}}return u},d.isComputed=function(e){return d.hasPrototype(e,d.dependentObservable)};var h=d.observable.protoProperty;d.dependentObservable[h]=d.observable,d.dependentObservable.fn={},d.dependentObservable.fn[h]=d.dependentObservable,d.exportSymbol("dependentObservable",d.dependentObservable),d.exportSymbol("computed",d.dependentObservable),d.exportSymbol("isComputed",d.isComputed),function(){function e(r,a,o){if(o=o||new i,!!("object"!=typeof(r=a(r))||null===r||r===t||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean))return r;var s=r instanceof Array?[]:{};return o.save(r,s),n(r,function(n){var i=a(r[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":s[n]=i;break;case"object":case"undefined":var l=o.get(i);s[n]=l!==t?l:e(i,a,o)}}),s}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var i in e)t(i)}function i(){this.keys=[],this.values=[]}d.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;d.isObservable(e)&&t<10;t++)e=e();return e})},d.toJSON=function(e,t,n){var i=d.toJS(e);return d.utils.stringifyJson(i,t,n)},i.prototype={constructor:i,save:function(e,t){var n=d.utils.arrayIndexOf(this.keys,e);n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var n=d.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:t}}}(),d.exportSymbol("toJS",d.toJS),d.exportSymbol("toJSON",d.toJSON),function(){d.selectExtensions={readValue:function(e){switch(d.utils.tagNameLower(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?d.utils.domData.get(e,d.bindingHandlers.options.optionValueDomDataKey):d.utils.ieVersion<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return e.selectedIndex>=0?d.selectExtensions.readValue(e.options[e.selectedIndex]):t;default:return e.value}},writeValue:function(e,n){switch(d.utils.tagNameLower(e)){case"option":switch(typeof n){case"string":d.utils.domData.set(e,d.bindingHandlers.options.optionValueDomDataKey,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=n;break;default:d.utils.domData.set(e,d.bindingHandlers.options.optionValueDomDataKey,n),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof n?n:""}break;case"select":""===n&&(n=t),null!==n&&n!==t||(e.selectedIndex=-1);for(var i=e.options.length-1;i>=0;i--)if(d.selectExtensions.readValue(e.options[i])==n){e.selectedIndex=i;break}e.size>1||-1!==e.selectedIndex||(e.selectedIndex=0);break;default:null!==n&&n!==t||(n=""),e.value=n}}}}(),d.exportSymbol("selectExtensions",d.selectExtensions),d.exportSymbol("selectExtensions.readValue",d.selectExtensions.readValue),d.exportSymbol("selectExtensions.writeValue",d.selectExtensions.writeValue),d.expressionRewriting=function(){function e(e,t){for(var n=null;e!=n;)n=e,e=e.replace(i,function(e,n){return t[n]});return e}function t(e){if(d.utils.arrayIndexOf(r,d.utils.stringTrim(e).toLowerCase())>=0)return!1;var t=e.match(a);return null!==t&&(t[1]?"Object("+t[1]+")"+t[2]:e)}function n(e){var t=d.utils.stringTrim(e);switch(t.length&&t.charAt(0)){case"'":case'"':return e;default:return"'"+t+"'"}}var i=/\@ko_token_(\d+)\@/g,r=["true","false","null","undefined"],a=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{bindingRewriteValidators:[],parseObjectLiteral:function(t){var n=d.utils.stringTrim(t);if(n.length<3)return[];"{"===n.charAt(0)&&(n=n.substring(1,n.length-1));for(var i,r=[],a=null,o=0;o<n.length;o++){var s=n.charAt(o);if(null===a)switch(s){case'"':case"'":case"/":a=o,i=s}else if(s==i&&"\\"!==n.charAt(o-1)){var l=n.substring(a,o+1);r.push(l);var u="@ko_token_"+(r.length-1)+"@";n=n.substring(0,a)+u+n.substring(o+1),o-=l.length-u.length,a=null}}a=null,i=null;for(var c=0,f=null,o=0;o<n.length;o++){var s=n.charAt(o);if(null===a)switch(s){case"{":a=o,f=s,i="}";break;case"(":a=o,f=s,i=")";break;case"[":a=o,f=s,i="]"}if(s===f)c++;else if(s===i&&0===--c){var l=n.substring(a,o+1);r.push(l);var u="@ko_token_"+(r.length-1)+"@";n=n.substring(0,a)+u+n.substring(o+1),o-=l.length-u.length,a=null}}for(var p=[],h=n.split(","),m=0,g=h.length;m<g;m++){var v=h[m],y=v.indexOf(":");if(y>0&&y<v.length-1){var b=v.substring(0,y),w=v.substring(y+1);p.push({key:e(b,r),value:e(w,r)})}else p.push({unknown:e(v,r)})}return p},preProcessBindings:function(e){for(var i,r="string"==typeof e?d.expressionRewriting.parseObjectLiteral(e):e,a=[],o=[],s=0;i=r[s];s++)if(a.length>0&&a.push(","),i.key){var l=n(i.key),u=i.value;a.push(l),a.push(":"),a.push(u),(u=t(d.utils.stringTrim(u)))&&(o.length>0&&o.push(", "),o.push(l+" : function(__ko_value) { "+u+" = __ko_value; }"))}else i.unknown&&a.push(i.unknown);var c=a.join("");if(o.length>0){c=c+", '_ko_property_writers' : { "+o.join("")+" } "}return c},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(d.utils.stringTrim(e[n].key)==t)return!0;return!1},writeValueToProperty:function(e,t,n,i,r){if(e&&d.isObservable(e))!d.isWriteableObservable(e)||r&&e.peek()===i||e(i);else{var a=t()._ko_property_writers;a&&a[n]&&a[n](i)}}}}(),d.exportSymbol("expressionRewriting",d.expressionRewriting),
d.exportSymbol("expressionRewriting.bindingRewriteValidators",d.expressionRewriting.bindingRewriteValidators),d.exportSymbol("expressionRewriting.parseObjectLiteral",d.expressionRewriting.parseObjectLiteral),d.exportSymbol("expressionRewriting.preProcessBindings",d.expressionRewriting.preProcessBindings),d.exportSymbol("jsonExpressionRewriting",d.expressionRewriting),d.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",d.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&(o?e.text:e.nodeValue).match(s)}function t(e){return 8==e.nodeType&&(o?e.text:e.nodeValue).match(l)}function n(n,i){for(var r=n,a=1,o=[];r=r.nextSibling;){if(t(r)&&0===--a)return o;o.push(r),e(r)&&a++}if(!i)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(e,t){var i=n(e,t);return i?i.length>0?i[i.length-1].nextSibling:e.nextSibling:null}function a(n){var i=n.firstChild,a=null;if(i)do{if(a)a.push(i);else if(e(i)){var o=r(i,!0);o?i=o:a=[i]}else t(i)&&(a=[i])}while(i=i.nextSibling);return a}var o=i&&"\x3c!--test--\x3e"===i.createComment("test").text,s=o?/^<!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*-->$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,l=o?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};d.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=d.virtualElements.childNodes(t),i=0,r=n.length;i<r;i++)d.removeNode(n[i]);else d.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){d.virtualElements.emptyNode(t);for(var i=t.nextSibling,r=0,a=n.length;r<a;r++)i.parentNode.insertBefore(n[r],i)}else d.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):d.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=r(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},virtualNodeBindingValue:function(t){var n=e(t);return n?n[1]:null},normaliseVirtualElementDomStructure:function(e){if(u[d.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n=a(t);if(n)for(var i=t.nextSibling,r=0;r<n.length;r++)i?e.insertBefore(n[r],i):e.appendChild(n[r])}}while(t=t.nextSibling)}}}}(),d.exportSymbol("virtualElements",d.virtualElements),d.exportSymbol("virtualElements.allowedBindings",d.virtualElements.allowedBindings),d.exportSymbol("virtualElements.emptyNode",d.virtualElements.emptyNode),d.exportSymbol("virtualElements.insertAfter",d.virtualElements.insertAfter),d.exportSymbol("virtualElements.prepend",d.virtualElements.prepend),d.exportSymbol("virtualElements.setDomNodeChildren",d.virtualElements.setDomNodeChildren),function(){function e(e,n){var i=e;return n[i]||(n[i]=t(e))}function t(e){var t=d.expressionRewriting.preProcessBindings(e),n="with($context){with($data||{}){return{"+t+"}}}";return new Function("$context","$element",n)}d.bindingProvider=function(){this.bindingCache={}},d.utils.extend(d.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind");case 8:return null!=d.virtualElements.virtualNodeBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return d.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n,i){try{return e(t,this.bindingCache)(n,i)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),d.bindingProvider.instance=new d.bindingProvider}(),d.exportSymbol("bindingProvider",d.bindingProvider),function(){function e(e){if(!d.virtualElements.allowedBindings[e])throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function i(e,t,n){for(var i,a=d.virtualElements.firstChild(t);i=a;)a=d.virtualElements.nextSibling(i),r(e,i,n)}function r(e,t,n){var r=!0,o=1===t.nodeType;o&&d.virtualElements.normaliseVirtualElementDomStructure(t),(o&&n||d.bindingProvider.instance.nodeHasBindings(t))&&(r=a(t,null,e,n).shouldBindDescendants),r&&i(e,t,!o)}function a(n,i,r,a){function s(e){return function(){return u[e]}}function l(){return u}var u,c,f=0,p=d.utils.domData.get(n,o);if(!i){if(p)throw Error("You cannot apply bindings multiple times to the same element.");d.utils.domData.set(n,o,!0)}return d.dependentObservable(function(){var o=r&&r instanceof d.bindingContext?r:new d.bindingContext(d.utils.unwrapObservable(r)),h=o.$data;!p&&a&&d.storedBindingContextForNode(n,o);var m="function"==typeof i?i(o,n):i;(u=m||d.bindingProvider.instance.getBindings(n,o))&&(0===f&&(f=1,d.utils.objectForEach(u,function(i){var r=d.bindingHandlers[i];if(r&&8===n.nodeType&&e(i),r&&"function"==typeof r.init){var a=r.init,u=a(n,s(i),l,h,o);if(u&&u.controlsDescendantBindings){if(c!==t)throw new Error("Multiple bindings ("+c+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=i}}}),f=2),2===f&&d.utils.objectForEach(u,function(e){var t=d.bindingHandlers[e];if(t&&"function"==typeof t.update){(0,t.update)(n,s(e),l,h,o)}}))},null,{disposeWhenNodeIsRemoved:n}),{shouldBindDescendants:c===t}}d.bindingHandlers={},d.bindingContext=function(e,t,n){t?(d.utils.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e,this.ko=d),this.$data=e,n&&(this[n]=e)},d.bindingContext.prototype.createChildContext=function(e,t){return new d.bindingContext(e,this,t)},d.bindingContext.prototype.extend=function(e){var t=d.utils.extend(new d.bindingContext,this);return d.utils.extend(t,e)};var o="__ko_boundElement";d.storedBindingContextForNode=function(e,t){if(2!=arguments.length)return d.utils.domData.get(e,"__ko_bindingContext__");d.utils.domData.set(e,"__ko_bindingContext__",t)},d.applyBindingsToNode=function(e,t,n){return 1===e.nodeType&&d.virtualElements.normaliseVirtualElementDomStructure(e),a(e,t,n,!0)},d.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||i(e,t,!0)},d.applyBindings=function(e,t){if(t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,r(e,t,!0)},d.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=d.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return d.contextFor(e.parentNode)}return t},d.dataFor=function(e){var n=d.contextFor(e);return n?n.$data:t},d.exportSymbol("bindingHandlers",d.bindingHandlers),d.exportSymbol("applyBindings",d.applyBindings),d.exportSymbol("applyBindingsToDescendants",d.applyBindingsToDescendants),d.exportSymbol("applyBindingsToNode",d.applyBindingsToNode),d.exportSymbol("contextFor",d.contextFor),d.exportSymbol("dataFor",d.dataFor)}();var m={class:"className",for:"htmlFor"};d.bindingHandlers.attr={update:function(e,n,i){var r=d.utils.unwrapObservable(n())||{};d.utils.objectForEach(r,function(n,i){i=d.utils.unwrapObservable(i);var r=!1===i||null===i||i===t;r&&e.removeAttribute(n),d.utils.ieVersion<=8&&n in m?(n=m[n],r?e.removeAttribute(n):e[n]=i):r||e.setAttribute(n,i.toString()),"name"===n&&d.utils.setElementName(e,r?"":i.toString())})}},d.bindingHandlers.checked={init:function(e,t,n){var i=function(){var i;if("checkbox"==e.type)i=e.checked;else{if("radio"!=e.type||!e.checked)return;i=e.value}var r=t(),a=d.utils.unwrapObservable(r);"checkbox"==e.type&&a instanceof Array?d.utils.addOrRemoveItem(r,e.value,e.checked):d.expressionRewriting.writeValueToProperty(r,n,"checked",i,!0)};d.utils.registerEventHandler(e,"click",i),"radio"!=e.type||e.name||d.bindingHandlers.uniqueName.init(e,function(){return!0})},update:function(e,t){var n=d.utils.unwrapObservable(t());"checkbox"==e.type?n instanceof Array?e.checked=d.utils.arrayIndexOf(n,e.value)>=0:e.checked=n:"radio"==e.type&&(e.checked=e.value==n)}};d.bindingHandlers.css={update:function(e,t){var n=d.utils.unwrapObservable(t());"object"==typeof n?d.utils.objectForEach(n,function(t,n){n=d.utils.unwrapObservable(n),d.utils.toggleDomNodeCssClass(e,t,n)}):(n=String(n||""),d.utils.toggleDomNodeCssClass(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,d.utils.toggleDomNodeCssClass(e,n,!0))}},d.bindingHandlers.enable={update:function(e,t){var n=d.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},d.bindingHandlers.disable={update:function(e,t){d.bindingHandlers.enable.update(e,function(){return!d.utils.unwrapObservable(t())})}},d.bindingHandlers.event={init:function(e,t,n,i){var r=t()||{};d.utils.objectForEach(r,function(r){"string"==typeof r&&d.utils.registerEventHandler(e,r,function(e){var a,o=t()[r];if(o){var s=n();try{var l=d.utils.makeArray(arguments);l.unshift(i),a=o.apply(i,l)}finally{!0!==a&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1!==s[r+"Bubble"]||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},d.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=d.utils.peekObservable(t);return n&&"number"!=typeof n.length?(d.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:d.nativeTemplateEngine.instance}):{foreach:t,templateEngine:d.nativeTemplateEngine.instance}}},init:function(e,t,n,i,r){return d.bindingHandlers.template.init(e,d.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,i,r){return d.bindingHandlers.template.update(e,d.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,i,r)}},d.expressionRewriting.bindingRewriteValidators.foreach=!1,d.virtualElements.allowedBindings.foreach=!0;d.bindingHandlers.hasfocus={init:function(e,t,n){var i=function(i){e.__ko_hasfocusUpdating=!0;var r=e.ownerDocument;if("activeElement"in r){var a;try{a=r.activeElement}catch(e){a=r.body}i=a===e}var o=t();d.expressionRewriting.writeValueToProperty(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1},r=i.bind(null,!0),a=i.bind(null,!1);d.utils.registerEventHandler(e,"focus",r),d.utils.registerEventHandler(e,"focusin",r),d.utils.registerEventHandler(e,"blur",a),d.utils.registerEventHandler(e,"focusout",a)},update:function(e,t){var n=!!d.utils.unwrapObservable(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),d.dependencyDetection.ignore(d.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},d.bindingHandlers.hasFocus=d.bindingHandlers.hasfocus,d.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){d.utils.setHtml(e,t())}};var g="__ko_withIfBindingData";u("if"),u("ifnot",!1,!0),u("with",!0,!1,function(e,t){return e.createChildContext(t)}),d.bindingHandlers.options={init:function(e){if("select"!==d.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,r){function a(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function o(e,n,r){r.length&&(u=r[0].selected&&[d.selectExtensions.readValue(r[0])]);var o=i.createElement("option");if(e===v)d.utils.setHtml(o,l),d.selectExtensions.writeValue(o,t);else{var s=a(e,m.optionsValue,e);d.selectExtensions.writeValue(o,d.utils.unwrapObservable(s));var c=a(e,m.optionsText,s);d.utils.setTextContent(o,c)}return[o]}function s(e,t){if(u){var n=d.utils.arrayIndexOf(u,d.selectExtensions.readValue(t[0]))>=0;d.utils.setOptionNodeSelectionState(t[0],n)}}var l,u,f=0==e.length,p=!f&&e.multiple?e.scrollTop:null,h=d.utils.unwrapObservable(n()),m=r(),g=m.optionsIncludeDestroyed,v={};if(e.multiple?u=d.utils.arrayMap(e.selectedOptions||d.utils.arrayFilter(e.childNodes,function(e){return e.tagName&&"option"===d.utils.tagNameLower(e)&&e.selected}),function(e){return d.selectExtensions.readValue(e)}):e.selectedIndex>=0&&(u=[d.selectExtensions.readValue(e.options[e.selectedIndex])]),h){void 0===h.length&&(h=[h]);var y=d.utils.arrayFilter(h,function(e){return g||e===t||null===e||!d.utils.unwrapObservable(e._destroy)});"optionsCaption"in m&&null!==(l=d.utils.unwrapObservable(m.optionsCaption))&&l!==t&&y.unshift(v)}else h=[];var b=s;m.optionsAfterRender&&(b=function(e,n){s(e,n),d.dependencyDetection.ignore(m.optionsAfterRender,null,[n[0],e!==v?e:t])}),d.utils.setDomNodeChildrenFromArrayMapping(e,y,o,null,b),u=null,f&&"value"in m&&c(e,d.utils.peekObservable(m.value),!0),d.utils.ensureSelectElementIsRenderedCorrectly(e),p&&Math.abs(p-e.scrollTop)>20&&(e.scrollTop=p)}},d.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",d.bindingHandlers.selectedOptions={init:function(e,t,n){d.utils.registerEventHandler(e,"change",function(){var i=t(),r=[];d.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&r.push(d.selectExtensions.readValue(e))}),d.expressionRewriting.writeValueToProperty(i,n,"selectedOptions",r)})},update:function(e,t){if("select"!=d.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=d.utils.unwrapObservable(t());n&&"number"==typeof n.length&&d.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=d.utils.arrayIndexOf(n,d.selectExtensions.readValue(e))>=0;d.utils.setOptionNodeSelectionState(e,t)})}},d.bindingHandlers.style={update:function(e,t){var n=d.utils.unwrapObservable(t()||{});d.utils.objectForEach(n,function(t,n){n=d.utils.unwrapObservable(n),e.style[t]=n||""})}},d.bindingHandlers.submit={init:function(e,t,n,i){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");d.utils.registerEventHandler(e,"submit",function(n){var r,a=t();try{r=a.call(i,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},d.bindingHandlers.text={update:function(e,t){d.utils.setTextContent(e,t())}},d.virtualElements.allowedBindings.text=!0,d.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++d.bindingHandlers.uniqueName.currentIndex;d.utils.setElementName(e,n)}}},d.bindingHandlers.uniqueName.currentIndex=0,d.bindingHandlers.value={init:function(e,t,n){var i=["change"],r=n().valueUpdate,a=!1;r&&("string"==typeof r&&(r=[r]),d.utils.arrayPushAll(i,r),i=d.utils.arrayGetDistinctValues(i));var o=function(){a=!1;var i=t(),r=d.selectExtensions.readValue(e);d.expressionRewriting.writeValueToProperty(i,n,"value",r)};d.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete)&&-1==d.utils.arrayIndexOf(i,"propertychange")&&(d.utils.registerEventHandler(e,"propertychange",function(){a=!0}),d.utils.registerEventHandler(e,"blur",function(){a&&o()})),d.utils.arrayForEach(i,function(t){var n=o;d.utils.stringStartsWith(t,"after")&&(n=function(){setTimeout(o,0)},t=t.substring("after".length)),d.utils.registerEventHandler(e,t,n)})},update:function(e,t){var n="select"===d.utils.tagNameLower(e),i=d.utils.unwrapObservable(t()),r=d.selectExtensions.readValue(e);if(i!==r){var a=function(){d.selectExtensions.writeValue(e,i)};a(),n&&setTimeout(a,0)}n&&e.length>0&&c(e,i,!1)}},d.bindingHandlers.visible={update:function(e,t){var n=d.utils.unwrapObservable(t()),i=!("none"==e.style.display);n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},function(e){d.bindingHandlers[e]={init:function(t,n,i,r){var a=function(){var t={};return t[e]=n(),t};return d.bindingHandlers.event.init.call(this,t,a,i,r)}}}("click"),d.templateEngine=function(){},d.templateEngine.prototype.renderTemplateSource=function(e,t,n){throw new Error("Override renderTemplateSource")},d.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},d.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||i;var n=t.getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new d.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new d.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},d.templateEngine.prototype.renderTemplate=function(e,t,n,i){var r=this.makeTemplateSource(e,i);return this.renderTemplateSource(r,t,n)},d.templateEngine.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},d.templateEngine.prototype.rewriteTemplate=function(e,t,n){var i=this.makeTemplateSource(e,n),r=t(i.text());i.text(r),i.data("isRewritten",!0)},d.exportSymbol("templateEngine",d.templateEngine),d.templateRewriting=function(){function e(e){for(var t=d.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var i=e[n].key;if(t.hasOwnProperty(i)){var r=t[i];if("function"==typeof r){var a=r(e[n].value);if(a)throw new Error(a)}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function t(t,n,i,r){var a=d.expressionRewriting.parseObjectLiteral(t);e(a);var o=d.expressionRewriting.preProcessBindings(a),s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+o+" } })()},'"+i.toLowerCase()+"')";return r.createJavaScriptEvaluatorBlock(s)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return d.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,r){return e.replace(n,function(){return t(arguments[4],arguments[1],arguments[2],r)}).replace(i,function(){return t(arguments[1],"\x3c!-- ko --\x3e","#comment",r)})},applyMemoizedBindingsToNextSibling:function(e,t){return d.memoization.memoize(function(n,i){var r=n.nextSibling;r&&r.nodeName.toLowerCase()===t&&d.applyBindingsToNode(r,e,i)})}}}(),d.exportSymbol("__tr_ambtns",d.templateRewriting.applyMemoizedBindingsToNextSibling),function(){d.templateSources={},d.templateSources.domElement=function(e){this.domElement=e},d.templateSources.domElement.prototype.text=function(){var e=d.utils.tagNameLower(this.domElement),t="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.domElement[t];var n=arguments[0];"innerHTML"===t?d.utils.setHtml(this.domElement,n):this.domElement[t]=n},d.templateSources.domElement.prototype.data=function(e){if(1===arguments.length)return d.utils.domData.get(this.domElement,"templateSourceData_"+e);d.utils.domData.set(this.domElement,"templateSourceData_"+e,arguments[1])};d.templateSources.anonymousTemplate=function(e){this.domElement=e},d.templateSources.anonymousTemplate.prototype=new d.templateSources.domElement,d.templateSources.anonymousTemplate.prototype.constructor=d.templateSources.anonymousTemplate,d.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var e=d.utils.domData.get(this.domElement,"__ko_anon_template__")||{};return e.textData===t&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var n=arguments[0];d.utils.domData.set(this.domElement,"__ko_anon_template__",{textData:n})},d.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length){return(d.utils.domData.get(this.domElement,"__ko_anon_template__")||{}).containerData}var e=arguments[0];d.utils.domData.set(this.domElement,"__ko_anon_template__",{containerData:e})},d.exportSymbol("templateSources",d.templateSources),d.exportSymbol("templateSources.domElement",d.templateSources.domElement),d.exportSymbol("templateSources.anonymousTemplate",d.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var i,r=e,a=d.virtualElements.nextSibling(t);r&&(i=r)!==a;)r=d.virtualElements.nextSibling(i),1!==i.nodeType&&8!==i.nodeType||n(i)}function n(t,n){if(t.length){var i=t[0],r=t[t.length-1];e(i,r,function(e){d.applyBindings(n,e)}),e(i,r,function(e){d.memoization.unmemoizeDomNodeAndDescendants(e,[n])})}}function i(e){return e.nodeType?e:e.length>0?e[0]:null}function r(e,t,r,a,s){s=s||{};var l=e&&i(e),u=l&&l.ownerDocument,c=s.templateEngine||o;d.templateRewriting.ensureTemplateIsRewritten(r,c,u);var f=c.renderTemplate(r,a,s,u);if("number"!=typeof f.length||f.length>0&&"number"!=typeof f[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var p=!1;switch(t){case"replaceChildren":d.virtualElements.setDomNodeChildren(e,f),p=!0;break;case"replaceNode":d.utils.replaceDomNodes(e,f),p=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return p&&(n(f,a),s.afterRender&&d.dependencyDetection.ignore(s.afterRender,null,[f,a.$data])),f}function a(e,n){var i=d.utils.domData.get(e,s);i&&"function"==typeof i.dispose&&i.dispose(),d.utils.domData.set(e,s,n&&n.isActive()?n:t)}var o;d.setTemplateEngine=function(e){if(e!=t&&!(e instanceof d.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");o=e},d.renderTemplate=function(e,n,a,s,l){if(a=a||{},(a.templateEngine||o)==t)throw new Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",s){var u=i(s),c=function(){return!u||!d.utils.domNodeIsAttachedToDocument(u)},f=u&&"replaceNode"==l?u.parentNode:u;return d.dependentObservable(function(){var t=n&&n instanceof d.bindingContext?n:new d.bindingContext(d.utils.unwrapObservable(n)),o="function"==typeof e?e(t.$data,t):e,c=r(s,l,o,t,a);"replaceNode"==l&&(s=c,u=i(s))},null,{disposeWhen:c,disposeWhenNodeIsRemoved:f})}return d.memoization.memoize(function(t){d.renderTemplate(e,n,a,t,"replaceNode")})},d.renderTemplateForEach=function(e,i,a,o,s){var l,u=function(t,n){return l=s.createChildContext(d.utils.unwrapObservable(t),a.as),l.$index=n,r(null,"ignoreTargetNode","function"==typeof e?e(t,l):e,l,a)},c=function(e,t,i){n(t,l),a.afterRender&&a.afterRender(t,e)};return d.dependentObservable(function(){var e=d.utils.unwrapObservable(i)||[];void 0===e.length&&(e=[e]);var n=d.utils.arrayFilter(e,function(e){return a.includeDestroyed||e===t||null===e||!d.utils.unwrapObservable(e._destroy)});d.dependencyDetection.ignore(d.utils.setDomNodeChildrenFromArrayMapping,null,[o,n,u,a,c])},null,{disposeWhenNodeIsRemoved:o})};var s="__ko__templateComputedDomDataKey__";d.bindingHandlers.template={init:function(e,t){var n=d.utils.unwrapObservable(t());if("string"!=typeof n&&!n.name&&(1==e.nodeType||8==e.nodeType)){var i=1==e.nodeType?e.childNodes:d.virtualElements.childNodes(e),r=d.utils.moveCleanedNodesToContainerElement(i);new d.templateSources.anonymousTemplate(e).nodes(r)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,r){var o,s=d.utils.unwrapObservable(t()),l={},u=!0,c=null;if("string"!=typeof s&&(l=s,s=d.utils.unwrapObservable(l.name),"if"in l&&(u=d.utils.unwrapObservable(l.if)),u&&"ifnot"in l&&(u=!d.utils.unwrapObservable(l.ifnot)),o=d.utils.unwrapObservable(l.data)),"foreach"in l){var f=u&&l.foreach||[];c=d.renderTemplateForEach(s||e,f,l,e,r)}else if(u){var p="data"in l?r.createChildContext(o,l.as):r;c=d.renderTemplate(s||e,p,l,e)}else d.virtualElements.emptyNode(e);a(e,c)}},d.expressionRewriting.bindingRewriteValidators.template=function(e){var t=d.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:d.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},d.virtualElements.allowedBindings.template=!0}(),d.exportSymbol("setTemplateEngine",d.setTemplateEngine),d.exportSymbol("renderTemplate",d.renderTemplate),d.utils.compareArrays=function(){function e(e,r,a){return e=e||[],r=r||[],e.length<=r.length?t(e,r,n,i,a):t(r,e,i,n,a)}function t(e,t,n,i,r){var a,o,s,l,u,c,d=Math.min,f=Math.max,p=[],h=e.length,m=t.length,g=m-h||1,v=h+m+1;for(a=0;a<=h;a++)for(l=s,p.push(s=[]),u=d(m,a+g),c=f(0,a-1),o=c;o<=u;o++)if(o)if(a)if(e[a-1]===t[o-1])s[o]=l[o-1];else{var y=l[o]||v,b=s[o-1]||v;s[o]=d(y,b)+1}else s[o]=o+1;else s[o]=a+1;var w,_=[],x=[],k=[];for(a=h,o=m;a||o;)w=p[a][o]-1,o&&w===p[a][o-1]?x.push(_[_.length]={status:n,value:t[--o],index:o}):a&&w===p[a-1][o]?k.push(_[_.length]={status:i,value:e[--a],index:a}):(_.push({status:"retained",value:t[--o]}),--a);if(x.length&&k.length){var D,C,T,E,S,j=10*h;for(D=C=0;(r||D<j)&&(E=x[C]);C++){for(T=0;S=k[T];T++)if(E.value===S.value){E.moved=S.index,S.moved=E.index,k.splice(T,1),D=T=0;break}D+=T}}return _.reverse()}var n="added",i="deleted";return e}(),d.exportSymbol("utils.compareArrays",d.utils.compareArrays),function(){function e(e){for(;e.length&&!d.utils.domNodeIsAttachedToDocument(e[0]);)e.splice(0,1);if(e.length>1){for(var t=e[0],n=e[e.length-1],i=[t];t!==n;){if(!(t=t.nextSibling))return;i.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(i))}return e}function n(n,i,r,a,o){var s=[],l=d.dependentObservable(function(){var t=i(r,o,e(s))||[];s.length>0&&(d.utils.replaceDomNodes(s,t),a&&d.dependencyDetection.ignore(a,null,[r,t,o])),s.splice(0,s.length),d.utils.arrayPushAll(s,t)},null,{disposeWhenNodeIsRemoved:n,disposeWhen:function(){return!d.utils.anyDomNodeIsAttachedToDocument(s)}});return{mappedNodes:s,dependentObservable:l.isActive()?l:t}}d.utils.setDomNodeChildrenFromArrayMapping=function(i,r,a,o,s){function l(t,n){c=m[n],w!==n&&(D[t]=c),c.indexObservable(w++),e(c.mappedNodes),y.push(c),x.push(c)}function u(e,t){if(e)for(var n=0,i=t.length;n<i;n++)t[n]&&d.utils.arrayForEach(t[n].mappedNodes,function(i){e(i,n,t[n].arrayEntry)})}r=r||[],o=o||{};for(var c,f,p,h=d.utils.domData.get(i,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===t,m=d.utils.domData.get(i,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],g=d.utils.arrayMap(m,function(e){return e.arrayEntry}),v=d.utils.compareArrays(g,r,o.dontLimitMoves),y=[],b=0,w=0,_=[],x=[],k=[],D=[],C=[],T=0;f=v[T];T++)switch(p=f.moved,f.status){case"deleted":p===t&&(c=m[b],c.dependentObservable&&c.dependentObservable.dispose(),_.push.apply(_,e(c.mappedNodes)),o.beforeRemove&&(k[T]=c,x.push(c))),b++;break;case"retained":l(T,b++);break;case"added":p!==t?l(T,p):(c={arrayEntry:f.value,indexObservable:d.observable(w++)},y.push(c),x.push(c),h||(C[T]=c))}u(o.beforeMove,D),d.utils.arrayForEach(_,o.beforeRemove?d.cleanNode:d.removeNode);for(var E,S,T=0,j=d.virtualElements.firstChild(i);c=x[T];T++){c.mappedNodes||d.utils.extend(c,n(i,a,c.arrayEntry,s,c.indexObservable));for(var O=0;S=c.mappedNodes[O];j=S.nextSibling,E=S,O++)S!==j&&d.virtualElements.insertAfter(i,S,E);!c.initialized&&s&&(s(c.arrayEntry,c.mappedNodes,c.indexObservable),c.initialized=!0)}u(o.beforeRemove,k),u(o.afterMove,D),u(o.afterAdd,C),d.utils.domData.set(i,"setDomNodeChildrenFromArrayMapping_lastMappingResult",y)}}(),d.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",d.utils.setDomNodeChildrenFromArrayMapping),d.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},d.nativeTemplateEngine.prototype=new d.templateEngine,d.nativeTemplateEngine.prototype.constructor=d.nativeTemplateEngine,d.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n){var i=!(d.utils.ieVersion<9),r=i?e.nodes:null,a=r?e.nodes():null;if(a)return d.utils.makeArray(a.cloneNode(!0).childNodes);var o=e.text();return d.utils.parseHtmlFragment(o)},d.nativeTemplateEngine.instance=new d.nativeTemplateEngine,d.setTemplateEngine(d.nativeTemplateEngine.instance),d.exportSymbol("nativeTemplateEngine",d.nativeTemplateEngine),function(){d.jqueryTmplTemplateEngine=function(){function e(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function t(e,t,n){return a.tmpl(e,t,n)}var n=this.jQueryTmplVersion=function(){if(void 0===a||!a.tmpl)return 0;try{if(a.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,r,o){o=o||{},e();var s=n.data("precompiled");if(!s){var l=n.text()||"";l="{{ko_with $item.koBindingContext}}"+l+"{{/ko_with}}",s=a.template(null,l),n.data("precompiled",s)}var u=[r.$data],c=a.extend({koBindingContext:r},o.templateOptions),d=t(s,u,c);return d.appendTo(i.createElement("div")),a.fragments={},d},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){i.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},n>0&&(a.tmpl.tag.ko_code={open:"__.push($1 || '');"},a.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},d.jqueryTmplTemplateEngine.prototype=new d.templateEngine,d.jqueryTmplTemplateEngine.prototype.constructor=d.jqueryTmplTemplateEngine;var e=new d.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&d.setTemplateEngine(e),d.exportSymbol("jqueryTmplTemplateEngine",d.jqueryTmplTemplateEngine)}()})}()}(),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout.mapping",["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,t){function n(e,t){for(var n={},i=e.length-1;i>=0;--i)n[e[i]]=e[i];for(var i=t.length-1;i>=0;--i)n[t[i]]=t[i];var r=[];for(var a in n)r.push(n[a]);return r}function i(e,r){var a;for(var o in r)if(r.hasOwnProperty(o)&&r[o])if(a=t.getType(e[o]),o&&e[o]&&"array"!==a&&"string"!==a)i(e[o],r[o]);else{var s="array"===t.getType(e[o])&&"array"===t.getType(r[o]);e[o]=s?n(e[o],r[o]):r[o]}}function r(e,t){var n={};return i(n,e),i(n,t),n}function a(e,t){for(var n=r({},e),i=D.length-1;i>=0;i--){var a=D[i];n[a]&&(n[""]instanceof Object||(n[""]={}),n[""][a]=n[a],delete n[a])}return t&&(n.ignore=o(t.ignore,n.ignore),n.include=o(t.include,n.include),n.copy=o(t.copy,n.copy),n.observe=o(t.observe,n.observe)),n.ignore=o(n.ignore,E.ignore),n.include=o(n.include,E.include),n.copy=o(n.copy,E.copy),n.observe=o(n.observe,E.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function o(n,i){return"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),e.utils.arrayGetDistinctValues(n.concat(i))}function s(t,n){var i=e.dependentObservable;e.dependentObservable=function(n,i,r){r=r||{},n&&"object"==typeof n&&(r=n);var a=r.deferEvaluation,o=!1;r.deferEvaluation=!0;var s=new x(n,i,r);return a||(s=function(n){var i=e.dependentObservable;e.dependentObservable=x;var r=e.isWriteableObservable(n);e.dependentObservable=i;var a=x({read:function(){return o||(e.utils.arrayRemoveItem(t,n),o=!0),n.apply(n,arguments)},write:r&&function(e){return n(e)},deferEvaluation:!0});return w&&(a._wrapper=!0),a.__DO=n,a}(s),t.push(s)),s},e.dependentObservable.fn=x.fn,e.computed=e.dependentObservable;var r=n();return e.dependentObservable=i,e.computed=e.dependentObservable,r}function l(n,i,a,o,c,m,g){var v="array"===t.getType(e.utils.unwrapObservable(i));if(m=m||"",t.isMapped(n)){var w=e.utils.unwrapObservable(n)[_];a=r(w,a)}var x={data:i,parent:g||c},k=function(){return a[o]&&a[o].create instanceof Function},D=function(t){return s(y,function(){return e.utils.unwrapObservable(c)instanceof Array?a[o].create({data:t||x.data,parent:x.parent,skip:C}):a[o].create({data:t||x.data,parent:x.parent})})},T=function(){return a[o]&&a[o].update instanceof Function},E=function(t,n){var i={data:n||x.data,parent:x.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(i.observable=t),a[o].update(i)},S=b.get(i);if(S)return S
;if(o=o||"",v){var j=[],O=!1,N=function(e){return e};a[o]&&a[o].key&&(N=a[o].key,O=!0),e.isObservable(n)||(n=e.observableArray([]),n.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===N(e)};return n.remove(function(e){return t(N(e))})},n.mappedRemoveAll=function(t){var i=f(t,N);return n.remove(function(t){return-1!=e.utils.arrayIndexOf(i,N(t))})},n.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===N(e)};return n.destroy(function(e){return t(N(e))})},n.mappedDestroyAll=function(t){var i=f(t,N);return n.destroy(function(t){return-1!=e.utils.arrayIndexOf(i,N(t))})},n.mappedIndexOf=function(t){var i=f(n(),N),r=N(t);return e.utils.arrayIndexOf(i,r)},n.mappedGet=function(e){return n()[n.mappedIndexOf(e)]},n.mappedCreate=function(t){if(-1!==n.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var i=k()?D(t):t;if(T()){var r=E(i,t);e.isWriteableObservable(i)?i(r):i=r}return n.push(i),i});var F=f(e.utils.unwrapObservable(n),N).sort(),A=f(i,N);O&&A.sort();var M,$,I=e.utils.compareArrays(F,A),P={},H=e.utils.unwrapObservable(i),R={},L=!0;for(M=0,$=H.length;M<$;M++){var q=N(H[M]);if(void 0===q||q instanceof Object){L=!1;break}R[q]=H[M]}var B=[],V=0;for(M=0,$=I.length;M<$;M++){var W,q=I[M],z=m+"["+M+"]";switch(q.status){case"added":var Y=L?R[q.value]:d(e.utils.unwrapObservable(i),q.value,N);W=l(void 0,Y,a,o,n,z,c),k()||(W=e.utils.unwrapObservable(W));var G=u(e.utils.unwrapObservable(i),Y,P);W===C?V++:B[G-V]=W,P[G]=!0;break;case"retained":var Y=L?R[q.value]:d(e.utils.unwrapObservable(i),q.value,N);W=d(n,q.value,N),l(W,Y,a,o,n,z,c);var G=u(e.utils.unwrapObservable(i),Y,P);B[G]=W,P[G]=!0;break;case"deleted":W=d(n,q.value,N)}j.push({event:q.status,item:W})}n(B),a[o]&&a[o].arrayChanged&&e.utils.arrayForEach(j,function(e){a[o].arrayChanged(e.event,e.item)})}else if(h(i)){if(!(n=e.utils.unwrapObservable(n))){if(k()){var U=D();return T()&&(U=E(U)),U}if(T())return E(U);n={}}if(T()&&(n=E(n)),b.save(i,n),T())return n;p(i,function(t){var r=m.length?m+"."+t:t;if(-1==e.utils.arrayIndexOf(a.ignore,r)){if(-1!=e.utils.arrayIndexOf(a.copy,r))return void(n[t]=i[t]);if("object"!=typeof i[t]&&"array"!=typeof i[t]&&a.observe.length>0&&-1==e.utils.arrayIndexOf(a.observe,r))return n[t]=i[t],void(a.copiedProperties[r]=!0);var o=b.get(i[t]),s=l(n[t],i[t],a,t,n,r,n),u=o||s;if(a.observe.length>0&&-1==e.utils.arrayIndexOf(a.observe,r))return n[t]=u(),void(a.copiedProperties[r]=!0);e.isWriteableObservable(n[t])?(u=e.utils.unwrapObservable(u),n[t]()!==u&&n[t](u)):(u=void 0===n[t]?u:e.utils.unwrapObservable(u),n[t]=u),a.mappedProperties[r]=!0}})}else switch(t.getType(i)){case"function":T()?e.isWriteableObservable(i)?(i(E(i)),n=i):n=E(i):n=i;break;default:if(e.isWriteableObservable(n)){if(T()){var J=E(n);return n(J),J}var J=e.utils.unwrapObservable(i);return n(J),J}var X=k()||T();if(n=k()?D():e.observable(e.utils.unwrapObservable(i)),T()&&n(E(n)),X)return n}return n}function u(e,t,n){for(var i=0,r=e.length;i<r;i++)if(!0!==n[i]&&e[i]===t)return i;return null}function c(n,i){var r;return i&&(r=i(n)),"undefined"===t.getType(r)&&(r=n),e.utils.unwrapObservable(r)}function d(t,n,i){t=e.utils.unwrapObservable(t);for(var r=0,a=t.length;r<a;r++){var o=t[r];if(c(o,i)===n)return o}throw new Error("When calling ko.update*, the key '"+n+"' was not found!")}function f(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return n?c(e,n):e})}function p(e,n){if("array"===t.getType(e))for(var i=0;i<e.length;i++)n(i);else for(var r in e)n(r)}function h(e){var n=t.getType(e);return("object"===n||"array"===n)&&null!==e}function m(e,n,i){var r=e||"";return"array"===t.getType(n)?e&&(r+="["+i+"]"):(e&&(r+="."),r+=i),r}function g(){var t=[],n=[];this.save=function(i,r){var a=e.utils.arrayIndexOf(t,i);a>=0?n[a]=r:(t.push(i),n.push(r))},this.get=function(i){var r=e.utils.arrayIndexOf(t,i);return r>=0?n[r]:void 0}}function v(){var e={},t=function(t){var n;try{n=t}catch(e){n="$$$"}var i=e[n];return void 0===i&&(i=new g,e[n]=i),i};this.save=function(e,n){t(e).save(e,n)},this.get=function(e){return t(e).get(e)}}var y,b,w=!0,_="__ko_mapping__",x=e.dependentObservable,k=0,D=["create","update","key","arrayChanged"],C={},T={include:["_destroy"],ignore:[],copy:[],observe:[]},E=T;t.isMapped=function(t){var n=e.utils.unwrapObservable(t);return n&&n[_]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{k++||(y=[],b=new v);var t,n;2==arguments.length&&(arguments[1][_]?n=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],n=arguments[2]),n&&(t=r(t,n[_])),t=a(t);var i=l(n,e,t);if(n&&(i=n),!--k)for(;y.length;){var o=y.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return i[_]=r(i[_],t),i}catch(e){throw k=0,e}},t.fromJSON=function(n){var i=e.utils.parseJson(n);return arguments[0]=i,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,i){if(E||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(E.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(E.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(E.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return i=a(i,n[_]),t.visitModel(n,function(t){return e.utils.unwrapObservable(t)},i)},t.toJSON=function(n,i){var r=t.toJS(n,i);return e.utils.stringifyJson(r)},t.defaultOptions=function(){if(!(arguments.length>0))return E;E=arguments[0]},t.resetDefaultOptions=function(){E={include:T.include.slice(0),ignore:T.ignore.slice(0),copy:T.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(n,i,r){r=r||{},r.visitedObjects=r.visitedObjects||new v;var o,s=e.utils.unwrapObservable(n);if(!h(s))return i(n,r.parentName);r=a(r,s[_]),i(n,r.parentName),o="array"===t.getType(s)?[]:{},r.visitedObjects.save(n,o);var l=r.parentName;return p(s,function(n){if(!r.ignore||-1==e.utils.arrayIndexOf(r.ignore,n)){var a=s[n];if(r.parentName=m(l,s,n),-1!==e.utils.arrayIndexOf(r.copy,n)||-1!==e.utils.arrayIndexOf(r.include,n)||!s[_]||!s[_].mappedProperties||s[_].mappedProperties[n]||!s[_].copiedProperties||s[_].copiedProperties[n]||"array"===t.getType(s)){switch(t.getType(e.utils.unwrapObservable(a))){case"object":case"array":case"undefined":var u=r.visitedObjects.get(a);o[n]="undefined"!==t.getType(u)?u:t.visitModel(a,i,r);break;default:o[n]=i(a,r.parentName)}}}}),o}}),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout.validation",["knockout","exports"],e):e(ko,ko.validation={})}(function(e,t){function n(t,n,i){return!!n.validator(t(),void 0===i.params||i.params)||(t.error(e.validation.formatMessage(i.message||n.message,i.params)),t.__valid__(!1),!1)}function i(t,n,i){t.isValidating(!0);var r=function(r){var a=!1,o="";if(!t.__valid__())return void t.isValidating(!1);r.message?(a=r.isValid,o=r.message):a=r,a||(t.error(e.validation.formatMessage(o||i.message||n.message,i.params)),t.__valid__(a)),t.isValidating(!1)};n.validator(t(),i.params||!0,r)}if(void 0===typeof e)throw"Knockout is required, please ensure it is loaded before loading this validation plug-in";e.validation=t;var r={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateElement:!1,decorateElementOnModified:!0,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",grouping:{deep:!1,observable:!0}},a=e.utils.extend({},r);a.html5Attributes=["required","pattern","min","max","step"],a.html5InputTypes=["email","number","date"],a.reset=function(){e.utils.extend(a,r)},e.validation.configuration=a,e.validation.utils=function(){var t=(new Date).getTime(),n={};return{isArray:function(e){return e.isArray||"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"object"==typeof e},values:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},getValue:function(e){return"function"==typeof e?e():e},hasAttribute:function(e,t){return null!==e.getAttribute(t)},getAttribute:function(e,t){return e.getAttribute(t)},setAttribute:function(e,t,n){return e.setAttribute(t,n)},isValidatable:function(e){return e&&e.rules&&e.isValid&&e.isModified},insertAfter:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},newId:function(){return t+=1},getConfigOptions:function(t){return e.validation.utils.contextFor(t)||e.validation.configuration},setDomData:function(t,i){var r=t.__ko_validation__;r||(t.__ko_validation__=r=e.validation.utils.newId()),n[r]=i},getDomData:function(e){var t=e.__ko_validation__;if(t)return n[t]},contextFor:function(t){switch(t.nodeType){case 1:case 8:var n=e.validation.utils.getDomData(t);if(n)return n;if(t.parentNode)return e.validation.utils.contextFor(t.parentNode)}},isEmptyVal:function(e){return void 0===e||(null===e||(""===e||void 0))},getOriginalElementTitle:function(t){var n=e.validation.utils.getAttribute(t,"data-orig-title"),i=t.title;return e.validation.utils.hasAttribute(t,"data-orig-title")?n:i},async:function(e){window.setImmediate?window.setImmediate(e):window.setTimeout(e,0)}}}();var o=function(){var t=0,n=e.validation.configuration,i=e.validation.utils;return{init:function(i,r){t>0&&!r||(i=i||{},i.errorElementClass=i.errorElementClass||i.errorClass||n.errorElementClass,i.errorMessageClass=i.errorMessageClass||i.errorClass||n.errorMessageClass,e.utils.extend(n,i),n.registerExtenders&&e.validation.registerExtenders(),t=1)},configure:function(t){e.validation.init(t)},reset:e.validation.configuration.reset,group:function(t,r){r=e.utils.extend(e.utils.extend({},n.grouping),r);var a=e.observableArray([]),o=null,s=[],l=function(){r.deep&&e.utils.arrayForEach(s,function(e){delete e.__kv_traversed})},u=function t(n,o){var l=[],u=e.utils.unwrapObservable(n);!0!==n.__kv_traversed&&(r.deep&&(n.__kv_traversed=!0,s.push(n)),o=void 0!==o?o:r.deep?1:-1,e.isObservable(n)&&(n.isValid||n.extend({validatable:!0}),a.push(n)),u&&(i.isArray(u)?l=u:i.isObject(u)&&(l=i.values(u))),0!==o&&e.utils.arrayForEach(l,function(e){e&&!e.nodeType&&t(e,o+1)}))};return r.observable?(u(t),l(),o=e.computed(function(){var t=[];return e.utils.arrayForEach(a(),function(e){e.isValid()||t.push(e.error)}),t})):o=function(){var n=[];return a([]),u(t),l(),e.utils.arrayForEach(a(),function(e){e.isValid()||n.push(e.error)}),n},o.showAllMessages=function(t){void 0===t&&(t=!0),o(),e.utils.arrayForEach(a(),function(e){e.isModified(t)})},t.errors=o,t.isValid=function(){return 0===t.errors().length},t.isAnyMessageShown=function(){var t=!1;return o(),e.utils.arrayForEach(a(),function(e){!e.isValid()&&e.isModified()&&(t=!0)}),t},o},formatMessage:function(t,n){return"function"==typeof t?t(n):t.replace(/\{0\}/gi,e.utils.unwrapObservable(n))},addRule:function(e,t){return e.extend({validatable:!0}),e.rules.push(t),e},addAnonymousRule:function(t,n){var r=i.newId();void 0===n.message&&(n.message="Error"),e.validation.rules[r]=n,e.validation.addRule(t,{rule:r,params:n.params})},addExtender:function(t){e.extenders[t]=function(n,r){return r.message||r.onlyIf?e.validation.addRule(n,{rule:t,message:r.message,params:!!i.isEmptyVal(r.params)||r.params,condition:r.onlyIf}):e.validation.addRule(n,{rule:t,params:r})}},registerExtenders:function(){if(n.registerExtenders)for(var t in e.validation.rules)e.validation.rules.hasOwnProperty(t)&&(e.extenders[t]||e.validation.addExtender(t))},insertValidationMessage:function(e){var t=document.createElement("SPAN");return t.className=i.getConfigOptions(e).errorMessageClass,i.insertAfter(e,t),t},parseInputValidationAttributes:function(t,n){e.utils.arrayForEach(e.validation.configuration.html5Attributes,function(r){i.hasAttribute(t,r)&&e.validation.addRule(n(),{rule:r,params:t.getAttribute(r)||!0})});var r=t.getAttribute("type");e.utils.arrayForEach(e.validation.configuration.html5InputTypes,function(t){t===r&&e.validation.addRule(n(),{rule:"date"===t?"dateISO":t,params:!0})})},writeInputValidationAttributes:function(t,n){var i=n();if(i&&i.rules){var r=i.rules();e.utils.arrayForEach(e.validation.configuration.html5Attributes,function(n){var i,a=e.utils.arrayFirst(r,function(e){return e.rule.toLowerCase()===n.toLowerCase()});a&&(i=a.params,"pattern"===a.rule&&a.params instanceof RegExp&&(i=a.params.source),t.setAttribute(n,i))}),r=null}},makeBindingHandlerValidatable:function(t){var n=e.bindingHandlers[t].init;e.bindingHandlers[t].init=function(t,i,r,a,o){return n(t,i,r,a,o),e.bindingHandlers.validationCore.init(t,i,r,a,o)}}}}();e.utils.extend(e.validation,o),e.validation.rules={},e.validation.rules.required={validator:function(e,t){var n,i=/^\s+|\s+$/g;return void 0===e||null===e?!t:(n=e,"string"==typeof e&&(n=e.replace(i,"")),!t||(n+"").length>0)},message:"This field is required."},e.validation.rules.min={validator:function(t,n){return e.validation.utils.isEmptyVal(t)||t>=n},message:"Please enter a value greater than or equal to {0}."},e.validation.rules.max={validator:function(t,n){return e.validation.utils.isEmptyVal(t)||t<=n},message:"Please enter a value less than or equal to {0}."},e.validation.rules.minLength={validator:function(t,n){return e.validation.utils.isEmptyVal(t)||t.length>=n},message:"Please enter at least {0} characters."},e.validation.rules.maxLength={validator:function(t,n){return e.validation.utils.isEmptyVal(t)||t.length<=n},message:"Please enter no more than {0} characters."},e.validation.rules.pattern={validator:function(t,n){return e.validation.utils.isEmptyVal(t)||null!==t.toString().match(n)},message:"Please check this value."},e.validation.rules.step={validator:function(t,n){if(e.validation.utils.isEmptyVal(t)||"any"===n)return!0;var i=100*t%(100*n);return Math.abs(i)<1e-5||Math.abs(1-i)<1e-5},message:"The value must increment by {0}"},e.validation.rules.email={validator:function(t,n){return!n||(e.validation.utils.isEmptyVal(t)||n&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t))},message:"Please enter a proper email address"},e.validation.rules.date={validator:function(t,n){return!n||(e.validation.utils.isEmptyVal(t)||n&&!/Invalid|NaN/.test(new Date(t)))},message:"Please enter a proper date"},e.validation.rules.dateISO={validator:function(t,n){return!n||(e.validation.utils.isEmptyVal(t)||n&&/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t))},message:"Please enter a proper date"},e.validation.rules.number={validator:function(t,n){return!n||(e.validation.utils.isEmptyVal(t)||n&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t))},message:"Please enter a number"},e.validation.rules.digit={validator:function(t,n){return!n||(e.validation.utils.isEmptyVal(t)||n&&/^\d+$/.test(t))},message:"Please enter a digit"},e.validation.rules.phoneUS={validator:function(t,n){return!n||(!!e.validation.utils.isEmptyVal(t)||"string"==typeof t&&(t=t.replace(/\s+/g,""),n&&t.length>9&&t.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)))},message:"Please specify a valid phone number"},e.validation.rules.equal={validator:function(t,n){var i=n;return t===e.validation.utils.getValue(i)},message:"Values must equal"},e.validation.rules.notEqual={validator:function(t,n){var i=n;return t!==e.validation.utils.getValue(i)},message:"Please choose another value."},e.validation.rules.unique={validator:function(t,n){var i=e.validation.utils.getValue(n.collection),r=e.validation.utils.getValue(n.externalValue),a=0;return!t||!i||(e.utils.arrayFilter(e.utils.unwrapObservable(i),function(e){t===(n.valueAccessor?n.valueAccessor(e):e)&&a++}),a<(void 0!==r&&t!==r?1:2))},message:"Please make sure the value is unique."},function(){e.validation.registerExtenders()}(),e.bindingHandlers.validationCore=function(){return{init:function(t,n,i,r,a){var o=e.validation.utils.getConfigOptions(t);if(o.parseInputAttributes&&e.validation.utils.async(function(){e.validation.parseInputValidationAttributes(t,n)}),o.insertMessages&&e.validation.utils.isValidatable(n())){var s=e.validation.insertValidationMessage(t);o.messageTemplate?e.renderTemplate(o.messageTemplate,{field:n()},null,s,"replaceNode"):e.applyBindingsToNode(s,{validationMessage:n()})}o.writeInputAttributes&&e.validation.utils.isValidatable(n())&&e.validation.writeInputValidationAttributes(t,n),o.decorateElement&&e.validation.utils.isValidatable(n())&&e.applyBindingsToNode(t,{validationElement:n()})},update:function(e,t,n,i,r){}}}(),e.validation.makeBindingHandlerValidatable("value"),e.validation.makeBindingHandlerValidatable("checked"),e.bindingHandlers.validationMessage={update:function(t,n){var i=n(),r=e.validation.utils.getConfigOptions(t),a=(e.utils.unwrapObservable(i),!1),o=!1;i.extend({validatable:!0}),a=i.isModified(),o=i.isValid();var s=function(){return!r.messagesOnModified||a?o?null:i.error:null},l=function(){return!(r.messagesOnModified&&!a)&&!o};e.bindingHandlers.text.update(t,s),e.bindingHandlers.visible.update(t,l)}},e.bindingHandlers.validationElement={update:function(t,n){var i=n(),r=e.validation.utils.getConfigOptions(t),a=(e.utils.unwrapObservable(i),!1),o=!1;i.extend({validatable:!0}),a=i.isModified(),o=i.isValid();var s=function(){var e={},t=!(r.decorateElementOnModified&&!a)&&!o;return r.decorateElement||(t=!1),e[r.errorElementClass]=t,e};if(e.bindingHandlers.css.update(t,s),r.errorsAsTitle){var l=(e.validation.utils.getAttribute(t,"data-orig-title"),t.title,e.validation.utils.getAttribute(t,"data-orig-title"),function(){if(!r.errorsAsTitleOnModified||a)return o?{title:e.validation.utils.getOriginalElementTitle(t),"data-orig-title":null}:{title:i.error,"data-orig-title":e.validation.utils.getOriginalElementTitle(t)}});e.bindingHandlers.attr.update(t,l)}}},e.bindingHandlers.validationOptions=function(){return{init:function(t,n,i,r,a){var o=e.utils.unwrapObservable(n());if(o){var s=e.utils.extend({},e.validation.configuration);e.utils.extend(s,o),e.validation.utils.setDomData(t,s)}}}}(),e.extenders.validation=function(t,n){return e.utils.arrayForEach(e.validation.utils.isArray(n)?n:[n],function(n){e.validation.addAnonymousRule(t,n)}),t},e.extenders.validatable=function(t,n){if(n&&!e.validation.utils.isValidatable(t)){t.error=e.observable(null),t.rules=e.observableArray(),t.isValidating=e.observable(!1),t.__valid__=e.observable(!0),t.isModified=e.observable(!1);var i=e.computed(function(){t(),t.rules();return e.validation.validateObservable(t),!0});t.isValid=e.computed(function(){return t.__valid__()}),t.setError=function(e){t.error(e),t.__valid__(!1)},t.clearError=function(){t.error(null),t.__valid__(!0)};var r=t.subscribe(function(){t.isModified(!0)});t._disposeValidation=function(){t.isValid.dispose(),t.rules.removeAll(),t.isModified._subscriptions.change=[],t.isValidating._subscriptions.change=[],t.__valid__._subscriptions.change=[],r.dispose(),i.dispose(),delete t.rules,delete t.error,delete t.isValid,delete t.isValidating,delete t.__valid__,delete t.isModified}}else!1===n&&e.validation.utils.isValidatable(t)&&t._disposeValidation&&t._disposeValidation();return t},e.validation.validateObservable=function(t){for(var r,a,o=0,s=t.rules(),l=s.length;o<l;o++)if(a=s[o],!a.condition||a.condition())if(r=e.validation.rules[a.rule],r.async||a.async)i(t,r,a);else if(!n(t,r,a))return!1;return t.error(null),t.__valid__(!0),!0},e.validation.localize=function(t){var n;for(n in t)e.validation.rules.hasOwnProperty(n)&&(e.validation.rules[n].message=t[n])},e.applyBindingsWithValidation=function(t,n,i){var r,a,o=arguments.length;o>2?(r=n,a=i):o<2?r=document.body:arguments[1].nodeType?r=n:a=arguments[1],e.validation.init(),a&&e.validation.utils.setDomData(r,a),e.applyBindings(t,n)};var s=e.applyBindings;e.applyBindings=function(t,n){e.validation.init(),s(t,n)},e.validatedObservable=function(t){if(!e.validation.utils.isObject(t))return e.observable(t).extend({validatable:!0});var n=e.observable(t);return n.errors=e.validation.group(t),n.isValid=e.computed(function(){return 0===n.errors().length}),n}}),function(e){e.fn.mask=function(t,n){e(this).each(function(){if(void 0!==n&&n>0){var i=e(this);i.data("_mask_timeout",setTimeout(function(){e.maskElement(i,t)},n))}else e.maskElement(e(this),t)})},e.fn.unmask=function(){e(this).each(function(){e.unmaskElement(e(this))})},e.fn.isMasked=function(){return this.hasClass("masked")},e.maskElement=function(t,n){void 0!==t.data("_mask_timeout")&&(clearTimeout(t.data("_mask_timeout")),t.removeData("_mask_timeout")),t.isMasked()&&e.unmaskElement(t),"static"==t.css("position")&&t.addClass("masked-relative"),t.addClass("masked");var i=e('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1&&(i.height(t.height()+parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))),i.width(t.width()+parseInt(t.css("padding-left"))+parseInt(t.css("padding-right")))),navigator.userAgent.toLowerCase().indexOf("msie 6")>-1&&t.find("select").addClass("masked-hidden"),t.append(i),void 0!==n){var r=e('<div class="loadmask-msg" style="display:none;"></div>');r.append("<div>"+n+"</div>"),t.append(r),r.css("top",Math.round(t.height()/2-(r.height()-parseInt(r.css("padding-top"))-parseInt(r.css("padding-bottom")))/2)+"px"),r.css("left",Math.round(t.width()/2-(r.width()-parseInt(r.css("padding-left"))-parseInt(r.css("padding-right")))/2)+"px"),r.show()}},e.unmaskElement=function(e){void 0!==e.data("_mask_timeout")&&(clearTimeout(e.data("_mask_timeout")),e.removeData("_mask_timeout")),e.find(".loadmask-msg,.loadmask").remove(),e.removeClass("masked"),e.removeClass("masked-relative"),e.find("select").removeClass("masked-hidden")}}(jQuery),define("jquery.loadmask",["jquery"],function(){}),define("sgioconstructor/main",["jquery","knockout","knockout.mapping","knockout.validation","backbone","jquery.jgrowl","jquery.loadmask"],function(e,t,n){function i(e,t){t=t||";";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),i=[[]],r=null;r=n.exec(e);){var a=r[1];if(a.length&&a!=t&&i.push([]),r[2])var o=r[2].replace(new RegExp('""',"g"),'"');else var o=r[3];i[i.length-1].push(o)}return i}function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({key:n,value:e[n]});return t}t.mapping=n;var a=function(e,t){var n={};for(var i in e)if(!t||t(e[i])){var r=e[i].key;delete e[i].key,n[r]=e[i]}return n},o=function(e){var n=this;this.excelKey=t.computed(function(){return function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");e++;var n,i="";do{n=e%26,i=t[(n||26)-1]+i,e=Math.floor(e/26)}while(e>0);return i}(n.key())}),this.numberKey=t.computed(function(){return"("+(parseInt(n.key())+1)+")"}),this.editorVisible=t.computed(function(){return!!n.selected()||!!n.node_name()}),this.selected=t.observable(!1),this.select=function(){n.selected(!0)},t.mapping.fromJS(e,{},this)},s=function(e){var n={cells_mapping:{key:function(e){return t.utils.unwrapObservable(e.key)},create:function(e){for(var t=[],n=0;n<255;n++)if(e.data[n]){var i=e.data[n];t.push(new o({key:n,store_name:i.store_name,node_name:i.node_name,should_match:i.should_match||null,record_id:i.record_id||0,value_converter:i.value_converter,cast_name:i.cast_name||null}))}else t.push(new o({key:n,store_name:null,node_name:null,should_match:null,record_id:0,value_converter:null,cast_name:null}));return t}}};t.mapping.fromJS(e,n,this)},l=function(e){var n=this;this.addUniqueKey=function(){var e=prompt("Введите название ключа","");e&&-1===n.unique_keys.indexOf(e)&&(n.unique_keys.push(e),n.unique_keys.sort())},this.removeUniqueKey=function(e){n.unique_keys.remove(e)},this.addGlobalKey=function(){var e=prompt("Введите название ключа","");e&&-1===n.take_globals.indexOf(e)&&(n.take_globals.push(e),n.take_globals.sort())},this.removeGlobalKey=function(e){n.take_globals.remove(e)},this.key=t.observable(e.key),e.value?(this.global_unique_keys=t.observable(e.value.global_unique_keys),this.required=t.observable(e.value.required),this.take_globals=t.observableArray(e.value.take_globals),this.unique_keys=t.observableArray(e.value.unique_keys)):(this.global_unique_keys=t.observable(!1),this.required=t.observable(!1),this.take_globals=t.observableArray([]),this.unique_keys=t.observableArray([]))},u=function(e){e.decode_table=e.decode_table||"",t.mapping.fromJS(e,{},this)},c=function(e){var n=this;n.verbose_name=e.verbose_name||"",n.verbose_name_plural=e.verbose_name_plural||"",n.storage=e.storage||"",n.addField=function(){var e=prompt("Введите кодовое название (желательно англ.)","");e&&n.fields.push({key:e,verbose_name:e,decode_table:""})},n.removeField=function(e){confirm('Точно удалить "'+e.key()+'"?')&&n.fields.remove(e)},n.moveUp=function(e){var t=n.fields.indexOf(e);if(t>=1){var i=n.fields();n.fields.splice(t-1,2,i[t],i[t-1])}},n.moveDown=function(e){var t=n.fields.indexOf(e),i=n.fields();t<i.length-1&&n.fields.splice(t,2,i[t+1],i[t])};var i={ignore:["__ko_mapping__"],fields:{key:function(e){return t.utils.unwrapObservable(e.key)},create:function(e){return new u(e.data)}}};t.mapping.fromJS(e,i,this)},d=function(n){var a=this;n=n||{},a.value=n.value?t.observableArray(r(n.value)):new t.observableArray([]),t.mapping.fromJS(n,{},this),a.addDecodeTableRecord=function(t){var n=prompt("Введите название и значение ключа через точку с запятой (;)","");if(n){var r=i(n,";");1===r.length&&(r[0].length>=2?(a.value.push({key:r[0][0].replace(/^\s+|\s+$/g,""),value:r[0][1].replace(/^\s+|\s+$/g,"")}),a.value.sort(function(e,t){return e.key>t.key?1:-1})):e.jGrowl("Ключ и значение введены неправильно",{sticky:!1,theme:"warning"}))}},a.removeDecodeTableRecord=function(e){confirm('Точно удалить запись "'+e.key+'"?')&&a.value.remove(e)},a._csvImportDialogOpened=t.observable(!1),a._csvData=t.observable(""),a.toggleCsvImportDialog=function(){a._csvImportDialogOpened(!a._csvImportDialogOpened())},a.importCsv=function(){e(".ioconstructor").mask("Импортируем");var t=i(a._csvData(),";");if(t.length>0){a.value([]);for(var n=0;n<t.length;n++)t[n].length>=2&&a.value.push({key:t[n][0].replace(/^\s+|\s+$/g,""),value:t[n][1].replace(/^\s+|\s+$/g,"")});a.value.sort(function(e,t){return e.key>t.key?1:-1}),a._csvData(""),a.toggleCsvImportDialog(),e(".ioconstructor").unmask()}}},f=function(n,i){var o=this;n=n||{},o._id=n._id,o._type=n._type,n.table_schema=n.table_schema||new t.observableArray,o.remove=function(){confirm("Точно удалить проект ?")&&(e(".ioconstructor").mask("Удаляем ..."),e.post("/collect/ioconstructor/api/modules/"+o._id+"/remove/",{},function(t){e.jGrowl(t.message,{sticky:!1,theme:t.result}),"success"===t.result&&(i.moduleLoaded(!1),i.module(null),i.modules.remove(function(e){return e.id===o._id}),i.selectedModule(null))},"json").fail(function(){e.jGrowl("Проблема при обращении к серверу",{sticky:!1,theme:"error"})}).always(function(){e(".ioconstructor").unmask()}))},o.clone=function(){var t=prompt("Введите название нового проекта","");t&&(e(".ioconstructor").mask("Клонируем ..."),e.post("/collect/ioconstructor/api/modules/"+o._id+"/clone/",{new_name:t},function(n){i.modules.push({id:n.new_id,name:t}),i.selectedModule(n.new_id),i.onModuleSelect(),e.jGrowl("Клон создан",{sticky:!1,theme:"success"}),e(".ioconstructor").unmask()},"json").fail(function(){e.jGrowl("Проблема при обращении к серверу",{sticky:!1,theme:"error"})}).always(function(){e(".ioconstructor").unmask()}))},o.save=function(){e(".ioconstructor").mask("Общаемся с сервером");var n=t.mapping.toJS(o);n.decode_tables=a(n.decode_tables,null);for(var i in n.decode_tables){var r={};for(var s in n.decode_tables[i].value)r[n.decode_tables[i].value[s].key]=n.decode_tables[i].value[s].value;n.decode_tables[i]=r}e.post("/collect/ioconstructor/api/modules/"+o._id+"/",{config:JSON.stringify(n,null,4)},function(t){e.jGrowl(t.message,{sticky:!1,theme:t.result})},"json").fail(function(){e.jGrowl("Проблема при обращении к серверу",{sticky:!1,theme:"error"})}).always(function(){e(".ioconstructor").unmask()})};var s={ignore:["global_keys","__ko_mapping__","_id","_type"],name:{create:function(e){return t.observable(e.data)}},table_schema:{key:function(e){return t.utils.unwrapObservable(e.key)},create:function(e){return new c(e.data)}},decode_tables:{key:function(e){return t.utils.unwrapObservable(e.key)},create:function(e){var n=t.observableArray([]),i=r(e.data);for(var a in i)n.push(new d(i[a]));return n}}};o.addDecodeTable=function(e){var n=prompt("Введите название таблицы перекодирования","");n&&-1===o.decode_tables.indexOf(n)&&(o.decode_tables.push(new d({key:n,value:t.observableArray()})),o.decode_tables.sort())},o.removeDecodeTable=function(e){confirm('Точно удалить схему "'+e.key()+'"?')&&o.decode_tables.remove(e)},t.mapping.fromJS(n,s,o)},p=function(n,i){var o=this;n=n||{},o._id=n._id,o._type=n._type,n.row_handlers=n.row_handlers||new t.observableArray,o.availableStorages=t.observableArray([{key:null}]),o.addRequiredStorage=function(){var e=prompt("Введите кодовое название (желательно англ.)","");e&&-1===o.required_storages.indexOf(e)&&(o.required_storages.push(new l({key:e})),o.row_handlers.sort())},o.removeRequiredStorage=function(e){confirm('Точно удалить "'+e.key()+'"?')&&o.required_storages.remove(e)},o.addRowHandler=function(){var e=prompt("Введите название обработчика строки","");e&&-1===o.row_handlers.indexOf(e)&&(o.row_handlers.push(new s({verbose_name:e,cells_mapping:{}})),o.row_handlers.sort())},o.removeRowHandler=function(e){confirm('Точно удалить обработчик строки "'+e.verbose_name()+'"?')&&o.row_handlers.remove(e)},o.remove=function(){confirm("Точно удалить проект ?")&&(e(".ioconstructor").mask("Удаляем ..."),e.post("/collect/ioconstructor/api/modules/"+o._id+"/remove/",{},function(t){e.jGrowl(t.message,{sticky:!1,theme:t.result}),"success"===t.result&&(i.moduleLoaded(!1),i.module(null),i.modules.remove(function(e){return e.id===o._id}),i.selectedModule(null))},"json").fail(function(){e.jGrowl("Проблема при обращении к серверу",{sticky:!1,theme:"error"})}).always(function(){e(".ioconstructor").unmask()}))},o.clone=function(){var t=prompt("Введите название нового проекта","");t&&(e(".ioconstructor").mask("Клонируем ..."),e.post("/collect/ioconstructor/api/modules/"+o._id+"/clone/",{new_name:t},function(n){i.modules.push({id:n.new_id,name:t}),i.selectedModule(n.new_id),i.onModuleSelect(),e.jGrowl("Клон создан",{sticky:!1,theme:"success"}),e(".ioconstructor").unmask()},"json").fail(function(){e.jGrowl("Проблема при обращении к серверу",{sticky:!1,theme:"error"})}).always(function(){e(".ioconstructor").unmask()}))},o.save=function(){
e(".ioconstructor").mask("Общаемся с сервером");var n=t.mapping.toJS(o);for(var i in n.row_handlers)n.row_handlers[i].cells_mapping=a(n.row_handlers[i].cells_mapping,function(e){return!!e.node_name});n.required_storages=a(n.required_storages,null),e.post("/collect/ioconstructor/api/modules/"+o._id+"/",{config:JSON.stringify(n,null,4)},function(t){e.jGrowl(t.message,{sticky:!1,theme:t.result})},"json").fail(function(){e.jGrowl("Проблема при обращении к серверу",{sticky:!1,theme:"error"})}).always(function(){e(".ioconstructor").unmask()})};var u={ignore:["global_keys","__ko_mapping__","condition_cells","_id"],name:{create:function(e){return t.observable(e.data)}},required_storages:{key:function(e){return t.utils.unwrapObservable(e.key)},create:function(e){var n=t.observableArray([]),i=r(e.data);for(var a in i)n.push(new l(i[a]));return n}},row_handlers:{key:function(e){return t.utils.unwrapObservable(e.key)},create:function(e){return new s(e.data)}}};t.mapping.fromJS(n,u,o)},h=function(n){var i=this;e(".ioconstructor").mask("Загружаем интерфейс"),i.modules=t.observableArray([{name:"Выберите модуль импорта",id:null}]),e.getJSON("/collect/ioconstructor/api/modules/",function(e){i.modules(e)}).always(function(){e(".ioconstructor").unmask()}),i.module=t.observable(),i.selectedModule=t.observable(),i.moduleLoaded=t.observable(!1),this.selectedModuleName=t.computed(function(){if(i.selectedModule){var e=t.utils.arrayFirst(i.modules(),function(e){return e.id===i.selectedModule()});if(e)return e.name}}),this.selectedModuleType=t.computed(function(){if(i.selectedModule){var e=t.utils.arrayFirst(i.modules(),function(e){return e.id===i.selectedModule()});if(e)return e.type}}),this.onModuleSelect=function(){i.selectedModule()?(i.moduleLoaded(!1),e(".ioconstructor").mask("Загружаем модуль"),e.getJSON("/collect/ioconstructor/api/modules/"+i.selectedModule()+"/",function(e){e._id=i.selectedModule(),e._type=i.selectedModuleType(),"import"===e._type?i.module(new p(e,i)):i.module(new f(e,i)),i.moduleLoaded(!0)}).always(function(){e(".ioconstructor").unmask()})):(i.moduleLoaded(!1),i.module(null))},i.vc=t.observableArray([{name:"Оставить исходное значение",value:null}]),e.getJSON("/collect/ioconstructor/api/vc/",function(t){e.each(t,function(e,t){i.vc.push({name:t,value:t})})})};e(function(){if(e(".ioconstructor")[0]){var n=new h([]);t.applyBindings(n,e(".ioconstructor")[0])}})}),define("text!sgreport/templates/group.html",[],function(){return'\n<ul class="breadcrumb">\n  <li><a href="/#publications">Публикации</a> <span class="divider">/</span></li>\n  <li><a href="/#<%= publication.id %>"><%= (publication.name.length > 50) ? publication.name.slice(0, 50) + \'...\' : publication.name %></a> <span class="divider">/</span></li>\n  <li class="active">Ход работы</li>\n</ul>\n\n<h4><%= publication.name %></h4>\n\n<div class="well well-small statistic-filter">\n    <div class="inline-block">\n        <p class="statistic-filter_title"><%= filters_schema.files.title %></p>\n        <div class="btn-group" data-toggle="buttons-radio">\n          <% _.each(filters_schema.files.list, function(item) { %>\n          <button\n                  type="button"\n                  class="js-statistic-filter btn btn-small btn-default <%= ( item.value === filters.files ) ? \'active\': \'\'  %>"\n                  data-value="<%= item.value %>"\n                  data-type="files"><%= item.title %></button>\n          <% }) %>\n        </div>\n    </div>\n    <div class="inline-block">\n        <p class="statistic-filter_title"><%= filters_schema.report.title %></p>\n        <div class="btn-group" data-toggle="buttons-radio">\n          <% _.each(filters_schema.report.list, function(item) { %>\n          <button type="button"\n                  class="js-statistic-filter btn btn-small btn-default <%= ( item.value === filters.report ) ? \'active\': \'\'  %>"\n                  data-value="<%= item.value %>"\n                  data-type="report"><%= item.title %></button>\n          <% }) %>\n        </div>\n    </div>\n</div>\n\n<table class="table table-striped table-report-statistic table-condensed">\n  <thead>\n    <tr>\n      <th class="table-report__statistic_col-head table-report__statistic_col-login">Логин</th>\n      <th class="table-report__statistic_col-head table-report__statistic_col-name">Школа</th>\n      <th class="table-report__statistic_col-head table-report__statistic_col-file">\n        <span>Файлы</span>\n        <i class="fa js-statistic-sort statistic-sort\n            <% if (data.sort.sort_fld === \'file\') { %>\n                fa-sort-<%= data.sort.sort_type %>\n            <% } else { %>\n                fa-sort\n            <% } %>"\n            data-sort-fld="file"\n            data-sort-type="<%= (data.sort.sort_type === \'asc\' && data.sort.sort_fld === \'file\') ? \'desc\' : \'asc\'%>">\n        </i>\n      </th>\n\n      <th class="table-report__statistic_col-head table-report__statistic_col-report">\n        <span>Отчет</span>\n        <i class="fa js-statistic-sort statistic-sort\n            <% if (data.sort.sort_fld === \'report\') { %>\n                fa-sort-<%= data.sort.sort_type %>\n            <% } else { %>\n                fa-sort\n            <% } %>"\n            data-sort-fld="report"\n            data-sort-type="<%= (data.sort.sort_type === \'asc\' && data.sort.sort_fld === \'report\') ? \'desc\' : \'asc\'%>">\n        </i>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n<% if (data.users.length) { %>\n    <%= template_item({data:data, perms: perms}) %>\n<% } else { %>\n    <tr>\n        <td colspan="4">Нет таких пользователей</td>\n    </tr>\n<% }%>\n  </tbody>\n</table>\n\n'}),define("text!sgreport/templates/group_item.html",[],function(){return'<% _.each(data.users, function(item) { %>\n<tr>\n  <td><%= item.login %></td>\n  <td><%= item.name %></td>\n  <td class="table-report__statistic_col-file"><%= item.num_download %> из <%= data.num_files %></td>\n  <td class="table-report__statistic_col-report">\n      <% if (_.isNull(item.record_created)) { %>\n        не сдан\n      <% } else { %>\n        <% if (perms) { %><a href="/collect/<%= data.project_id %>/records/<%= item.record_id %>" target="_blank"><% } %>\n            <%= item.record_created %>\n        <% if (perms) { %></a><% } %>\n      <% } %>\n  </td>\n</tr>\n<% }) %>\n'}),define("sgreport/views/statistic",["jquery","underscore","backbone","sgreport/models/group","text!sgreport/templates/group.html","text!sgreport/templates/group_item.html"],function(e,t,n,i,r,a){return n.View.extend({template_group:t.template(r),template_group_item:t.template(a),default_sort:{sort_fld:"file",sort_type:"desc"},default_filter:{files:"",report:""},filter_schema:{files:{title:"Скачанные файлы:",list:[{title:"все",value:"all"},{title:"часть",value:"part"},{title:"ни одного",value:"zero"}]},report:{title:"Отчет:",list:[{title:"сдан",value:"done"},{title:"не сдан",value:"fail"}]}},events:{"click .js-statistic-sort":"sort","click .js-statistic-filter":"filter"},initialize:function(e){this.publication_id=this.$el.data("publication-id"),this.group_id=this.$el.data("group-id"),this.perms=this.$el.data("perms"),this.model=new i({publication_id:this.publication_id,group_id:this.group_id,sort:this.default_sort,filters:this.default_filter}),this.model.on("sync",this.render.bind(this)),this.model.on("error",this.renderError.bind(this)),this.model.getPublicationData()},sort:function(t){var n=e(t.target);this.model.sort.sort_fld=n.data("sort-fld"),this.model.sort.sort_type=n.data("sort-type"),this.render()},renderError:function(e,t){t&&403===t.status?this.$el.html('<h4 class="text-center text-loader">У вас недостаточно прав для просмотра этого материала.</h4>'):this.$el.html('<h4 class="text-center text-loader">Произошла ошибка, обратитесь в <a href="/helpdesk/" target="_blank">службу поддержки</a>.</h4>')},filter:function(t){var n=e(t.target);n.hasClass("active")?(this.model.filters[n.data("type")]="",n.removeClass("active")):this.model.filters[n.data("type")]=n.data("value"),this.render()},render:function(){var e=this.template_group({perms:this.perms,data:this.model.getUsersData(),filters_schema:this.filter_schema,filters:this.model.filters,template_item:this.template_group_item,publication:this.model.publications.get(this.publication_id).toJSON()});this.$el.html(e)}})}),define("sgreport/main",["jquery","sgreport/views/statistic"],function(e,t){e(function(){var n=e("#collect_report");if(n.length){new t({el:n})}})}),require(["main"],function(e,t){require(["jquery","moment","jquery.jgrowl","jquery.hashchange","bootstrap","sguploader/main","sgkb/main","sgpayment/main","sgpayment-yandex/main","sgneofeed/main","sgsupport/main","sgioconstructor/main","sgreport/main","json2"],function(e,t){t.lang("ru"),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e(function(){function t(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function n(e){var t=document.location.host,n=document.location.protocol,i="//"+t,r=n+i;return e==r||e.slice(0,r.length+1)==r+"/"||e==i||e.slice(0,i.length+1)==i+"/"||!/^(\/\/|http:|https:).*/.test(e)}function i(){""==e(this).val()&&e(this).val(e(this).attr("placeholder")).addClass("placeholder")}function r(){e(this).val()==e(this).attr("placeholder")&&e(this).val("").removeClass("placeholder")}var a=function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var r=jQuery.trim(n[i]);if(r.substring(0,e.length+1)==e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}("csrftoken");if(e.ajaxSetup({cache:!1,beforeSend:function(e,i){!t(i.type)&&n(i.url)&&e.setRequestHeader("X-CSRFToken",a)}}),e.jGrowl.defaults.position="top-right",e.jGrowl.defaults.closerTemplate="<div>Закрыть все</div>",e.jGrowl.defaults.life=15e3,e(".server-message").each(function(t,n){e.jGrowl(e(n).html(),{sticky:e(n).data("sticky"),theme:e(n).data("type")})}),e(".alert").alert(),e(".alert .close").click(function(){e(this).parent().fadeOut("fast")}),e(".instantshow").modal({show:!0}),"placeholder"in e("<input>")[0]||(e("input[placeholder]").blur(i).focus(r).each(i),e("form").submit(function(){e(this).find("input[placeholder]").each(r)})),window.updateCollectProject=function(t){e.get("/collect/"+t+"/history/",{},function(n){var i=e("#project-history-"+t);i.val(0)&&i.fadeOut("slow",function(){e(this).html(n).fadeIn()})})},window.updateCollectProjects=function(){e.get("/collect/history/",{},function(t){var n=e("#projects-history");n.val(0)&&n.fadeOut("slow",function(){e(this).html(t).fadeIn()})})},e("#raw-export-status").length){var o=e("#raw-export-status"),s=o.data("projectId"),l=function(){e.get("/collect/"+s+"/raw_export_status/",function(e){o.html(e)})};setInterval(l,5e3),e(document).on("click","#start-raw-export",function(t){return t.stopPropagation(),t.stopImmediatePropagation(),e.get("/collect/"+s+"/raw_export/",function(t){l(),e.jGrowl(t,{theme:"info"})}),!1})}if(e("#export-status").length){var u=e("#export-status");s=u.data("projectId");var c=function(){e.get("/collect/"+s+"/export_status/",function(e){u.html(e)})};setInterval(c,5e3),e(document).on("click","#start-export-csv",function(t){return t.stopPropagation(),t.stopImmediatePropagation(),e.get("/collect/"+s+"/export/",{format:"csv",share:!0},function(t){c(),e.jGrowl(t,{theme:"info"})}),!1})}window.updateIncomes=function(t){e.post("/accounts/balance_ajax",{limit:t},function(t){e("#incomes").val(0)&&e("#incomes").fadeOut("slow",function(){e(this).html(t).fadeIn()})})},window.updateBalanceDisplay=function(t){e(".balance").each(function(){var n=function(){e(this).html(t)};e(this).animate({opacity:.1},150,n).animate({opacity:1},300)})},e(document).on("click",".js-captcha-refresh",function(t){return t.stopPropagation(),t.stopImmediatePropagation(),$form=e(this).parents("form"),e.getJSON(e(this).parent().find("#id_captcha_refresh_url").val(),{},function(e){$form.find(".captcha").attr("src",e.image_url),$form.find("#id_captcha_0").val(e.key)}),!1});var d=e("#fld-hash"),f=function(e){var t=e.substring(e.indexOf("#")+1);d.val(t)};f(window.location.hash),e(window).hashchange(function(){f(window.location.hash)});var p=function(){var t=setTimeout(function(){e.ajax({url:"/",success:function(){clearTimeout(t),p()},error:function(){window.location.reload(),clearTimeout(t)}})},3e5)};p()})})}),define("front.js",function(){});